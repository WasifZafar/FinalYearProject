var cN=Object.defineProperty;var dN=(t,e,n)=>e in t?cN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Sl=(t,e,n)=>dN(t,typeof e!="symbol"?e+"":e,n);function hN(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function OI(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var DI={exports:{}},Rf={},MI={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oc=Symbol.for("react.element"),fN=Symbol.for("react.portal"),pN=Symbol.for("react.fragment"),mN=Symbol.for("react.strict_mode"),gN=Symbol.for("react.profiler"),yN=Symbol.for("react.provider"),vN=Symbol.for("react.context"),_N=Symbol.for("react.forward_ref"),wN=Symbol.for("react.suspense"),EN=Symbol.for("react.memo"),SN=Symbol.for("react.lazy"),gE=Symbol.iterator;function CN(t){return t===null||typeof t!="object"?null:(t=gE&&t[gE]||t["@@iterator"],typeof t=="function"?t:null)}var LI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},VI=Object.assign,FI={};function Ha(t,e,n){this.props=t,this.context=e,this.refs=FI,this.updater=n||LI}Ha.prototype.isReactComponent={};Ha.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ha.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function $I(){}$I.prototype=Ha.prototype;function Cv(t,e,n){this.props=t,this.context=e,this.refs=FI,this.updater=n||LI}var Tv=Cv.prototype=new $I;Tv.constructor=Cv;VI(Tv,Ha.prototype);Tv.isPureReactComponent=!0;var yE=Array.isArray,jI=Object.prototype.hasOwnProperty,Iv={current:null},UI={key:!0,ref:!0,__self:!0,__source:!0};function BI(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)jI.call(e,r)&&!UI.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:oc,type:t,key:s,ref:o,props:i,_owner:Iv.current}}function TN(t,e){return{$$typeof:oc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function bv(t){return typeof t=="object"&&t!==null&&t.$$typeof===oc}function IN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var vE=/\/+/g;function Tm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?IN(""+t.key):e.toString(36)}function Ad(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case oc:case fN:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Tm(o,0):r,yE(i)?(n="",t!=null&&(n=t.replace(vE,"$&/")+"/"),Ad(i,e,n,"",function(c){return c})):i!=null&&(bv(i)&&(i=TN(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(vE,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",yE(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Tm(s,a);o+=Ad(s,e,n,l,i)}else if(l=CN(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Tm(s,a++),o+=Ad(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Yc(t,e,n){if(t==null)return t;var r=[],i=0;return Ad(t,r,"","",function(s){return e.call(n,s,i++)}),r}function bN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Cn={current:null},Nd={transition:null},xN={ReactCurrentDispatcher:Cn,ReactCurrentBatchConfig:Nd,ReactCurrentOwner:Iv};function zI(){throw Error("act(...) is not supported in production builds of React.")}Ee.Children={map:Yc,forEach:function(t,e,n){Yc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Yc(t,function(){e++}),e},toArray:function(t){return Yc(t,function(e){return e})||[]},only:function(t){if(!bv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ee.Component=Ha;Ee.Fragment=pN;Ee.Profiler=gN;Ee.PureComponent=Cv;Ee.StrictMode=mN;Ee.Suspense=wN;Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xN;Ee.act=zI;Ee.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=VI({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Iv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)jI.call(e,l)&&!UI.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:oc,type:t.type,key:i,ref:s,props:r,_owner:o}};Ee.createContext=function(t){return t={$$typeof:vN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:yN,_context:t},t.Consumer=t};Ee.createElement=BI;Ee.createFactory=function(t){var e=BI.bind(null,t);return e.type=t,e};Ee.createRef=function(){return{current:null}};Ee.forwardRef=function(t){return{$$typeof:_N,render:t}};Ee.isValidElement=bv;Ee.lazy=function(t){return{$$typeof:SN,_payload:{_status:-1,_result:t},_init:bN}};Ee.memo=function(t,e){return{$$typeof:EN,type:t,compare:e===void 0?null:e}};Ee.startTransition=function(t){var e=Nd.transition;Nd.transition={};try{t()}finally{Nd.transition=e}};Ee.unstable_act=zI;Ee.useCallback=function(t,e){return Cn.current.useCallback(t,e)};Ee.useContext=function(t){return Cn.current.useContext(t)};Ee.useDebugValue=function(){};Ee.useDeferredValue=function(t){return Cn.current.useDeferredValue(t)};Ee.useEffect=function(t,e){return Cn.current.useEffect(t,e)};Ee.useId=function(){return Cn.current.useId()};Ee.useImperativeHandle=function(t,e,n){return Cn.current.useImperativeHandle(t,e,n)};Ee.useInsertionEffect=function(t,e){return Cn.current.useInsertionEffect(t,e)};Ee.useLayoutEffect=function(t,e){return Cn.current.useLayoutEffect(t,e)};Ee.useMemo=function(t,e){return Cn.current.useMemo(t,e)};Ee.useReducer=function(t,e,n){return Cn.current.useReducer(t,e,n)};Ee.useRef=function(t){return Cn.current.useRef(t)};Ee.useState=function(t){return Cn.current.useState(t)};Ee.useSyncExternalStore=function(t,e,n){return Cn.current.useSyncExternalStore(t,e,n)};Ee.useTransition=function(){return Cn.current.useTransition()};Ee.version="18.3.1";MI.exports=Ee;var S=MI.exports;const Er=OI(S),bg=hN({__proto__:null,default:Er},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RN=S,kN=Symbol.for("react.element"),PN=Symbol.for("react.fragment"),AN=Object.prototype.hasOwnProperty,NN=RN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ON={key:!0,ref:!0,__self:!0,__source:!0};function WI(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)AN.call(e,r)&&!ON.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:kN,type:t,key:s,ref:o,props:i,_owner:NN.current}}Rf.Fragment=PN;Rf.jsx=WI;Rf.jsxs=WI;DI.exports=Rf;var I=DI.exports,xg={},HI={exports:{}},Yn={},qI={exports:{}},KI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,H){var Y=F.length;F.push(H);e:for(;0<Y;){var ne=Y-1>>>1,re=F[ne];if(0<i(re,H))F[ne]=H,F[Y]=re,Y=ne;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var H=F[0],Y=F.pop();if(Y!==H){F[0]=Y;e:for(var ne=0,re=F.length,ee=re>>>1;ne<ee;){var ce=2*(ne+1)-1,xe=F[ce],Pe=ce+1,Ae=F[Pe];if(0>i(xe,Y))Pe<re&&0>i(Ae,xe)?(F[ne]=Ae,F[Pe]=Y,ne=Pe):(F[ne]=xe,F[ce]=Y,ne=ce);else if(Pe<re&&0>i(Ae,Y))F[ne]=Ae,F[Pe]=Y,ne=Pe;else break e}}return H}function i(F,H){var Y=F.sortIndex-H.sortIndex;return Y!==0?Y:F.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,f=3,g=!1,v=!1,T=!1,x=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(F){for(var H=n(c);H!==null;){if(H.callback===null)r(c);else if(H.startTime<=F)r(c),H.sortIndex=H.expirationTime,e(l,H);else break;H=n(c)}}function P(F){if(T=!1,E(F),!v)if(n(l)!==null)v=!0,j(D);else{var H=n(c);H!==null&&Q(P,H.startTime-F)}}function D(F,H){v=!1,T&&(T=!1,_(b),b=-1),g=!0;var Y=f;try{for(E(H),h=n(l);h!==null&&(!(h.expirationTime>H)||F&&!C());){var ne=h.callback;if(typeof ne=="function"){h.callback=null,f=h.priorityLevel;var re=ne(h.expirationTime<=H);H=t.unstable_now(),typeof re=="function"?h.callback=re:h===n(l)&&r(l),E(H)}else r(l);h=n(l)}if(h!==null)var ee=!0;else{var ce=n(c);ce!==null&&Q(P,ce.startTime-H),ee=!1}return ee}finally{h=null,f=Y,g=!1}}var M=!1,R=null,b=-1,k=5,m=-1;function C(){return!(t.unstable_now()-m<k)}function O(){if(R!==null){var F=t.unstable_now();m=F;var H=!0;try{H=R(!0,F)}finally{H?N():(M=!1,R=null)}}else M=!1}var N;if(typeof w=="function")N=function(){w(O)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,z=W.port2;W.port1.onmessage=O,N=function(){z.postMessage(null)}}else N=function(){x(O,0)};function j(F){R=F,M||(M=!0,N())}function Q(F,H){b=x(function(){F(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,j(D))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(f){case 1:case 2:case 3:var H=3;break;default:H=f}var Y=f;f=H;try{return F()}finally{f=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,H){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var Y=f;f=F;try{return H()}finally{f=Y}},t.unstable_scheduleCallback=function(F,H,Y){var ne=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?ne+Y:ne):Y=ne,F){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=Y+re,F={id:d++,callback:H,priorityLevel:F,startTime:Y,expirationTime:re,sortIndex:-1},Y>ne?(F.sortIndex=Y,e(c,F),n(l)===null&&F===n(c)&&(T?(_(b),b=-1):T=!0,Q(P,Y-ne))):(F.sortIndex=re,e(l,F),v||g||(v=!0,j(D))),F},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(F){var H=f;return function(){var Y=f;f=H;try{return F.apply(this,arguments)}finally{f=Y}}}})(KI);qI.exports=KI;var DN=qI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MN=S,Qn=DN;function q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var GI=new Set,Cu={};function vo(t,e){Ta(t,e),Ta(t+"Capture",e)}function Ta(t,e){for(Cu[t]=e,t=0;t<e.length;t++)GI.add(e[t])}var mi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rg=Object.prototype.hasOwnProperty,LN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_E={},wE={};function VN(t){return Rg.call(wE,t)?!0:Rg.call(_E,t)?!1:LN.test(t)?wE[t]=!0:(_E[t]=!0,!1)}function FN(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function $N(t,e,n,r){if(e===null||typeof e>"u"||FN(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Tn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Jt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Jt[t]=new Tn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Jt[e]=new Tn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Jt[t]=new Tn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Jt[t]=new Tn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Jt[t]=new Tn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Jt[t]=new Tn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Jt[t]=new Tn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Jt[t]=new Tn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Jt[t]=new Tn(t,5,!1,t.toLowerCase(),null,!1,!1)});var xv=/[\-:]([a-z])/g;function Rv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(xv,Rv);Jt[e]=new Tn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(xv,Rv);Jt[e]=new Tn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(xv,Rv);Jt[e]=new Tn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Jt[t]=new Tn(t,1,!1,t.toLowerCase(),null,!1,!1)});Jt.xlinkHref=new Tn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Jt[t]=new Tn(t,1,!1,t.toLowerCase(),null,!0,!0)});function kv(t,e,n,r){var i=Jt.hasOwnProperty(e)?Jt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&($N(e,n,i,r)&&(n=null),r||i===null?VN(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ki=MN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xc=Symbol.for("react.element"),Ko=Symbol.for("react.portal"),Go=Symbol.for("react.fragment"),Pv=Symbol.for("react.strict_mode"),kg=Symbol.for("react.profiler"),QI=Symbol.for("react.provider"),YI=Symbol.for("react.context"),Av=Symbol.for("react.forward_ref"),Pg=Symbol.for("react.suspense"),Ag=Symbol.for("react.suspense_list"),Nv=Symbol.for("react.memo"),zi=Symbol.for("react.lazy"),XI=Symbol.for("react.offscreen"),EE=Symbol.iterator;function Cl(t){return t===null||typeof t!="object"?null:(t=EE&&t[EE]||t["@@iterator"],typeof t=="function"?t:null)}var ft=Object.assign,Im;function zl(t){if(Im===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Im=e&&e[1]||""}return`
`+Im+t}var bm=!1;function xm(t,e){if(!t||bm)return"";bm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{bm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?zl(t):""}function jN(t){switch(t.tag){case 5:return zl(t.type);case 16:return zl("Lazy");case 13:return zl("Suspense");case 19:return zl("SuspenseList");case 0:case 2:case 15:return t=xm(t.type,!1),t;case 11:return t=xm(t.type.render,!1),t;case 1:return t=xm(t.type,!0),t;default:return""}}function Ng(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Go:return"Fragment";case Ko:return"Portal";case kg:return"Profiler";case Pv:return"StrictMode";case Pg:return"Suspense";case Ag:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case YI:return(t.displayName||"Context")+".Consumer";case QI:return(t._context.displayName||"Context")+".Provider";case Av:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Nv:return e=t.displayName||null,e!==null?e:Ng(t.type)||"Memo";case zi:e=t._payload,t=t._init;try{return Ng(t(e))}catch{}}return null}function UN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ng(e);case 8:return e===Pv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ps(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function JI(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function BN(t){var e=JI(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Jc(t){t._valueTracker||(t._valueTracker=BN(t))}function ZI(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=JI(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function lh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Og(t,e){var n=e.checked;return ft({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function SE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ps(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function e1(t,e){e=e.checked,e!=null&&kv(t,"checked",e,!1)}function Dg(t,e){e1(t,e);var n=ps(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Mg(t,e.type,n):e.hasOwnProperty("defaultValue")&&Mg(t,e.type,ps(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function CE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Mg(t,e,n){(e!=="number"||lh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Wl=Array.isArray;function la(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ps(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Lg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(q(91));return ft({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function TE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(q(92));if(Wl(n)){if(1<n.length)throw Error(q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ps(n)}}function t1(t,e){var n=ps(e.value),r=ps(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function IE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function n1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?n1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Zc,r1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Zc=Zc||document.createElement("div"),Zc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Zc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Tu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var eu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zN=["Webkit","ms","Moz","O"];Object.keys(eu).forEach(function(t){zN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),eu[e]=eu[t]})});function i1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||eu.hasOwnProperty(t)&&eu[t]?(""+e).trim():e+"px"}function s1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=i1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var WN=ft({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fg(t,e){if(e){if(WN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(q(62))}}function $g(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jg=null;function Ov(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ug=null,ua=null,ca=null;function bE(t){if(t=uc(t)){if(typeof Ug!="function")throw Error(q(280));var e=t.stateNode;e&&(e=Of(e),Ug(t.stateNode,t.type,e))}}function o1(t){ua?ca?ca.push(t):ca=[t]:ua=t}function a1(){if(ua){var t=ua,e=ca;if(ca=ua=null,bE(t),e)for(t=0;t<e.length;t++)bE(e[t])}}function l1(t,e){return t(e)}function u1(){}var Rm=!1;function c1(t,e,n){if(Rm)return t(e,n);Rm=!0;try{return l1(t,e,n)}finally{Rm=!1,(ua!==null||ca!==null)&&(u1(),a1())}}function Iu(t,e){var n=t.stateNode;if(n===null)return null;var r=Of(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(q(231,e,typeof n));return n}var Bg=!1;if(mi)try{var Tl={};Object.defineProperty(Tl,"passive",{get:function(){Bg=!0}}),window.addEventListener("test",Tl,Tl),window.removeEventListener("test",Tl,Tl)}catch{Bg=!1}function HN(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var tu=!1,uh=null,ch=!1,zg=null,qN={onError:function(t){tu=!0,uh=t}};function KN(t,e,n,r,i,s,o,a,l){tu=!1,uh=null,HN.apply(qN,arguments)}function GN(t,e,n,r,i,s,o,a,l){if(KN.apply(this,arguments),tu){if(tu){var c=uh;tu=!1,uh=null}else throw Error(q(198));ch||(ch=!0,zg=c)}}function _o(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function d1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function xE(t){if(_o(t)!==t)throw Error(q(188))}function QN(t){var e=t.alternate;if(!e){if(e=_o(t),e===null)throw Error(q(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return xE(i),t;if(s===r)return xE(i),e;s=s.sibling}throw Error(q(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?t:e}function h1(t){return t=QN(t),t!==null?f1(t):null}function f1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=f1(t);if(e!==null)return e;t=t.sibling}return null}var p1=Qn.unstable_scheduleCallback,RE=Qn.unstable_cancelCallback,YN=Qn.unstable_shouldYield,XN=Qn.unstable_requestPaint,Ct=Qn.unstable_now,JN=Qn.unstable_getCurrentPriorityLevel,Dv=Qn.unstable_ImmediatePriority,m1=Qn.unstable_UserBlockingPriority,dh=Qn.unstable_NormalPriority,ZN=Qn.unstable_LowPriority,g1=Qn.unstable_IdlePriority,kf=null,$r=null;function eO(t){if($r&&typeof $r.onCommitFiberRoot=="function")try{$r.onCommitFiberRoot(kf,t,void 0,(t.current.flags&128)===128)}catch{}}var Tr=Math.clz32?Math.clz32:rO,tO=Math.log,nO=Math.LN2;function rO(t){return t>>>=0,t===0?32:31-(tO(t)/nO|0)|0}var ed=64,td=4194304;function Hl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function hh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Hl(a):(s&=o,s!==0&&(r=Hl(s)))}else o=n&~i,o!==0?r=Hl(o):s!==0&&(r=Hl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Tr(e),i=1<<n,r|=t[n],e&=~i;return r}function iO(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sO(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Tr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=iO(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Wg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function y1(){var t=ed;return ed<<=1,!(ed&4194240)&&(ed=64),t}function km(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ac(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Tr(e),t[e]=n}function oO(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Tr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Mv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Tr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Be=0;function v1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var _1,Lv,w1,E1,S1,Hg=!1,nd=[],ts=null,ns=null,rs=null,bu=new Map,xu=new Map,Hi=[],aO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kE(t,e){switch(t){case"focusin":case"focusout":ts=null;break;case"dragenter":case"dragleave":ns=null;break;case"mouseover":case"mouseout":rs=null;break;case"pointerover":case"pointerout":bu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":xu.delete(e.pointerId)}}function Il(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=uc(e),e!==null&&Lv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function lO(t,e,n,r,i){switch(e){case"focusin":return ts=Il(ts,t,e,n,r,i),!0;case"dragenter":return ns=Il(ns,t,e,n,r,i),!0;case"mouseover":return rs=Il(rs,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return bu.set(s,Il(bu.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,xu.set(s,Il(xu.get(s)||null,t,e,n,r,i)),!0}return!1}function C1(t){var e=qs(t.target);if(e!==null){var n=_o(e);if(n!==null){if(e=n.tag,e===13){if(e=d1(n),e!==null){t.blockedOn=e,S1(t.priority,function(){w1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Od(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=qg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);jg=r,n.target.dispatchEvent(r),jg=null}else return e=uc(n),e!==null&&Lv(e),t.blockedOn=n,!1;e.shift()}return!0}function PE(t,e,n){Od(t)&&n.delete(e)}function uO(){Hg=!1,ts!==null&&Od(ts)&&(ts=null),ns!==null&&Od(ns)&&(ns=null),rs!==null&&Od(rs)&&(rs=null),bu.forEach(PE),xu.forEach(PE)}function bl(t,e){t.blockedOn===e&&(t.blockedOn=null,Hg||(Hg=!0,Qn.unstable_scheduleCallback(Qn.unstable_NormalPriority,uO)))}function Ru(t){function e(i){return bl(i,t)}if(0<nd.length){bl(nd[0],t);for(var n=1;n<nd.length;n++){var r=nd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ts!==null&&bl(ts,t),ns!==null&&bl(ns,t),rs!==null&&bl(rs,t),bu.forEach(e),xu.forEach(e),n=0;n<Hi.length;n++)r=Hi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Hi.length&&(n=Hi[0],n.blockedOn===null);)C1(n),n.blockedOn===null&&Hi.shift()}var da=ki.ReactCurrentBatchConfig,fh=!0;function cO(t,e,n,r){var i=Be,s=da.transition;da.transition=null;try{Be=1,Vv(t,e,n,r)}finally{Be=i,da.transition=s}}function dO(t,e,n,r){var i=Be,s=da.transition;da.transition=null;try{Be=4,Vv(t,e,n,r)}finally{Be=i,da.transition=s}}function Vv(t,e,n,r){if(fh){var i=qg(t,e,n,r);if(i===null)$m(t,e,r,ph,n),kE(t,r);else if(lO(i,t,e,n,r))r.stopPropagation();else if(kE(t,r),e&4&&-1<aO.indexOf(t)){for(;i!==null;){var s=uc(i);if(s!==null&&_1(s),s=qg(t,e,n,r),s===null&&$m(t,e,r,ph,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else $m(t,e,r,null,n)}}var ph=null;function qg(t,e,n,r){if(ph=null,t=Ov(r),t=qs(t),t!==null)if(e=_o(t),e===null)t=null;else if(n=e.tag,n===13){if(t=d1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ph=t,null}function T1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(JN()){case Dv:return 1;case m1:return 4;case dh:case ZN:return 16;case g1:return 536870912;default:return 16}default:return 16}}var Xi=null,Fv=null,Dd=null;function I1(){if(Dd)return Dd;var t,e=Fv,n=e.length,r,i="value"in Xi?Xi.value:Xi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Dd=i.slice(t,1<r?1-r:void 0)}function Md(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function rd(){return!0}function AE(){return!1}function Xn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?rd:AE,this.isPropagationStopped=AE,this}return ft(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=rd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=rd)},persist:function(){},isPersistent:rd}),e}var qa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$v=Xn(qa),lc=ft({},qa,{view:0,detail:0}),hO=Xn(lc),Pm,Am,xl,Pf=ft({},lc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xl&&(xl&&t.type==="mousemove"?(Pm=t.screenX-xl.screenX,Am=t.screenY-xl.screenY):Am=Pm=0,xl=t),Pm)},movementY:function(t){return"movementY"in t?t.movementY:Am}}),NE=Xn(Pf),fO=ft({},Pf,{dataTransfer:0}),pO=Xn(fO),mO=ft({},lc,{relatedTarget:0}),Nm=Xn(mO),gO=ft({},qa,{animationName:0,elapsedTime:0,pseudoElement:0}),yO=Xn(gO),vO=ft({},qa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_O=Xn(vO),wO=ft({},qa,{data:0}),OE=Xn(wO),EO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},SO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},CO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function TO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=CO[t])?!!e[t]:!1}function jv(){return TO}var IO=ft({},lc,{key:function(t){if(t.key){var e=EO[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Md(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?SO[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jv,charCode:function(t){return t.type==="keypress"?Md(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Md(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),bO=Xn(IO),xO=ft({},Pf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),DE=Xn(xO),RO=ft({},lc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jv}),kO=Xn(RO),PO=ft({},qa,{propertyName:0,elapsedTime:0,pseudoElement:0}),AO=Xn(PO),NO=ft({},Pf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),OO=Xn(NO),DO=[9,13,27,32],Uv=mi&&"CompositionEvent"in window,nu=null;mi&&"documentMode"in document&&(nu=document.documentMode);var MO=mi&&"TextEvent"in window&&!nu,b1=mi&&(!Uv||nu&&8<nu&&11>=nu),ME=" ",LE=!1;function x1(t,e){switch(t){case"keyup":return DO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function R1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qo=!1;function LO(t,e){switch(t){case"compositionend":return R1(e);case"keypress":return e.which!==32?null:(LE=!0,ME);case"textInput":return t=e.data,t===ME&&LE?null:t;default:return null}}function VO(t,e){if(Qo)return t==="compositionend"||!Uv&&x1(t,e)?(t=I1(),Dd=Fv=Xi=null,Qo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return b1&&e.locale!=="ko"?null:e.data;default:return null}}var FO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function VE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!FO[t.type]:e==="textarea"}function k1(t,e,n,r){o1(r),e=mh(e,"onChange"),0<e.length&&(n=new $v("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ru=null,ku=null;function $O(t){j1(t,0)}function Af(t){var e=Jo(t);if(ZI(e))return t}function jO(t,e){if(t==="change")return e}var P1=!1;if(mi){var Om;if(mi){var Dm="oninput"in document;if(!Dm){var FE=document.createElement("div");FE.setAttribute("oninput","return;"),Dm=typeof FE.oninput=="function"}Om=Dm}else Om=!1;P1=Om&&(!document.documentMode||9<document.documentMode)}function $E(){ru&&(ru.detachEvent("onpropertychange",A1),ku=ru=null)}function A1(t){if(t.propertyName==="value"&&Af(ku)){var e=[];k1(e,ku,t,Ov(t)),c1($O,e)}}function UO(t,e,n){t==="focusin"?($E(),ru=e,ku=n,ru.attachEvent("onpropertychange",A1)):t==="focusout"&&$E()}function BO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Af(ku)}function zO(t,e){if(t==="click")return Af(e)}function WO(t,e){if(t==="input"||t==="change")return Af(e)}function HO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Rr=typeof Object.is=="function"?Object.is:HO;function Pu(t,e){if(Rr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Rg.call(e,i)||!Rr(t[i],e[i]))return!1}return!0}function jE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function UE(t,e){var n=jE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=jE(n)}}function N1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?N1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function O1(){for(var t=window,e=lh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=lh(t.document)}return e}function Bv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function qO(t){var e=O1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&N1(n.ownerDocument.documentElement,n)){if(r!==null&&Bv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=UE(n,s);var o=UE(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var KO=mi&&"documentMode"in document&&11>=document.documentMode,Yo=null,Kg=null,iu=null,Gg=!1;function BE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Gg||Yo==null||Yo!==lh(r)||(r=Yo,"selectionStart"in r&&Bv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),iu&&Pu(iu,r)||(iu=r,r=mh(Kg,"onSelect"),0<r.length&&(e=new $v("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Yo)))}function id(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Xo={animationend:id("Animation","AnimationEnd"),animationiteration:id("Animation","AnimationIteration"),animationstart:id("Animation","AnimationStart"),transitionend:id("Transition","TransitionEnd")},Mm={},D1={};mi&&(D1=document.createElement("div").style,"AnimationEvent"in window||(delete Xo.animationend.animation,delete Xo.animationiteration.animation,delete Xo.animationstart.animation),"TransitionEvent"in window||delete Xo.transitionend.transition);function Nf(t){if(Mm[t])return Mm[t];if(!Xo[t])return t;var e=Xo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in D1)return Mm[t]=e[n];return t}var M1=Nf("animationend"),L1=Nf("animationiteration"),V1=Nf("animationstart"),F1=Nf("transitionend"),$1=new Map,zE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xs(t,e){$1.set(t,e),vo(e,[t])}for(var Lm=0;Lm<zE.length;Lm++){var Vm=zE[Lm],GO=Vm.toLowerCase(),QO=Vm[0].toUpperCase()+Vm.slice(1);xs(GO,"on"+QO)}xs(M1,"onAnimationEnd");xs(L1,"onAnimationIteration");xs(V1,"onAnimationStart");xs("dblclick","onDoubleClick");xs("focusin","onFocus");xs("focusout","onBlur");xs(F1,"onTransitionEnd");Ta("onMouseEnter",["mouseout","mouseover"]);Ta("onMouseLeave",["mouseout","mouseover"]);Ta("onPointerEnter",["pointerout","pointerover"]);Ta("onPointerLeave",["pointerout","pointerover"]);vo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vo("onBeforeInput",["compositionend","keypress","textInput","paste"]);vo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YO=new Set("cancel close invalid load scroll toggle".split(" ").concat(ql));function WE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,GN(r,e,void 0,t),t.currentTarget=null}function j1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;WE(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;WE(i,a,c),s=l}}}if(ch)throw t=zg,ch=!1,zg=null,t}function nt(t,e){var n=e[Zg];n===void 0&&(n=e[Zg]=new Set);var r=t+"__bubble";n.has(r)||(U1(e,t,2,!1),n.add(r))}function Fm(t,e,n){var r=0;e&&(r|=4),U1(n,t,r,e)}var sd="_reactListening"+Math.random().toString(36).slice(2);function Au(t){if(!t[sd]){t[sd]=!0,GI.forEach(function(n){n!=="selectionchange"&&(YO.has(n)||Fm(n,!1,t),Fm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[sd]||(e[sd]=!0,Fm("selectionchange",!1,e))}}function U1(t,e,n,r){switch(T1(e)){case 1:var i=cO;break;case 4:i=dO;break;default:i=Vv}n=i.bind(null,e,n,t),i=void 0,!Bg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function $m(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=qs(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}c1(function(){var c=s,d=Ov(n),h=[];e:{var f=$1.get(t);if(f!==void 0){var g=$v,v=t;switch(t){case"keypress":if(Md(n)===0)break e;case"keydown":case"keyup":g=bO;break;case"focusin":v="focus",g=Nm;break;case"focusout":v="blur",g=Nm;break;case"beforeblur":case"afterblur":g=Nm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=NE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=pO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=kO;break;case M1:case L1:case V1:g=yO;break;case F1:g=AO;break;case"scroll":g=hO;break;case"wheel":g=OO;break;case"copy":case"cut":case"paste":g=_O;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=DE}var T=(e&4)!==0,x=!T&&t==="scroll",_=T?f!==null?f+"Capture":null:f;T=[];for(var w=c,E;w!==null;){E=w;var P=E.stateNode;if(E.tag===5&&P!==null&&(E=P,_!==null&&(P=Iu(w,_),P!=null&&T.push(Nu(w,P,E)))),x)break;w=w.return}0<T.length&&(f=new g(f,v,null,n,d),h.push({event:f,listeners:T}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==jg&&(v=n.relatedTarget||n.fromElement)&&(qs(v)||v[gi]))break e;if((g||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=c,v=v?qs(v):null,v!==null&&(x=_o(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=c),g!==v)){if(T=NE,P="onMouseLeave",_="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(T=DE,P="onPointerLeave",_="onPointerEnter",w="pointer"),x=g==null?f:Jo(g),E=v==null?f:Jo(v),f=new T(P,w+"leave",g,n,d),f.target=x,f.relatedTarget=E,P=null,qs(d)===c&&(T=new T(_,w+"enter",v,n,d),T.target=E,T.relatedTarget=x,P=T),x=P,g&&v)t:{for(T=g,_=v,w=0,E=T;E;E=Oo(E))w++;for(E=0,P=_;P;P=Oo(P))E++;for(;0<w-E;)T=Oo(T),w--;for(;0<E-w;)_=Oo(_),E--;for(;w--;){if(T===_||_!==null&&T===_.alternate)break t;T=Oo(T),_=Oo(_)}T=null}else T=null;g!==null&&HE(h,f,g,T,!1),v!==null&&x!==null&&HE(h,x,v,T,!0)}}e:{if(f=c?Jo(c):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var D=jO;else if(VE(f))if(P1)D=WO;else{D=BO;var M=UO}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(D=zO);if(D&&(D=D(t,c))){k1(h,D,n,d);break e}M&&M(t,f,c),t==="focusout"&&(M=f._wrapperState)&&M.controlled&&f.type==="number"&&Mg(f,"number",f.value)}switch(M=c?Jo(c):window,t){case"focusin":(VE(M)||M.contentEditable==="true")&&(Yo=M,Kg=c,iu=null);break;case"focusout":iu=Kg=Yo=null;break;case"mousedown":Gg=!0;break;case"contextmenu":case"mouseup":case"dragend":Gg=!1,BE(h,n,d);break;case"selectionchange":if(KO)break;case"keydown":case"keyup":BE(h,n,d)}var R;if(Uv)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Qo?x1(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(b1&&n.locale!=="ko"&&(Qo||b!=="onCompositionStart"?b==="onCompositionEnd"&&Qo&&(R=I1()):(Xi=d,Fv="value"in Xi?Xi.value:Xi.textContent,Qo=!0)),M=mh(c,b),0<M.length&&(b=new OE(b,t,null,n,d),h.push({event:b,listeners:M}),R?b.data=R:(R=R1(n),R!==null&&(b.data=R)))),(R=MO?LO(t,n):VO(t,n))&&(c=mh(c,"onBeforeInput"),0<c.length&&(d=new OE("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=R))}j1(h,e)})}function Nu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function mh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Iu(t,n),s!=null&&r.unshift(Nu(t,s,i)),s=Iu(t,e),s!=null&&r.push(Nu(t,s,i))),t=t.return}return r}function Oo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function HE(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Iu(n,s),l!=null&&o.unshift(Nu(n,l,a))):i||(l=Iu(n,s),l!=null&&o.push(Nu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var XO=/\r\n?/g,JO=/\u0000|\uFFFD/g;function qE(t){return(typeof t=="string"?t:""+t).replace(XO,`
`).replace(JO,"")}function od(t,e,n){if(e=qE(e),qE(t)!==e&&n)throw Error(q(425))}function gh(){}var Qg=null,Yg=null;function Xg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Jg=typeof setTimeout=="function"?setTimeout:void 0,ZO=typeof clearTimeout=="function"?clearTimeout:void 0,KE=typeof Promise=="function"?Promise:void 0,eD=typeof queueMicrotask=="function"?queueMicrotask:typeof KE<"u"?function(t){return KE.resolve(null).then(t).catch(tD)}:Jg;function tD(t){setTimeout(function(){throw t})}function jm(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ru(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ru(e)}function is(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function GE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ka=Math.random().toString(36).slice(2),Vr="__reactFiber$"+Ka,Ou="__reactProps$"+Ka,gi="__reactContainer$"+Ka,Zg="__reactEvents$"+Ka,nD="__reactListeners$"+Ka,rD="__reactHandles$"+Ka;function qs(t){var e=t[Vr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[gi]||n[Vr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=GE(t);t!==null;){if(n=t[Vr])return n;t=GE(t)}return e}t=n,n=t.parentNode}return null}function uc(t){return t=t[Vr]||t[gi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Jo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(q(33))}function Of(t){return t[Ou]||null}var ey=[],Zo=-1;function Rs(t){return{current:t}}function st(t){0>Zo||(t.current=ey[Zo],ey[Zo]=null,Zo--)}function Ze(t,e){Zo++,ey[Zo]=t.current,t.current=e}var ms={},mn=Rs(ms),Dn=Rs(!1),ro=ms;function Ia(t,e){var n=t.type.contextTypes;if(!n)return ms;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Mn(t){return t=t.childContextTypes,t!=null}function yh(){st(Dn),st(mn)}function QE(t,e,n){if(mn.current!==ms)throw Error(q(168));Ze(mn,e),Ze(Dn,n)}function B1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(q(108,UN(t)||"Unknown",i));return ft({},n,r)}function vh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ms,ro=mn.current,Ze(mn,t),Ze(Dn,Dn.current),!0}function YE(t,e,n){var r=t.stateNode;if(!r)throw Error(q(169));n?(t=B1(t,e,ro),r.__reactInternalMemoizedMergedChildContext=t,st(Dn),st(mn),Ze(mn,t)):st(Dn),Ze(Dn,n)}var ri=null,Df=!1,Um=!1;function z1(t){ri===null?ri=[t]:ri.push(t)}function iD(t){Df=!0,z1(t)}function ks(){if(!Um&&ri!==null){Um=!0;var t=0,e=Be;try{var n=ri;for(Be=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ri=null,Df=!1}catch(i){throw ri!==null&&(ri=ri.slice(t+1)),p1(Dv,ks),i}finally{Be=e,Um=!1}}return null}var ea=[],ta=0,_h=null,wh=0,tr=[],nr=0,io=null,ii=1,si="";function $s(t,e){ea[ta++]=wh,ea[ta++]=_h,_h=t,wh=e}function W1(t,e,n){tr[nr++]=ii,tr[nr++]=si,tr[nr++]=io,io=t;var r=ii;t=si;var i=32-Tr(r)-1;r&=~(1<<i),n+=1;var s=32-Tr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ii=1<<32-Tr(e)+i|n<<i|r,si=s+t}else ii=1<<s|n<<i|r,si=t}function zv(t){t.return!==null&&($s(t,1),W1(t,1,0))}function Wv(t){for(;t===_h;)_h=ea[--ta],ea[ta]=null,wh=ea[--ta],ea[ta]=null;for(;t===io;)io=tr[--nr],tr[nr]=null,si=tr[--nr],tr[nr]=null,ii=tr[--nr],tr[nr]=null}var qn=null,Wn=null,at=!1,vr=null;function H1(t,e){var n=ir(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function XE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,qn=t,Wn=is(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,qn=t,Wn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=io!==null?{id:ii,overflow:si}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ir(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,qn=t,Wn=null,!0):!1;default:return!1}}function ty(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ny(t){if(at){var e=Wn;if(e){var n=e;if(!XE(t,e)){if(ty(t))throw Error(q(418));e=is(n.nextSibling);var r=qn;e&&XE(t,e)?H1(r,n):(t.flags=t.flags&-4097|2,at=!1,qn=t)}}else{if(ty(t))throw Error(q(418));t.flags=t.flags&-4097|2,at=!1,qn=t}}}function JE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;qn=t}function ad(t){if(t!==qn)return!1;if(!at)return JE(t),at=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Xg(t.type,t.memoizedProps)),e&&(e=Wn)){if(ty(t))throw q1(),Error(q(418));for(;e;)H1(t,e),e=is(e.nextSibling)}if(JE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Wn=is(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Wn=null}}else Wn=qn?is(t.stateNode.nextSibling):null;return!0}function q1(){for(var t=Wn;t;)t=is(t.nextSibling)}function ba(){Wn=qn=null,at=!1}function Hv(t){vr===null?vr=[t]:vr.push(t)}var sD=ki.ReactCurrentBatchConfig;function Rl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,t))}return t}function ld(t,e){throw t=Object.prototype.toString.call(e),Error(q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ZE(t){var e=t._init;return e(t._payload)}function K1(t){function e(_,w){if(t){var E=_.deletions;E===null?(_.deletions=[w],_.flags|=16):E.push(w)}}function n(_,w){if(!t)return null;for(;w!==null;)e(_,w),w=w.sibling;return null}function r(_,w){for(_=new Map;w!==null;)w.key!==null?_.set(w.key,w):_.set(w.index,w),w=w.sibling;return _}function i(_,w){return _=ls(_,w),_.index=0,_.sibling=null,_}function s(_,w,E){return _.index=E,t?(E=_.alternate,E!==null?(E=E.index,E<w?(_.flags|=2,w):E):(_.flags|=2,w)):(_.flags|=1048576,w)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,w,E,P){return w===null||w.tag!==6?(w=Gm(E,_.mode,P),w.return=_,w):(w=i(w,E),w.return=_,w)}function l(_,w,E,P){var D=E.type;return D===Go?d(_,w,E.props.children,P,E.key):w!==null&&(w.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===zi&&ZE(D)===w.type)?(P=i(w,E.props),P.ref=Rl(_,w,E),P.return=_,P):(P=Bd(E.type,E.key,E.props,null,_.mode,P),P.ref=Rl(_,w,E),P.return=_,P)}function c(_,w,E,P){return w===null||w.tag!==4||w.stateNode.containerInfo!==E.containerInfo||w.stateNode.implementation!==E.implementation?(w=Qm(E,_.mode,P),w.return=_,w):(w=i(w,E.children||[]),w.return=_,w)}function d(_,w,E,P,D){return w===null||w.tag!==7?(w=Zs(E,_.mode,P,D),w.return=_,w):(w=i(w,E),w.return=_,w)}function h(_,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Gm(""+w,_.mode,E),w.return=_,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Xc:return E=Bd(w.type,w.key,w.props,null,_.mode,E),E.ref=Rl(_,null,w),E.return=_,E;case Ko:return w=Qm(w,_.mode,E),w.return=_,w;case zi:var P=w._init;return h(_,P(w._payload),E)}if(Wl(w)||Cl(w))return w=Zs(w,_.mode,E,null),w.return=_,w;ld(_,w)}return null}function f(_,w,E,P){var D=w!==null?w.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return D!==null?null:a(_,w,""+E,P);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Xc:return E.key===D?l(_,w,E,P):null;case Ko:return E.key===D?c(_,w,E,P):null;case zi:return D=E._init,f(_,w,D(E._payload),P)}if(Wl(E)||Cl(E))return D!==null?null:d(_,w,E,P,null);ld(_,E)}return null}function g(_,w,E,P,D){if(typeof P=="string"&&P!==""||typeof P=="number")return _=_.get(E)||null,a(w,_,""+P,D);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Xc:return _=_.get(P.key===null?E:P.key)||null,l(w,_,P,D);case Ko:return _=_.get(P.key===null?E:P.key)||null,c(w,_,P,D);case zi:var M=P._init;return g(_,w,E,M(P._payload),D)}if(Wl(P)||Cl(P))return _=_.get(E)||null,d(w,_,P,D,null);ld(w,P)}return null}function v(_,w,E,P){for(var D=null,M=null,R=w,b=w=0,k=null;R!==null&&b<E.length;b++){R.index>b?(k=R,R=null):k=R.sibling;var m=f(_,R,E[b],P);if(m===null){R===null&&(R=k);break}t&&R&&m.alternate===null&&e(_,R),w=s(m,w,b),M===null?D=m:M.sibling=m,M=m,R=k}if(b===E.length)return n(_,R),at&&$s(_,b),D;if(R===null){for(;b<E.length;b++)R=h(_,E[b],P),R!==null&&(w=s(R,w,b),M===null?D=R:M.sibling=R,M=R);return at&&$s(_,b),D}for(R=r(_,R);b<E.length;b++)k=g(R,_,b,E[b],P),k!==null&&(t&&k.alternate!==null&&R.delete(k.key===null?b:k.key),w=s(k,w,b),M===null?D=k:M.sibling=k,M=k);return t&&R.forEach(function(C){return e(_,C)}),at&&$s(_,b),D}function T(_,w,E,P){var D=Cl(E);if(typeof D!="function")throw Error(q(150));if(E=D.call(E),E==null)throw Error(q(151));for(var M=D=null,R=w,b=w=0,k=null,m=E.next();R!==null&&!m.done;b++,m=E.next()){R.index>b?(k=R,R=null):k=R.sibling;var C=f(_,R,m.value,P);if(C===null){R===null&&(R=k);break}t&&R&&C.alternate===null&&e(_,R),w=s(C,w,b),M===null?D=C:M.sibling=C,M=C,R=k}if(m.done)return n(_,R),at&&$s(_,b),D;if(R===null){for(;!m.done;b++,m=E.next())m=h(_,m.value,P),m!==null&&(w=s(m,w,b),M===null?D=m:M.sibling=m,M=m);return at&&$s(_,b),D}for(R=r(_,R);!m.done;b++,m=E.next())m=g(R,_,b,m.value,P),m!==null&&(t&&m.alternate!==null&&R.delete(m.key===null?b:m.key),w=s(m,w,b),M===null?D=m:M.sibling=m,M=m);return t&&R.forEach(function(O){return e(_,O)}),at&&$s(_,b),D}function x(_,w,E,P){if(typeof E=="object"&&E!==null&&E.type===Go&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Xc:e:{for(var D=E.key,M=w;M!==null;){if(M.key===D){if(D=E.type,D===Go){if(M.tag===7){n(_,M.sibling),w=i(M,E.props.children),w.return=_,_=w;break e}}else if(M.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===zi&&ZE(D)===M.type){n(_,M.sibling),w=i(M,E.props),w.ref=Rl(_,M,E),w.return=_,_=w;break e}n(_,M);break}else e(_,M);M=M.sibling}E.type===Go?(w=Zs(E.props.children,_.mode,P,E.key),w.return=_,_=w):(P=Bd(E.type,E.key,E.props,null,_.mode,P),P.ref=Rl(_,w,E),P.return=_,_=P)}return o(_);case Ko:e:{for(M=E.key;w!==null;){if(w.key===M)if(w.tag===4&&w.stateNode.containerInfo===E.containerInfo&&w.stateNode.implementation===E.implementation){n(_,w.sibling),w=i(w,E.children||[]),w.return=_,_=w;break e}else{n(_,w);break}else e(_,w);w=w.sibling}w=Qm(E,_.mode,P),w.return=_,_=w}return o(_);case zi:return M=E._init,x(_,w,M(E._payload),P)}if(Wl(E))return v(_,w,E,P);if(Cl(E))return T(_,w,E,P);ld(_,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,w!==null&&w.tag===6?(n(_,w.sibling),w=i(w,E),w.return=_,_=w):(n(_,w),w=Gm(E,_.mode,P),w.return=_,_=w),o(_)):n(_,w)}return x}var xa=K1(!0),G1=K1(!1),Eh=Rs(null),Sh=null,na=null,qv=null;function Kv(){qv=na=Sh=null}function Gv(t){var e=Eh.current;st(Eh),t._currentValue=e}function ry(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ha(t,e){Sh=t,qv=na=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(An=!0),t.firstContext=null)}function or(t){var e=t._currentValue;if(qv!==t)if(t={context:t,memoizedValue:e,next:null},na===null){if(Sh===null)throw Error(q(308));na=t,Sh.dependencies={lanes:0,firstContext:t}}else na=na.next=t;return e}var Ks=null;function Qv(t){Ks===null?Ks=[t]:Ks.push(t)}function Q1(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Qv(e)):(n.next=i.next,i.next=n),e.interleaved=n,yi(t,r)}function yi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Wi=!1;function Yv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Y1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function di(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ss(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ke&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,yi(t,n)}return i=r.interleaved,i===null?(e.next=e,Qv(r)):(e.next=i.next,i.next=e),r.interleaved=e,yi(t,n)}function Ld(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Mv(t,n)}}function eS(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ch(t,e,n,r){var i=t.updateQueue;Wi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=c=l=null,a=s;do{var f=a.lane,g=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,T=a;switch(f=e,g=n,T.tag){case 1:if(v=T.payload,typeof v=="function"){h=v.call(g,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=T.payload,f=typeof v=="function"?v.call(g,h,f):v,f==null)break e;h=ft({},h,f);break e;case 2:Wi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,l=h):d=d.next=g,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);oo|=o,t.lanes=o,t.memoizedState=h}}function tS(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(q(191,i));i.call(r)}}}var cc={},jr=Rs(cc),Du=Rs(cc),Mu=Rs(cc);function Gs(t){if(t===cc)throw Error(q(174));return t}function Xv(t,e){switch(Ze(Mu,e),Ze(Du,t),Ze(jr,cc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Vg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Vg(e,t)}st(jr),Ze(jr,e)}function Ra(){st(jr),st(Du),st(Mu)}function X1(t){Gs(Mu.current);var e=Gs(jr.current),n=Vg(e,t.type);e!==n&&(Ze(Du,t),Ze(jr,n))}function Jv(t){Du.current===t&&(st(jr),st(Du))}var ct=Rs(0);function Th(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Bm=[];function Zv(){for(var t=0;t<Bm.length;t++)Bm[t]._workInProgressVersionPrimary=null;Bm.length=0}var Vd=ki.ReactCurrentDispatcher,zm=ki.ReactCurrentBatchConfig,so=0,dt=null,Dt=null,Ut=null,Ih=!1,su=!1,Lu=0,oD=0;function rn(){throw Error(q(321))}function e_(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Rr(t[n],e[n]))return!1;return!0}function t_(t,e,n,r,i,s){if(so=s,dt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Vd.current=t===null||t.memoizedState===null?cD:dD,t=n(r,i),su){s=0;do{if(su=!1,Lu=0,25<=s)throw Error(q(301));s+=1,Ut=Dt=null,e.updateQueue=null,Vd.current=hD,t=n(r,i)}while(su)}if(Vd.current=bh,e=Dt!==null&&Dt.next!==null,so=0,Ut=Dt=dt=null,Ih=!1,e)throw Error(q(300));return t}function n_(){var t=Lu!==0;return Lu=0,t}function Dr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?dt.memoizedState=Ut=t:Ut=Ut.next=t,Ut}function ar(){if(Dt===null){var t=dt.alternate;t=t!==null?t.memoizedState:null}else t=Dt.next;var e=Ut===null?dt.memoizedState:Ut.next;if(e!==null)Ut=e,Dt=t;else{if(t===null)throw Error(q(310));Dt=t,t={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},Ut===null?dt.memoizedState=Ut=t:Ut=Ut.next=t}return Ut}function Vu(t,e){return typeof e=="function"?e(t):e}function Wm(t){var e=ar(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=Dt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((so&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,dt.lanes|=d,oo|=d}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Rr(r,e.memoizedState)||(An=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,dt.lanes|=s,oo|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Hm(t){var e=ar(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Rr(s,e.memoizedState)||(An=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function J1(){}function Z1(t,e){var n=dt,r=ar(),i=e(),s=!Rr(r.memoizedState,i);if(s&&(r.memoizedState=i,An=!0),r=r.queue,r_(nb.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ut!==null&&Ut.memoizedState.tag&1){if(n.flags|=2048,Fu(9,tb.bind(null,n,r,i,e),void 0,null),Wt===null)throw Error(q(349));so&30||eb(n,e,i)}return i}function eb(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=dt.updateQueue,e===null?(e={lastEffect:null,stores:null},dt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function tb(t,e,n,r){e.value=n,e.getSnapshot=r,rb(e)&&ib(t)}function nb(t,e,n){return n(function(){rb(e)&&ib(t)})}function rb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Rr(t,n)}catch{return!0}}function ib(t){var e=yi(t,1);e!==null&&Ir(e,t,1,-1)}function nS(t){var e=Dr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vu,lastRenderedState:t},e.queue=t,t=t.dispatch=uD.bind(null,dt,t),[e.memoizedState,t]}function Fu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=dt.updateQueue,e===null?(e={lastEffect:null,stores:null},dt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function sb(){return ar().memoizedState}function Fd(t,e,n,r){var i=Dr();dt.flags|=t,i.memoizedState=Fu(1|e,n,void 0,r===void 0?null:r)}function Mf(t,e,n,r){var i=ar();r=r===void 0?null:r;var s=void 0;if(Dt!==null){var o=Dt.memoizedState;if(s=o.destroy,r!==null&&e_(r,o.deps)){i.memoizedState=Fu(e,n,s,r);return}}dt.flags|=t,i.memoizedState=Fu(1|e,n,s,r)}function rS(t,e){return Fd(8390656,8,t,e)}function r_(t,e){return Mf(2048,8,t,e)}function ob(t,e){return Mf(4,2,t,e)}function ab(t,e){return Mf(4,4,t,e)}function lb(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ub(t,e,n){return n=n!=null?n.concat([t]):null,Mf(4,4,lb.bind(null,e,t),n)}function i_(){}function cb(t,e){var n=ar();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&e_(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function db(t,e){var n=ar();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&e_(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function hb(t,e,n){return so&21?(Rr(n,e)||(n=y1(),dt.lanes|=n,oo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,An=!0),t.memoizedState=n)}function aD(t,e){var n=Be;Be=n!==0&&4>n?n:4,t(!0);var r=zm.transition;zm.transition={};try{t(!1),e()}finally{Be=n,zm.transition=r}}function fb(){return ar().memoizedState}function lD(t,e,n){var r=as(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},pb(t))mb(e,n);else if(n=Q1(t,e,n,r),n!==null){var i=En();Ir(n,t,r,i),gb(n,e,r)}}function uD(t,e,n){var r=as(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(pb(t))mb(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Rr(a,o)){var l=e.interleaved;l===null?(i.next=i,Qv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Q1(t,e,i,r),n!==null&&(i=En(),Ir(n,t,r,i),gb(n,e,r))}}function pb(t){var e=t.alternate;return t===dt||e!==null&&e===dt}function mb(t,e){su=Ih=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function gb(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Mv(t,n)}}var bh={readContext:or,useCallback:rn,useContext:rn,useEffect:rn,useImperativeHandle:rn,useInsertionEffect:rn,useLayoutEffect:rn,useMemo:rn,useReducer:rn,useRef:rn,useState:rn,useDebugValue:rn,useDeferredValue:rn,useTransition:rn,useMutableSource:rn,useSyncExternalStore:rn,useId:rn,unstable_isNewReconciler:!1},cD={readContext:or,useCallback:function(t,e){return Dr().memoizedState=[t,e===void 0?null:e],t},useContext:or,useEffect:rS,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Fd(4194308,4,lb.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Fd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Fd(4,2,t,e)},useMemo:function(t,e){var n=Dr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Dr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=lD.bind(null,dt,t),[r.memoizedState,t]},useRef:function(t){var e=Dr();return t={current:t},e.memoizedState=t},useState:nS,useDebugValue:i_,useDeferredValue:function(t){return Dr().memoizedState=t},useTransition:function(){var t=nS(!1),e=t[0];return t=aD.bind(null,t[1]),Dr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=dt,i=Dr();if(at){if(n===void 0)throw Error(q(407));n=n()}else{if(n=e(),Wt===null)throw Error(q(349));so&30||eb(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,rS(nb.bind(null,r,s,t),[t]),r.flags|=2048,Fu(9,tb.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Dr(),e=Wt.identifierPrefix;if(at){var n=si,r=ii;n=(r&~(1<<32-Tr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Lu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=oD++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},dD={readContext:or,useCallback:cb,useContext:or,useEffect:r_,useImperativeHandle:ub,useInsertionEffect:ob,useLayoutEffect:ab,useMemo:db,useReducer:Wm,useRef:sb,useState:function(){return Wm(Vu)},useDebugValue:i_,useDeferredValue:function(t){var e=ar();return hb(e,Dt.memoizedState,t)},useTransition:function(){var t=Wm(Vu)[0],e=ar().memoizedState;return[t,e]},useMutableSource:J1,useSyncExternalStore:Z1,useId:fb,unstable_isNewReconciler:!1},hD={readContext:or,useCallback:cb,useContext:or,useEffect:r_,useImperativeHandle:ub,useInsertionEffect:ob,useLayoutEffect:ab,useMemo:db,useReducer:Hm,useRef:sb,useState:function(){return Hm(Vu)},useDebugValue:i_,useDeferredValue:function(t){var e=ar();return Dt===null?e.memoizedState=t:hb(e,Dt.memoizedState,t)},useTransition:function(){var t=Hm(Vu)[0],e=ar().memoizedState;return[t,e]},useMutableSource:J1,useSyncExternalStore:Z1,useId:fb,unstable_isNewReconciler:!1};function gr(t,e){if(t&&t.defaultProps){e=ft({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function iy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ft({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Lf={isMounted:function(t){return(t=t._reactInternals)?_o(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=En(),i=as(t),s=di(r,i);s.payload=e,n!=null&&(s.callback=n),e=ss(t,s,i),e!==null&&(Ir(e,t,i,r),Ld(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=En(),i=as(t),s=di(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ss(t,s,i),e!==null&&(Ir(e,t,i,r),Ld(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=En(),r=as(t),i=di(n,r);i.tag=2,e!=null&&(i.callback=e),e=ss(t,i,r),e!==null&&(Ir(e,t,r,n),Ld(e,t,r))}};function iS(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Pu(n,r)||!Pu(i,s):!0}function yb(t,e,n){var r=!1,i=ms,s=e.contextType;return typeof s=="object"&&s!==null?s=or(s):(i=Mn(e)?ro:mn.current,r=e.contextTypes,s=(r=r!=null)?Ia(t,i):ms),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Lf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function sS(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Lf.enqueueReplaceState(e,e.state,null)}function sy(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Yv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=or(s):(s=Mn(e)?ro:mn.current,i.context=Ia(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(iy(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Lf.enqueueReplaceState(i,i.state,null),Ch(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ka(t,e){try{var n="",r=e;do n+=jN(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function qm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function oy(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var fD=typeof WeakMap=="function"?WeakMap:Map;function vb(t,e,n){n=di(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Rh||(Rh=!0,gy=r),oy(t,e)},n}function _b(t,e,n){n=di(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){oy(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){oy(t,e),typeof r!="function"&&(os===null?os=new Set([this]):os.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function oS(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new fD;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=xD.bind(null,t,e,n),e.then(t,t))}function aS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function lS(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=di(-1,1),e.tag=2,ss(n,e,1))),n.lanes|=1),t)}var pD=ki.ReactCurrentOwner,An=!1;function _n(t,e,n,r){e.child=t===null?G1(e,null,n,r):xa(e,t.child,n,r)}function uS(t,e,n,r,i){n=n.render;var s=e.ref;return ha(e,i),r=t_(t,e,n,r,s,i),n=n_(),t!==null&&!An?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,vi(t,e,i)):(at&&n&&zv(e),e.flags|=1,_n(t,e,r,i),e.child)}function cS(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!h_(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,wb(t,e,s,r,i)):(t=Bd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Pu,n(o,r)&&t.ref===e.ref)return vi(t,e,i)}return e.flags|=1,t=ls(s,r),t.ref=e.ref,t.return=e,e.child=t}function wb(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Pu(s,r)&&t.ref===e.ref)if(An=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(An=!0);else return e.lanes=t.lanes,vi(t,e,i)}return ay(t,e,n,r,i)}function Eb(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(ia,Un),Un|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ze(ia,Un),Un|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ze(ia,Un),Un|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ze(ia,Un),Un|=r;return _n(t,e,i,n),e.child}function Sb(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ay(t,e,n,r,i){var s=Mn(n)?ro:mn.current;return s=Ia(e,s),ha(e,i),n=t_(t,e,n,r,s,i),r=n_(),t!==null&&!An?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,vi(t,e,i)):(at&&r&&zv(e),e.flags|=1,_n(t,e,n,i),e.child)}function dS(t,e,n,r,i){if(Mn(n)){var s=!0;vh(e)}else s=!1;if(ha(e,i),e.stateNode===null)$d(t,e),yb(e,n,r),sy(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=or(c):(c=Mn(n)?ro:mn.current,c=Ia(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&sS(e,o,r,c),Wi=!1;var f=e.memoizedState;o.state=f,Ch(e,r,o,i),l=e.memoizedState,a!==r||f!==l||Dn.current||Wi?(typeof d=="function"&&(iy(e,n,d,r),l=e.memoizedState),(a=Wi||iS(e,n,a,r,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Y1(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:gr(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=or(l):(l=Mn(n)?ro:mn.current,l=Ia(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&sS(e,o,r,l),Wi=!1,f=e.memoizedState,o.state=f,Ch(e,r,o,i);var v=e.memoizedState;a!==h||f!==v||Dn.current||Wi?(typeof g=="function"&&(iy(e,n,g,r),v=e.memoizedState),(c=Wi||iS(e,n,c,r,f,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return ly(t,e,n,r,s,i)}function ly(t,e,n,r,i,s){Sb(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&YE(e,n,!1),vi(t,e,s);r=e.stateNode,pD.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=xa(e,t.child,null,s),e.child=xa(e,null,a,s)):_n(t,e,a,s),e.memoizedState=r.state,i&&YE(e,n,!0),e.child}function Cb(t){var e=t.stateNode;e.pendingContext?QE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&QE(t,e.context,!1),Xv(t,e.containerInfo)}function hS(t,e,n,r,i){return ba(),Hv(i),e.flags|=256,_n(t,e,n,r),e.child}var uy={dehydrated:null,treeContext:null,retryLane:0};function cy(t){return{baseLanes:t,cachePool:null,transitions:null}}function Tb(t,e,n){var r=e.pendingProps,i=ct.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ze(ct,i&1),t===null)return ny(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=$f(o,r,0,null),t=Zs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=cy(n),e.memoizedState=uy,t):s_(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return mD(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ls(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ls(a,s):(s=Zs(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?cy(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=uy,r}return s=t.child,t=s.sibling,r=ls(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function s_(t,e){return e=$f({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ud(t,e,n,r){return r!==null&&Hv(r),xa(e,t.child,null,n),t=s_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function mD(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=qm(Error(q(422))),ud(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=$f({mode:"visible",children:r.children},i,0,null),s=Zs(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&xa(e,t.child,null,o),e.child.memoizedState=cy(o),e.memoizedState=uy,s);if(!(e.mode&1))return ud(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(q(419)),r=qm(s,r,void 0),ud(t,e,o,r)}if(a=(o&t.childLanes)!==0,An||a){if(r=Wt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,yi(t,i),Ir(r,t,i,-1))}return d_(),r=qm(Error(q(421))),ud(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=RD.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Wn=is(i.nextSibling),qn=e,at=!0,vr=null,t!==null&&(tr[nr++]=ii,tr[nr++]=si,tr[nr++]=io,ii=t.id,si=t.overflow,io=e),e=s_(e,r.children),e.flags|=4096,e)}function fS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ry(t.return,e,n)}function Km(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Ib(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(_n(t,e,r.children,n),r=ct.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&fS(t,n,e);else if(t.tag===19)fS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ze(ct,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Th(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Km(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Th(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Km(e,!0,n,null,s);break;case"together":Km(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function $d(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function vi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),oo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(q(153));if(e.child!==null){for(t=e.child,n=ls(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ls(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function gD(t,e,n){switch(e.tag){case 3:Cb(e),ba();break;case 5:X1(e);break;case 1:Mn(e.type)&&vh(e);break;case 4:Xv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ze(Eh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ze(ct,ct.current&1),e.flags|=128,null):n&e.child.childLanes?Tb(t,e,n):(Ze(ct,ct.current&1),t=vi(t,e,n),t!==null?t.sibling:null);Ze(ct,ct.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Ib(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ze(ct,ct.current),r)break;return null;case 22:case 23:return e.lanes=0,Eb(t,e,n)}return vi(t,e,n)}var bb,dy,xb,Rb;bb=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};dy=function(){};xb=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Gs(jr.current);var s=null;switch(n){case"input":i=Og(t,i),r=Og(t,r),s=[];break;case"select":i=ft({},i,{value:void 0}),r=ft({},r,{value:void 0}),s=[];break;case"textarea":i=Lg(t,i),r=Lg(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=gh)}Fg(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Cu.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Cu.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&nt("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};Rb=function(t,e,n,r){n!==r&&(e.flags|=4)};function kl(t,e){if(!at)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function sn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function yD(t,e,n){var r=e.pendingProps;switch(Wv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sn(e),null;case 1:return Mn(e.type)&&yh(),sn(e),null;case 3:return r=e.stateNode,Ra(),st(Dn),st(mn),Zv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ad(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,vr!==null&&(_y(vr),vr=null))),dy(t,e),sn(e),null;case 5:Jv(e);var i=Gs(Mu.current);if(n=e.type,t!==null&&e.stateNode!=null)xb(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(q(166));return sn(e),null}if(t=Gs(jr.current),ad(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Vr]=e,r[Ou]=s,t=(e.mode&1)!==0,n){case"dialog":nt("cancel",r),nt("close",r);break;case"iframe":case"object":case"embed":nt("load",r);break;case"video":case"audio":for(i=0;i<ql.length;i++)nt(ql[i],r);break;case"source":nt("error",r);break;case"img":case"image":case"link":nt("error",r),nt("load",r);break;case"details":nt("toggle",r);break;case"input":SE(r,s),nt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},nt("invalid",r);break;case"textarea":TE(r,s),nt("invalid",r)}Fg(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&od(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&od(r.textContent,a,t),i=["children",""+a]):Cu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&nt("scroll",r)}switch(n){case"input":Jc(r),CE(r,s,!0);break;case"textarea":Jc(r),IE(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=gh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=n1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Vr]=e,t[Ou]=r,bb(t,e,!1,!1),e.stateNode=t;e:{switch(o=$g(n,r),n){case"dialog":nt("cancel",t),nt("close",t),i=r;break;case"iframe":case"object":case"embed":nt("load",t),i=r;break;case"video":case"audio":for(i=0;i<ql.length;i++)nt(ql[i],t);i=r;break;case"source":nt("error",t),i=r;break;case"img":case"image":case"link":nt("error",t),nt("load",t),i=r;break;case"details":nt("toggle",t),i=r;break;case"input":SE(t,r),i=Og(t,r),nt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ft({},r,{value:void 0}),nt("invalid",t);break;case"textarea":TE(t,r),i=Lg(t,r),nt("invalid",t);break;default:i=r}Fg(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?s1(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&r1(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Tu(t,l):typeof l=="number"&&Tu(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Cu.hasOwnProperty(s)?l!=null&&s==="onScroll"&&nt("scroll",t):l!=null&&kv(t,s,l,o))}switch(n){case"input":Jc(t),CE(t,r,!1);break;case"textarea":Jc(t),IE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ps(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?la(t,!!r.multiple,s,!1):r.defaultValue!=null&&la(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=gh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return sn(e),null;case 6:if(t&&e.stateNode!=null)Rb(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(q(166));if(n=Gs(Mu.current),Gs(jr.current),ad(e)){if(r=e.stateNode,n=e.memoizedProps,r[Vr]=e,(s=r.nodeValue!==n)&&(t=qn,t!==null))switch(t.tag){case 3:od(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&od(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Vr]=e,e.stateNode=r}return sn(e),null;case 13:if(st(ct),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(at&&Wn!==null&&e.mode&1&&!(e.flags&128))q1(),ba(),e.flags|=98560,s=!1;else if(s=ad(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(q(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(q(317));s[Vr]=e}else ba(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;sn(e),s=!1}else vr!==null&&(_y(vr),vr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ct.current&1?Lt===0&&(Lt=3):d_())),e.updateQueue!==null&&(e.flags|=4),sn(e),null);case 4:return Ra(),dy(t,e),t===null&&Au(e.stateNode.containerInfo),sn(e),null;case 10:return Gv(e.type._context),sn(e),null;case 17:return Mn(e.type)&&yh(),sn(e),null;case 19:if(st(ct),s=e.memoizedState,s===null)return sn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)kl(s,!1);else{if(Lt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Th(t),o!==null){for(e.flags|=128,kl(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ze(ct,ct.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ct()>Pa&&(e.flags|=128,r=!0,kl(s,!1),e.lanes=4194304)}else{if(!r)if(t=Th(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),kl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!at)return sn(e),null}else 2*Ct()-s.renderingStartTime>Pa&&n!==1073741824&&(e.flags|=128,r=!0,kl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ct(),e.sibling=null,n=ct.current,Ze(ct,r?n&1|2:n&1),e):(sn(e),null);case 22:case 23:return c_(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Un&1073741824&&(sn(e),e.subtreeFlags&6&&(e.flags|=8192)):sn(e),null;case 24:return null;case 25:return null}throw Error(q(156,e.tag))}function vD(t,e){switch(Wv(e),e.tag){case 1:return Mn(e.type)&&yh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ra(),st(Dn),st(mn),Zv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Jv(e),null;case 13:if(st(ct),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(q(340));ba()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return st(ct),null;case 4:return Ra(),null;case 10:return Gv(e.type._context),null;case 22:case 23:return c_(),null;case 24:return null;default:return null}}var cd=!1,un=!1,_D=typeof WeakSet=="function"?WeakSet:Set,J=null;function ra(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){yt(t,e,r)}else n.current=null}function hy(t,e,n){try{n()}catch(r){yt(t,e,r)}}var pS=!1;function wD(t,e){if(Qg=fh,t=O1(),Bv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var g;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===t)break t;if(f===n&&++c===i&&(a=o),f===s&&++d===r&&(l=o),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yg={focusedElem:t,selectionRange:n},fh=!1,J=e;J!==null;)if(e=J,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,J=t;else for(;J!==null;){e=J;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var T=v.memoizedProps,x=v.memoizedState,_=e.stateNode,w=_.getSnapshotBeforeUpdate(e.elementType===e.type?T:gr(e.type,T),x);_.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(P){yt(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,J=t;break}J=e.return}return v=pS,pS=!1,v}function ou(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&hy(e,n,s)}i=i.next}while(i!==r)}}function Vf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function fy(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function kb(t){var e=t.alternate;e!==null&&(t.alternate=null,kb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Vr],delete e[Ou],delete e[Zg],delete e[nD],delete e[rD])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Pb(t){return t.tag===5||t.tag===3||t.tag===4}function mS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Pb(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function py(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=gh));else if(r!==4&&(t=t.child,t!==null))for(py(t,e,n),t=t.sibling;t!==null;)py(t,e,n),t=t.sibling}function my(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(my(t,e,n),t=t.sibling;t!==null;)my(t,e,n),t=t.sibling}var Gt=null,yr=!1;function $i(t,e,n){for(n=n.child;n!==null;)Ab(t,e,n),n=n.sibling}function Ab(t,e,n){if($r&&typeof $r.onCommitFiberUnmount=="function")try{$r.onCommitFiberUnmount(kf,n)}catch{}switch(n.tag){case 5:un||ra(n,e);case 6:var r=Gt,i=yr;Gt=null,$i(t,e,n),Gt=r,yr=i,Gt!==null&&(yr?(t=Gt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Gt.removeChild(n.stateNode));break;case 18:Gt!==null&&(yr?(t=Gt,n=n.stateNode,t.nodeType===8?jm(t.parentNode,n):t.nodeType===1&&jm(t,n),Ru(t)):jm(Gt,n.stateNode));break;case 4:r=Gt,i=yr,Gt=n.stateNode.containerInfo,yr=!0,$i(t,e,n),Gt=r,yr=i;break;case 0:case 11:case 14:case 15:if(!un&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&hy(n,e,o),i=i.next}while(i!==r)}$i(t,e,n);break;case 1:if(!un&&(ra(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){yt(n,e,a)}$i(t,e,n);break;case 21:$i(t,e,n);break;case 22:n.mode&1?(un=(r=un)||n.memoizedState!==null,$i(t,e,n),un=r):$i(t,e,n);break;default:$i(t,e,n)}}function gS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new _D),e.forEach(function(r){var i=kD.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function mr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Gt=a.stateNode,yr=!1;break e;case 3:Gt=a.stateNode.containerInfo,yr=!0;break e;case 4:Gt=a.stateNode.containerInfo,yr=!0;break e}a=a.return}if(Gt===null)throw Error(q(160));Ab(s,o,i),Gt=null,yr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){yt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Nb(e,t),e=e.sibling}function Nb(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(mr(e,t),Ar(t),r&4){try{ou(3,t,t.return),Vf(3,t)}catch(T){yt(t,t.return,T)}try{ou(5,t,t.return)}catch(T){yt(t,t.return,T)}}break;case 1:mr(e,t),Ar(t),r&512&&n!==null&&ra(n,n.return);break;case 5:if(mr(e,t),Ar(t),r&512&&n!==null&&ra(n,n.return),t.flags&32){var i=t.stateNode;try{Tu(i,"")}catch(T){yt(t,t.return,T)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&e1(i,s),$g(a,o);var c=$g(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?s1(i,h):d==="dangerouslySetInnerHTML"?r1(i,h):d==="children"?Tu(i,h):kv(i,d,h,c)}switch(a){case"input":Dg(i,s);break;case"textarea":t1(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?la(i,!!s.multiple,g,!1):f!==!!s.multiple&&(s.defaultValue!=null?la(i,!!s.multiple,s.defaultValue,!0):la(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ou]=s}catch(T){yt(t,t.return,T)}}break;case 6:if(mr(e,t),Ar(t),r&4){if(t.stateNode===null)throw Error(q(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(T){yt(t,t.return,T)}}break;case 3:if(mr(e,t),Ar(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ru(e.containerInfo)}catch(T){yt(t,t.return,T)}break;case 4:mr(e,t),Ar(t);break;case 13:mr(e,t),Ar(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(l_=Ct())),r&4&&gS(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(un=(c=un)||d,mr(e,t),un=c):mr(e,t),Ar(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(J=t,d=t.child;d!==null;){for(h=J=d;J!==null;){switch(f=J,g=f.child,f.tag){case 0:case 11:case 14:case 15:ou(4,f,f.return);break;case 1:ra(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(T){yt(r,n,T)}}break;case 5:ra(f,f.return);break;case 22:if(f.memoizedState!==null){vS(h);continue}}g!==null?(g.return=f,J=g):vS(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=i1("display",o))}catch(T){yt(t,t.return,T)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(T){yt(t,t.return,T)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:mr(e,t),Ar(t),r&4&&gS(t);break;case 21:break;default:mr(e,t),Ar(t)}}function Ar(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Pb(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Tu(i,""),r.flags&=-33);var s=mS(t);my(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=mS(t);py(t,a,o);break;default:throw Error(q(161))}}catch(l){yt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ED(t,e,n){J=t,Ob(t)}function Ob(t,e,n){for(var r=(t.mode&1)!==0;J!==null;){var i=J,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||cd;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||un;a=cd;var c=un;if(cd=o,(un=l)&&!c)for(J=i;J!==null;)o=J,l=o.child,o.tag===22&&o.memoizedState!==null?_S(i):l!==null?(l.return=o,J=l):_S(i);for(;s!==null;)J=s,Ob(s),s=s.sibling;J=i,cd=a,un=c}yS(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,J=s):yS(t)}}function yS(t){for(;J!==null;){var e=J;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:un||Vf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!un)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:gr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&tS(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}tS(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Ru(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}un||e.flags&512&&fy(e)}catch(f){yt(e,e.return,f)}}if(e===t){J=null;break}if(n=e.sibling,n!==null){n.return=e.return,J=n;break}J=e.return}}function vS(t){for(;J!==null;){var e=J;if(e===t){J=null;break}var n=e.sibling;if(n!==null){n.return=e.return,J=n;break}J=e.return}}function _S(t){for(;J!==null;){var e=J;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Vf(4,e)}catch(l){yt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){yt(e,i,l)}}var s=e.return;try{fy(e)}catch(l){yt(e,s,l)}break;case 5:var o=e.return;try{fy(e)}catch(l){yt(e,o,l)}}}catch(l){yt(e,e.return,l)}if(e===t){J=null;break}var a=e.sibling;if(a!==null){a.return=e.return,J=a;break}J=e.return}}var SD=Math.ceil,xh=ki.ReactCurrentDispatcher,o_=ki.ReactCurrentOwner,sr=ki.ReactCurrentBatchConfig,ke=0,Wt=null,Rt=null,Xt=0,Un=0,ia=Rs(0),Lt=0,$u=null,oo=0,Ff=0,a_=0,au=null,Rn=null,l_=0,Pa=1/0,ni=null,Rh=!1,gy=null,os=null,dd=!1,Ji=null,kh=0,lu=0,yy=null,jd=-1,Ud=0;function En(){return ke&6?Ct():jd!==-1?jd:jd=Ct()}function as(t){return t.mode&1?ke&2&&Xt!==0?Xt&-Xt:sD.transition!==null?(Ud===0&&(Ud=y1()),Ud):(t=Be,t!==0||(t=window.event,t=t===void 0?16:T1(t.type)),t):1}function Ir(t,e,n,r){if(50<lu)throw lu=0,yy=null,Error(q(185));ac(t,n,r),(!(ke&2)||t!==Wt)&&(t===Wt&&(!(ke&2)&&(Ff|=n),Lt===4&&qi(t,Xt)),Ln(t,r),n===1&&ke===0&&!(e.mode&1)&&(Pa=Ct()+500,Df&&ks()))}function Ln(t,e){var n=t.callbackNode;sO(t,e);var r=hh(t,t===Wt?Xt:0);if(r===0)n!==null&&RE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&RE(n),e===1)t.tag===0?iD(wS.bind(null,t)):z1(wS.bind(null,t)),eD(function(){!(ke&6)&&ks()}),n=null;else{switch(v1(r)){case 1:n=Dv;break;case 4:n=m1;break;case 16:n=dh;break;case 536870912:n=g1;break;default:n=dh}n=Ub(n,Db.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Db(t,e){if(jd=-1,Ud=0,ke&6)throw Error(q(327));var n=t.callbackNode;if(fa()&&t.callbackNode!==n)return null;var r=hh(t,t===Wt?Xt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ph(t,r);else{e=r;var i=ke;ke|=2;var s=Lb();(Wt!==t||Xt!==e)&&(ni=null,Pa=Ct()+500,Js(t,e));do try{ID();break}catch(a){Mb(t,a)}while(!0);Kv(),xh.current=s,ke=i,Rt!==null?e=0:(Wt=null,Xt=0,e=Lt)}if(e!==0){if(e===2&&(i=Wg(t),i!==0&&(r=i,e=vy(t,i))),e===1)throw n=$u,Js(t,0),qi(t,r),Ln(t,Ct()),n;if(e===6)qi(t,r);else{if(i=t.current.alternate,!(r&30)&&!CD(i)&&(e=Ph(t,r),e===2&&(s=Wg(t),s!==0&&(r=s,e=vy(t,s))),e===1))throw n=$u,Js(t,0),qi(t,r),Ln(t,Ct()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(q(345));case 2:js(t,Rn,ni);break;case 3:if(qi(t,r),(r&130023424)===r&&(e=l_+500-Ct(),10<e)){if(hh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){En(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Jg(js.bind(null,t,Rn,ni),e);break}js(t,Rn,ni);break;case 4:if(qi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Tr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ct()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*SD(r/1960))-r,10<r){t.timeoutHandle=Jg(js.bind(null,t,Rn,ni),r);break}js(t,Rn,ni);break;case 5:js(t,Rn,ni);break;default:throw Error(q(329))}}}return Ln(t,Ct()),t.callbackNode===n?Db.bind(null,t):null}function vy(t,e){var n=au;return t.current.memoizedState.isDehydrated&&(Js(t,e).flags|=256),t=Ph(t,e),t!==2&&(e=Rn,Rn=n,e!==null&&_y(e)),t}function _y(t){Rn===null?Rn=t:Rn.push.apply(Rn,t)}function CD(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Rr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function qi(t,e){for(e&=~a_,e&=~Ff,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Tr(e),r=1<<n;t[n]=-1,e&=~r}}function wS(t){if(ke&6)throw Error(q(327));fa();var e=hh(t,0);if(!(e&1))return Ln(t,Ct()),null;var n=Ph(t,e);if(t.tag!==0&&n===2){var r=Wg(t);r!==0&&(e=r,n=vy(t,r))}if(n===1)throw n=$u,Js(t,0),qi(t,e),Ln(t,Ct()),n;if(n===6)throw Error(q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,js(t,Rn,ni),Ln(t,Ct()),null}function u_(t,e){var n=ke;ke|=1;try{return t(e)}finally{ke=n,ke===0&&(Pa=Ct()+500,Df&&ks())}}function ao(t){Ji!==null&&Ji.tag===0&&!(ke&6)&&fa();var e=ke;ke|=1;var n=sr.transition,r=Be;try{if(sr.transition=null,Be=1,t)return t()}finally{Be=r,sr.transition=n,ke=e,!(ke&6)&&ks()}}function c_(){Un=ia.current,st(ia)}function Js(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,ZO(n)),Rt!==null)for(n=Rt.return;n!==null;){var r=n;switch(Wv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&yh();break;case 3:Ra(),st(Dn),st(mn),Zv();break;case 5:Jv(r);break;case 4:Ra();break;case 13:st(ct);break;case 19:st(ct);break;case 10:Gv(r.type._context);break;case 22:case 23:c_()}n=n.return}if(Wt=t,Rt=t=ls(t.current,null),Xt=Un=e,Lt=0,$u=null,a_=Ff=oo=0,Rn=au=null,Ks!==null){for(e=0;e<Ks.length;e++)if(n=Ks[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ks=null}return t}function Mb(t,e){do{var n=Rt;try{if(Kv(),Vd.current=bh,Ih){for(var r=dt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ih=!1}if(so=0,Ut=Dt=dt=null,su=!1,Lu=0,o_.current=null,n===null||n.return===null){Lt=1,$u=e,Rt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Xt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=aS(o);if(g!==null){g.flags&=-257,lS(g,o,a,s,e),g.mode&1&&oS(s,c,e),e=g,l=c;var v=e.updateQueue;if(v===null){var T=new Set;T.add(l),e.updateQueue=T}else v.add(l);break e}else{if(!(e&1)){oS(s,c,e),d_();break e}l=Error(q(426))}}else if(at&&a.mode&1){var x=aS(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),lS(x,o,a,s,e),Hv(ka(l,a));break e}}s=l=ka(l,a),Lt!==4&&(Lt=2),au===null?au=[s]:au.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=vb(s,l,e);eS(s,_);break e;case 1:a=l;var w=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(os===null||!os.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var P=_b(s,a,e);eS(s,P);break e}}s=s.return}while(s!==null)}Fb(n)}catch(D){e=D,Rt===n&&n!==null&&(Rt=n=n.return);continue}break}while(!0)}function Lb(){var t=xh.current;return xh.current=bh,t===null?bh:t}function d_(){(Lt===0||Lt===3||Lt===2)&&(Lt=4),Wt===null||!(oo&268435455)&&!(Ff&268435455)||qi(Wt,Xt)}function Ph(t,e){var n=ke;ke|=2;var r=Lb();(Wt!==t||Xt!==e)&&(ni=null,Js(t,e));do try{TD();break}catch(i){Mb(t,i)}while(!0);if(Kv(),ke=n,xh.current=r,Rt!==null)throw Error(q(261));return Wt=null,Xt=0,Lt}function TD(){for(;Rt!==null;)Vb(Rt)}function ID(){for(;Rt!==null&&!YN();)Vb(Rt)}function Vb(t){var e=jb(t.alternate,t,Un);t.memoizedProps=t.pendingProps,e===null?Fb(t):Rt=e,o_.current=null}function Fb(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=vD(n,e),n!==null){n.flags&=32767,Rt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Lt=6,Rt=null;return}}else if(n=yD(n,e,Un),n!==null){Rt=n;return}if(e=e.sibling,e!==null){Rt=e;return}Rt=e=t}while(e!==null);Lt===0&&(Lt=5)}function js(t,e,n){var r=Be,i=sr.transition;try{sr.transition=null,Be=1,bD(t,e,n,r)}finally{sr.transition=i,Be=r}return null}function bD(t,e,n,r){do fa();while(Ji!==null);if(ke&6)throw Error(q(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(q(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(oO(t,s),t===Wt&&(Rt=Wt=null,Xt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||dd||(dd=!0,Ub(dh,function(){return fa(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=sr.transition,sr.transition=null;var o=Be;Be=1;var a=ke;ke|=4,o_.current=null,wD(t,n),Nb(n,t),qO(Yg),fh=!!Qg,Yg=Qg=null,t.current=n,ED(n),XN(),ke=a,Be=o,sr.transition=s}else t.current=n;if(dd&&(dd=!1,Ji=t,kh=i),s=t.pendingLanes,s===0&&(os=null),eO(n.stateNode),Ln(t,Ct()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Rh)throw Rh=!1,t=gy,gy=null,t;return kh&1&&t.tag!==0&&fa(),s=t.pendingLanes,s&1?t===yy?lu++:(lu=0,yy=t):lu=0,ks(),null}function fa(){if(Ji!==null){var t=v1(kh),e=sr.transition,n=Be;try{if(sr.transition=null,Be=16>t?16:t,Ji===null)var r=!1;else{if(t=Ji,Ji=null,kh=0,ke&6)throw Error(q(331));var i=ke;for(ke|=4,J=t.current;J!==null;){var s=J,o=s.child;if(J.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(J=c;J!==null;){var d=J;switch(d.tag){case 0:case 11:case 15:ou(8,d,s)}var h=d.child;if(h!==null)h.return=d,J=h;else for(;J!==null;){d=J;var f=d.sibling,g=d.return;if(kb(d),d===c){J=null;break}if(f!==null){f.return=g,J=f;break}J=g}}}var v=s.alternate;if(v!==null){var T=v.child;if(T!==null){v.child=null;do{var x=T.sibling;T.sibling=null,T=x}while(T!==null)}}J=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,J=o;else e:for(;J!==null;){if(s=J,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ou(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,J=_;break e}J=s.return}}var w=t.current;for(J=w;J!==null;){o=J;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,J=E;else e:for(o=w;J!==null;){if(a=J,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Vf(9,a)}}catch(D){yt(a,a.return,D)}if(a===o){J=null;break e}var P=a.sibling;if(P!==null){P.return=a.return,J=P;break e}J=a.return}}if(ke=i,ks(),$r&&typeof $r.onPostCommitFiberRoot=="function")try{$r.onPostCommitFiberRoot(kf,t)}catch{}r=!0}return r}finally{Be=n,sr.transition=e}}return!1}function ES(t,e,n){e=ka(n,e),e=vb(t,e,1),t=ss(t,e,1),e=En(),t!==null&&(ac(t,1,e),Ln(t,e))}function yt(t,e,n){if(t.tag===3)ES(t,t,n);else for(;e!==null;){if(e.tag===3){ES(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(os===null||!os.has(r))){t=ka(n,t),t=_b(e,t,1),e=ss(e,t,1),t=En(),e!==null&&(ac(e,1,t),Ln(e,t));break}}e=e.return}}function xD(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=En(),t.pingedLanes|=t.suspendedLanes&n,Wt===t&&(Xt&n)===n&&(Lt===4||Lt===3&&(Xt&130023424)===Xt&&500>Ct()-l_?Js(t,0):a_|=n),Ln(t,e)}function $b(t,e){e===0&&(t.mode&1?(e=td,td<<=1,!(td&130023424)&&(td=4194304)):e=1);var n=En();t=yi(t,e),t!==null&&(ac(t,e,n),Ln(t,n))}function RD(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),$b(t,n)}function kD(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(e),$b(t,n)}var jb;jb=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Dn.current)An=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return An=!1,gD(t,e,n);An=!!(t.flags&131072)}else An=!1,at&&e.flags&1048576&&W1(e,wh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;$d(t,e),t=e.pendingProps;var i=Ia(e,mn.current);ha(e,n),i=t_(null,e,r,t,i,n);var s=n_();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Mn(r)?(s=!0,vh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Yv(e),i.updater=Lf,e.stateNode=i,i._reactInternals=e,sy(e,r,t,n),e=ly(null,e,r,!0,s,n)):(e.tag=0,at&&s&&zv(e),_n(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch($d(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=AD(r),t=gr(r,t),i){case 0:e=ay(null,e,r,t,n);break e;case 1:e=dS(null,e,r,t,n);break e;case 11:e=uS(null,e,r,t,n);break e;case 14:e=cS(null,e,r,gr(r.type,t),n);break e}throw Error(q(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gr(r,i),ay(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gr(r,i),dS(t,e,r,i,n);case 3:e:{if(Cb(e),t===null)throw Error(q(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Y1(t,e),Ch(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ka(Error(q(423)),e),e=hS(t,e,r,n,i);break e}else if(r!==i){i=ka(Error(q(424)),e),e=hS(t,e,r,n,i);break e}else for(Wn=is(e.stateNode.containerInfo.firstChild),qn=e,at=!0,vr=null,n=G1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ba(),r===i){e=vi(t,e,n);break e}_n(t,e,r,n)}e=e.child}return e;case 5:return X1(e),t===null&&ny(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Xg(r,i)?o=null:s!==null&&Xg(r,s)&&(e.flags|=32),Sb(t,e),_n(t,e,o,n),e.child;case 6:return t===null&&ny(e),null;case 13:return Tb(t,e,n);case 4:return Xv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=xa(e,null,r,n):_n(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gr(r,i),uS(t,e,r,i,n);case 7:return _n(t,e,e.pendingProps,n),e.child;case 8:return _n(t,e,e.pendingProps.children,n),e.child;case 12:return _n(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ze(Eh,r._currentValue),r._currentValue=o,s!==null)if(Rr(s.value,o)){if(s.children===i.children&&!Dn.current){e=vi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=di(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),ry(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(q(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ry(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}_n(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ha(e,n),i=or(i),r=r(i),e.flags|=1,_n(t,e,r,n),e.child;case 14:return r=e.type,i=gr(r,e.pendingProps),i=gr(r.type,i),cS(t,e,r,i,n);case 15:return wb(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gr(r,i),$d(t,e),e.tag=1,Mn(r)?(t=!0,vh(e)):t=!1,ha(e,n),yb(e,r,i),sy(e,r,i,n),ly(null,e,r,!0,t,n);case 19:return Ib(t,e,n);case 22:return Eb(t,e,n)}throw Error(q(156,e.tag))};function Ub(t,e){return p1(t,e)}function PD(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ir(t,e,n,r){return new PD(t,e,n,r)}function h_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function AD(t){if(typeof t=="function")return h_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Av)return 11;if(t===Nv)return 14}return 2}function ls(t,e){var n=t.alternate;return n===null?(n=ir(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Bd(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")h_(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Go:return Zs(n.children,i,s,e);case Pv:o=8,i|=8;break;case kg:return t=ir(12,n,e,i|2),t.elementType=kg,t.lanes=s,t;case Pg:return t=ir(13,n,e,i),t.elementType=Pg,t.lanes=s,t;case Ag:return t=ir(19,n,e,i),t.elementType=Ag,t.lanes=s,t;case XI:return $f(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case QI:o=10;break e;case YI:o=9;break e;case Av:o=11;break e;case Nv:o=14;break e;case zi:o=16,r=null;break e}throw Error(q(130,t==null?t:typeof t,""))}return e=ir(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Zs(t,e,n,r){return t=ir(7,t,r,e),t.lanes=n,t}function $f(t,e,n,r){return t=ir(22,t,r,e),t.elementType=XI,t.lanes=n,t.stateNode={isHidden:!1},t}function Gm(t,e,n){return t=ir(6,t,null,e),t.lanes=n,t}function Qm(t,e,n){return e=ir(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ND(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=km(0),this.expirationTimes=km(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=km(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function f_(t,e,n,r,i,s,o,a,l){return t=new ND(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ir(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yv(s),t}function OD(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ko,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Bb(t){if(!t)return ms;t=t._reactInternals;e:{if(_o(t)!==t||t.tag!==1)throw Error(q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Mn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(q(171))}if(t.tag===1){var n=t.type;if(Mn(n))return B1(t,n,e)}return e}function zb(t,e,n,r,i,s,o,a,l){return t=f_(n,r,!0,t,i,s,o,a,l),t.context=Bb(null),n=t.current,r=En(),i=as(n),s=di(r,i),s.callback=e??null,ss(n,s,i),t.current.lanes=i,ac(t,i,r),Ln(t,r),t}function jf(t,e,n,r){var i=e.current,s=En(),o=as(i);return n=Bb(n),e.context===null?e.context=n:e.pendingContext=n,e=di(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ss(i,e,o),t!==null&&(Ir(t,i,o,s),Ld(t,i,o)),o}function Ah(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function SS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function p_(t,e){SS(t,e),(t=t.alternate)&&SS(t,e)}function DD(){return null}var Wb=typeof reportError=="function"?reportError:function(t){console.error(t)};function m_(t){this._internalRoot=t}Uf.prototype.render=m_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(q(409));jf(t,e,null,null)};Uf.prototype.unmount=m_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ao(function(){jf(null,t,null,null)}),e[gi]=null}};function Uf(t){this._internalRoot=t}Uf.prototype.unstable_scheduleHydration=function(t){if(t){var e=E1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Hi.length&&e!==0&&e<Hi[n].priority;n++);Hi.splice(n,0,t),n===0&&C1(t)}};function g_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Bf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function CS(){}function MD(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Ah(o);s.call(c)}}var o=zb(e,r,t,0,null,!1,!1,"",CS);return t._reactRootContainer=o,t[gi]=o.current,Au(t.nodeType===8?t.parentNode:t),ao(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Ah(l);a.call(c)}}var l=f_(t,0,!1,null,null,!1,!1,"",CS);return t._reactRootContainer=l,t[gi]=l.current,Au(t.nodeType===8?t.parentNode:t),ao(function(){jf(e,l,n,r)}),l}function zf(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Ah(o);a.call(l)}}jf(e,o,t,i)}else o=MD(n,e,t,i,r);return Ah(o)}_1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Hl(e.pendingLanes);n!==0&&(Mv(e,n|1),Ln(e,Ct()),!(ke&6)&&(Pa=Ct()+500,ks()))}break;case 13:ao(function(){var r=yi(t,1);if(r!==null){var i=En();Ir(r,t,1,i)}}),p_(t,1)}};Lv=function(t){if(t.tag===13){var e=yi(t,134217728);if(e!==null){var n=En();Ir(e,t,134217728,n)}p_(t,134217728)}};w1=function(t){if(t.tag===13){var e=as(t),n=yi(t,e);if(n!==null){var r=En();Ir(n,t,e,r)}p_(t,e)}};E1=function(){return Be};S1=function(t,e){var n=Be;try{return Be=t,e()}finally{Be=n}};Ug=function(t,e,n){switch(e){case"input":if(Dg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Of(r);if(!i)throw Error(q(90));ZI(r),Dg(r,i)}}}break;case"textarea":t1(t,n);break;case"select":e=n.value,e!=null&&la(t,!!n.multiple,e,!1)}};l1=u_;u1=ao;var LD={usingClientEntryPoint:!1,Events:[uc,Jo,Of,o1,a1,u_]},Pl={findFiberByHostInstance:qs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},VD={bundleType:Pl.bundleType,version:Pl.version,rendererPackageName:Pl.rendererPackageName,rendererConfig:Pl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ki.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=h1(t),t===null?null:t.stateNode},findFiberByHostInstance:Pl.findFiberByHostInstance||DD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hd.isDisabled&&hd.supportsFiber)try{kf=hd.inject(VD),$r=hd}catch{}}Yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LD;Yn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g_(e))throw Error(q(200));return OD(t,e,null,n)};Yn.createRoot=function(t,e){if(!g_(t))throw Error(q(299));var n=!1,r="",i=Wb;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=f_(t,1,!1,null,null,n,!1,r,i),t[gi]=e.current,Au(t.nodeType===8?t.parentNode:t),new m_(e)};Yn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(q(188)):(t=Object.keys(t).join(","),Error(q(268,t)));return t=h1(e),t=t===null?null:t.stateNode,t};Yn.flushSync=function(t){return ao(t)};Yn.hydrate=function(t,e,n){if(!Bf(e))throw Error(q(200));return zf(null,t,e,!0,n)};Yn.hydrateRoot=function(t,e,n){if(!g_(t))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Wb;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=zb(e,null,t,1,n??null,i,!1,s,o),t[gi]=e.current,Au(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Uf(e)};Yn.render=function(t,e,n){if(!Bf(e))throw Error(q(200));return zf(null,t,e,!1,n)};Yn.unmountComponentAtNode=function(t){if(!Bf(t))throw Error(q(40));return t._reactRootContainer?(ao(function(){zf(null,null,t,!1,function(){t._reactRootContainer=null,t[gi]=null})}),!0):!1};Yn.unstable_batchedUpdates=u_;Yn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Bf(n))throw Error(q(200));if(t==null||t._reactInternals===void 0)throw Error(q(38));return zf(t,e,n,!1,r)};Yn.version="18.3.1-next-f1338f8080-20240426";function Hb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Hb)}catch(t){console.error(t)}}Hb(),HI.exports=Yn;var y_=HI.exports;const fd=OI(y_);var TS=y_;xg.createRoot=TS.createRoot,xg.hydrateRoot=TS.hydrateRoot;var v_={};Object.defineProperty(v_,"__esModule",{value:!0});v_.parse=WD;v_.serialize=HD;const FD=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,$D=/^[\u0021-\u003A\u003C-\u007E]*$/,jD=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,UD=/^[\u0020-\u003A\u003D-\u007E]*$/,BD=Object.prototype.toString,zD=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function WD(t,e){const n=new zD,r=t.length;if(r<2)return n;const i=(e==null?void 0:e.decode)||qD;let s=0;do{const o=t.indexOf("=",s);if(o===-1)break;const a=t.indexOf(";",s),l=a===-1?r:a;if(o>l){s=t.lastIndexOf(";",o-1)+1;continue}const c=IS(t,s,o),d=bS(t,o,c),h=t.slice(c,d);if(n[h]===void 0){let f=IS(t,o+1,l),g=bS(t,l,f);const v=i(t.slice(f,g));n[h]=v}s=l+1}while(s<r);return n}function IS(t,e,n){do{const r=t.charCodeAt(e);if(r!==32&&r!==9)return e}while(++e<n);return n}function bS(t,e,n){for(;e>n;){const r=t.charCodeAt(--e);if(r!==32&&r!==9)return e+1}return n}function HD(t,e,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!FD.test(t))throw new TypeError(`argument name is invalid: ${t}`);const i=r(e);if(!$D.test(i))throw new TypeError(`argument val is invalid: ${e}`);let s=t+"="+i;if(!n)return s;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);s+="; Max-Age="+n.maxAge}if(n.domain){if(!jD.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);s+="; Domain="+n.domain}if(n.path){if(!UD.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);s+="; Path="+n.path}if(n.expires){if(!KD(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);s+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(s+="; HttpOnly"),n.secure&&(s+="; Secure"),n.partitioned&&(s+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":s+="; Priority=Low";break;case"medium":s+="; Priority=Medium";break;case"high":s+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"none":s+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return s}function qD(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function KD(t){return BD.call(t)==="[object Date]"}/**
 * react-router v7.0.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var xS="popstate";function GD(t={}){function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return wy("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ju(i)}return YD(e,n,null,t)}function ht(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ps(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function QD(){return Math.random().toString(36).substring(2,10)}function RS(t,e){return{usr:t.state,key:t.key,idx:e}}function wy(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ga(e):e,state:n,key:e&&e.key||r||QD()}}function ju({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ga(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function YD(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,c=d();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function d(){return(o.state||{idx:null}).idx}function h(){a="POP";let x=d(),_=x==null?null:x-c;c=x,l&&l({action:a,location:T.location,delta:_})}function f(x,_){a="PUSH";let w=wy(T.location,x,_);c=d()+1;let E=RS(w,c),P=T.createHref(w);try{o.pushState(E,"",P)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(P)}s&&l&&l({action:a,location:T.location,delta:1})}function g(x,_){a="REPLACE";let w=wy(T.location,x,_);c=d();let E=RS(w,c),P=T.createHref(w);o.replaceState(E,"",P),s&&l&&l({action:a,location:T.location,delta:0})}function v(x){let _=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof x=="string"?x:ju(x);return w=w.replace(/ $/,"%20"),ht(_,`No window.location.(origin|href) available to create URL for href: ${w}`),new URL(w,_)}let T={get action(){return a},get location(){return t(i,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(xS,h),l=x,()=>{i.removeEventListener(xS,h),l=null}},createHref(x){return e(i,x)},createURL:v,encodeLocation(x){let _=v(x);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:f,replace:g,go(x){return o.go(x)}};return T}function qb(t,e,n="/"){return XD(t,e,n,!1)}function XD(t,e,n,r){let i=typeof e=="string"?Ga(e):e,s=gs(i.pathname||"/",n);if(s==null)return null;let o=Kb(t);JD(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=u2(s);a=a2(o[l],c,r)}return a}function Kb(t,e=[],n=[],r=""){let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(ht(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let c=hi([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(ht(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),Kb(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:s2(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of Gb(s.path))i(s,o,l)}),e}function Gb(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Gb(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function JD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:o2(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var ZD=/^:[\w-]+$/,e2=3,t2=2,n2=1,r2=10,i2=-2,kS=t=>t==="*";function s2(t,e){let n=t.split("/"),r=n.length;return n.some(kS)&&(r+=i2),e&&(r+=t2),n.filter(i=>!kS(i)).reduce((i,s)=>i+(ZD.test(s)?e2:s===""?n2:r2),r)}function o2(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function a2(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=Nh({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),f=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=Nh({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:hi([s,h.pathname]),pathnameBase:f2(hi([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=hi([s,h.pathnameBase]))}return o}function Nh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=l2(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,{paramName:d,isOptional:h},f)=>{if(d==="*"){let v=a[f]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const g=a[f];return h&&!g?c[d]=void 0:c[d]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function l2(t,e=!1,n=!0){Ps(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function u2(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ps(!1,`The URL path "${t}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function gs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function c2(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ga(t):t;return{pathname:n?n.startsWith("/")?n:d2(n,e):e,search:p2(r),hash:m2(i)}}function d2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ym(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function h2(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Qb(t){let e=h2(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Yb(t,e,n,r=!1){let i;typeof t=="string"?i=Ga(t):(i={...t},ht(!i.pathname||!i.pathname.includes("?"),Ym("?","pathname","search",i)),ht(!i.pathname||!i.pathname.includes("#"),Ym("#","pathname","hash",i)),ht(!i.search||!i.search.includes("#"),Ym("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=c2(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}var hi=t=>t.join("/").replace(/\/\/+/g,"/"),f2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),p2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,m2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function g2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Xb=["POST","PUT","PATCH","DELETE"];new Set(Xb);var y2=["GET",...Xb];new Set(y2);var Qa=S.createContext(null);Qa.displayName="DataRouter";var Wf=S.createContext(null);Wf.displayName="DataRouterState";var Jb=S.createContext({isTransitioning:!1});Jb.displayName="ViewTransition";var v2=S.createContext(new Map);v2.displayName="Fetchers";var _2=S.createContext(null);_2.displayName="Await";var Qr=S.createContext(null);Qr.displayName="Navigation";var dc=S.createContext(null);dc.displayName="Location";var Pi=S.createContext({outlet:null,matches:[],isDataRoute:!1});Pi.displayName="Route";var __=S.createContext(null);__.displayName="RouteError";function w2(t,{relative:e}={}){ht(hc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=S.useContext(Qr),{hash:i,pathname:s,search:o}=fc(t,{relative:e}),a=s;return n!=="/"&&(a=s==="/"?n:hi([n,s])),r.createHref({pathname:a,search:o,hash:i})}function hc(){return S.useContext(dc)!=null}function wo(){return ht(hc(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(dc).location}var Zb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ex(t){S.useContext(Qr).static||S.useLayoutEffect(t)}function Ya(){let{isDataRoute:t}=S.useContext(Pi);return t?O2():E2()}function E2(){ht(hc(),"useNavigate() may be used only in the context of a <Router> component.");let t=S.useContext(Qa),{basename:e,navigator:n}=S.useContext(Qr),{matches:r}=S.useContext(Pi),{pathname:i}=wo(),s=JSON.stringify(Qb(r)),o=S.useRef(!1);return ex(()=>{o.current=!0}),S.useCallback((l,c={})=>{if(Ps(o.current,Zb),!o.current)return;if(typeof l=="number"){n.go(l);return}let d=Yb(l,JSON.parse(s),i,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:hi([e,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[e,n,s,i,t])}S.createContext(null);function fc(t,{relative:e}={}){let{matches:n}=S.useContext(Pi),{pathname:r}=wo(),i=JSON.stringify(Qb(n));return S.useMemo(()=>Yb(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function S2(t,e){return tx(t,e)}function tx(t,e,n,r){var T;ht(hc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=S.useContext(Qr),{matches:s}=S.useContext(Pi),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=wo(),d;if(e){let x=typeof e=="string"?Ga(e):e;ht(l==="/"||((T=x.pathname)==null?void 0:T.startsWith(l)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${l}" but pathname "${x.pathname}" was given in the \`location\` prop.`),d=x}else d=c;let h=d.pathname||"/",f=h;if(l!=="/"){let x=l.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let g=qb(t,{pathname:f}),v=x2(g&&g.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:hi([l,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:hi([l,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,n,r);return e&&v?S.createElement(dc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...d},navigationType:"POP"}},v):v}function C2(){let t=N2(),e=g2(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:i},n):null,null)}var T2=S.createElement(C2,null),I2=class extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?S.createElement(Pi.Provider,{value:this.props.routeContext},S.createElement(__.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function b2({routeContext:t,match:e,children:n}){let r=S.useContext(Qa);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(Pi.Provider,{value:t},n)}function x2(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,s=n==null?void 0:n.errors;if(s!=null){let l=i.findIndex(c=>c.route.id&&(s==null?void 0:s[c.route.id])!==void 0);ht(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let o=!1,a=-1;if(n)for(let l=0;l<i.length;l++){let c=i[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(a=l),c.route.id){let{loaderData:d,errors:h}=n,f=c.route.loader&&!d.hasOwnProperty(c.route.id)&&(!h||h[c.route.id]===void 0);if(c.route.lazy||f){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,c,d)=>{let h,f=!1,g=null,v=null;n&&(h=s&&c.route.id?s[c.route.id]:void 0,g=c.route.errorElement||T2,o&&(a<0&&d===0?(D2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,v=null):a===d&&(f=!0,v=c.route.hydrateFallbackElement||null)));let T=e.concat(i.slice(0,d+1)),x=()=>{let _;return h?_=g:f?_=v:c.route.Component?_=S.createElement(c.route.Component,null):c.route.element?_=c.route.element:_=l,S.createElement(b2,{match:c,routeContext:{outlet:l,matches:T,isDataRoute:n!=null},children:_})};return n&&(c.route.ErrorBoundary||c.route.errorElement||d===0)?S.createElement(I2,{location:n.location,revalidation:n.revalidation,component:g,error:h,children:x(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):x()},null)}function w_(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function R2(t){let e=S.useContext(Qa);return ht(e,w_(t)),e}function k2(t){let e=S.useContext(Wf);return ht(e,w_(t)),e}function P2(t){let e=S.useContext(Pi);return ht(e,w_(t)),e}function E_(t){let e=P2(t),n=e.matches[e.matches.length-1];return ht(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function A2(){return E_("useRouteId")}function N2(){var r;let t=S.useContext(__),e=k2("useRouteError"),n=E_("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function O2(){let{router:t}=R2("useNavigate"),e=E_("useNavigate"),n=S.useRef(!1);return ex(()=>{n.current=!0}),S.useCallback(async(i,s={})=>{Ps(n.current,Zb),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var PS={};function D2(t,e,n){PS[t]||(PS[t]=!0,Ps(!1,n))}S.memo(M2);function M2({routes:t,future:e,state:n}){return tx(t,void 0,n,e)}function Zn(t){ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function L2({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){ht(!hc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=S.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=Ga(n));let{pathname:l="/",search:c="",hash:d="",state:h=null,key:f="default"}=n,g=S.useMemo(()=>{let v=gs(l,o);return v==null?null:{location:{pathname:v,search:c,hash:d,state:h,key:f},navigationType:r}},[o,l,c,d,h,f,r]);return Ps(g!=null,`<Router basename="${o}"> is not able to match the URL "${l}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:S.createElement(Qr.Provider,{value:a},S.createElement(dc.Provider,{children:e,value:g}))}function V2({children:t,location:e}){return S2(Ey(t),e)}function Ey(t,e=[]){let n=[];return S.Children.forEach(t,(r,i)=>{if(!S.isValidElement(r))return;let s=[...e,i];if(r.type===S.Fragment){n.push.apply(n,Ey(r.props.children,s));return}ht(r.type===Zn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ht(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Ey(r.props.children,s)),n.push(o)}),n}var zd="get",Wd="application/x-www-form-urlencoded";function Hf(t){return t!=null&&typeof t.tagName=="string"}function F2(t){return Hf(t)&&t.tagName.toLowerCase()==="button"}function $2(t){return Hf(t)&&t.tagName.toLowerCase()==="form"}function j2(t){return Hf(t)&&t.tagName.toLowerCase()==="input"}function U2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function B2(t,e){return t.button===0&&(!e||e==="_self")&&!U2(t)}var pd=null;function z2(){if(pd===null)try{new FormData(document.createElement("form"),0),pd=!1}catch{pd=!0}return pd}var W2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Xm(t){return t!=null&&!W2.has(t)?(Ps(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wd}"`),null):t}function H2(t,e){let n,r,i,s,o;if($2(t)){let a=t.getAttribute("action");r=a?gs(a,e):null,n=t.getAttribute("method")||zd,i=Xm(t.getAttribute("enctype"))||Wd,s=new FormData(t)}else if(F2(t)||j2(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?gs(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||zd,i=Xm(t.getAttribute("formenctype"))||Xm(a.getAttribute("enctype"))||Wd,s=new FormData(a,t),!z2()){let{name:c,type:d,value:h}=t;if(d==="image"){let f=c?`${c}.`:"";s.append(`${f}x`,"0"),s.append(`${f}y`,"0")}else c&&s.append(c,h)}}else{if(Hf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=zd,r=null,i=Wd,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}function S_(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function q2(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function K2(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function G2(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await q2(s,n);return o.links?o.links():[]}return[]}));return J2(r.flat(1).filter(K2).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function AS(t,e,n,r,i,s){let o=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,a=(l,c)=>{var d;return n[c].pathname!==l.pathname||((d=n[c].route.path)==null?void 0:d.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,c)=>o(l,c)||a(l,c)):s==="data"?e.filter((l,c)=>{var h;let d=r.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(o(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function Q2(t,e){return Y2(t.map(n=>{let r=e.routes[n.route.id];if(!r)return[];let i=[r.module];return r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function Y2(t){return[...new Set(t)]}function X2(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function J2(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(X2(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function Z2(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function eM(){let t=S.useContext(Qa);return S_(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function tM(){let t=S.useContext(Wf);return S_(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var C_=S.createContext(void 0);C_.displayName="FrameworkContext";function nx(){let t=S.useContext(C_);return S_(t,"You must render this element inside a <HydratedRouter> element"),t}function nM(t,e){let n=S.useContext(C_),[r,i]=S.useState(!1),[s,o]=S.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:d,onTouchStart:h}=e,f=S.useRef(null);S.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let T=_=>{_.forEach(w=>{o(w.isIntersecting)})},x=new IntersectionObserver(T,{threshold:.5});return f.current&&x.observe(f.current),()=>{x.disconnect()}}},[t]),S.useEffect(()=>{if(r){let T=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(T)}}},[r]);let g=()=>{i(!0)},v=()=>{i(!1),o(!1)};return n?t!=="intent"?[s,f,{}]:[s,f,{onFocus:Al(a,g),onBlur:Al(l,v),onMouseEnter:Al(c,g),onMouseLeave:Al(d,v),onTouchStart:Al(h,g)}]:[!1,f,{}]}function Al(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function rM({page:t,...e}){let{router:n}=eM(),r=S.useMemo(()=>qb(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?S.createElement(sM,{page:t,matches:r,...e}):(console.warn(`Tried to prefetch ${t} but no routes matched.`),null)}function iM(t){let{manifest:e,routeModules:n}=nx(),[r,i]=S.useState([]);return S.useEffect(()=>{let s=!1;return G2(t,e,n).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,n]),r}function sM({page:t,matches:e,...n}){let r=wo(),{manifest:i,routeModules:s}=nx(),{loaderData:o,matches:a}=tM(),l=S.useMemo(()=>AS(t,e,a,i,r,"data"),[t,e,a,i,r]),c=S.useMemo(()=>AS(t,e,a,i,r,"assets"),[t,e,a,i,r]),d=S.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let g=new Set,v=!1;if(e.forEach(x=>{var w;let _=i.routes[x.route.id];!_||!_.hasLoader||(!l.some(E=>E.route.id===x.route.id)&&x.route.id in o&&((w=s[x.route.id])!=null&&w.shouldRevalidate)||_.hasClientLoader?v=!0:g.add(x.route.id))}),g.size===0)return[];let T=Z2(t);return v&&g.size>0&&T.searchParams.set("_routes",e.filter(x=>g.has(x.route.id)).map(x=>x.route.id).join(",")),[T.pathname+T.search]},[o,r,i,l,e,t,s]),h=S.useMemo(()=>Q2(c,i),[c,i]),f=iM(c);return S.createElement(S.Fragment,null,d.map(g=>S.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...n})),h.map(g=>S.createElement("link",{key:g,rel:"modulepreload",href:g,...n})),f.map(({key:g,link:v})=>S.createElement("link",{key:g,...v})))}function oM(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var rx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{rx&&(window.__reactRouterVersion="7.0.1")}catch{}function aM({basename:t,children:e,window:n}){let r=S.useRef();r.current==null&&(r.current=GD({window:n,v5Compat:!0}));let i=r.current,[s,o]=S.useState({action:i.action,location:i.location}),a=S.useCallback(l=>{S.startTransition(()=>o(l))},[o]);return S.useLayoutEffect(()=>i.listen(a),[i,a]),S.createElement(L2,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var ix=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hs=S.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:h,...f},g){let{basename:v}=S.useContext(Qr),T=typeof c=="string"&&ix.test(c),x,_=!1;if(typeof c=="string"&&T&&(x=c,rx))try{let k=new URL(window.location.href),m=c.startsWith("//")?new URL(k.protocol+c):new URL(c),C=gs(m.pathname,v);m.origin===k.origin&&C!=null?c=C+m.search+m.hash:_=!0}catch{Ps(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=w2(c,{relative:i}),[E,P,D]=nM(r,f),M=dM(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:h});function R(k){e&&e(k),k.defaultPrevented||M(k)}let b=S.createElement("a",{...f,...D,href:x||w,onClick:_||s?e:R,ref:oM(g,P),target:l,"data-discover":!T&&n==="render"?"true":void 0});return E&&!T?S.createElement(S.Fragment,null,b,S.createElement(rM,{page:w})):b});Hs.displayName="Link";var lM=S.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...c},d){let h=fc(o,{relative:c.relative}),f=wo(),g=S.useContext(Wf),{navigator:v,basename:T}=S.useContext(Qr),x=g!=null&&gM(h)&&a===!0,_=v.encodeLocation?v.encodeLocation(h).pathname:h.pathname,w=f.pathname,E=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(w=w.toLowerCase(),E=E?E.toLowerCase():null,_=_.toLowerCase()),E&&T&&(E=gs(E,T)||E);const P=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let D=w===_||!i&&w.startsWith(_)&&w.charAt(P)==="/",M=E!=null&&(E===_||!i&&E.startsWith(_)&&E.charAt(_.length)==="/"),R={isActive:D,isPending:M,isTransitioning:x},b=D?e:void 0,k;typeof r=="function"?k=r(R):k=[r,D?"active":null,M?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let m=typeof s=="function"?s(R):s;return S.createElement(Hs,{...c,"aria-current":b,className:k,ref:d,style:m,to:o,viewTransition:a},typeof l=="function"?l(R):l)});lM.displayName="NavLink";var uM=S.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:o=zd,action:a,onSubmit:l,relative:c,preventScrollReset:d,viewTransition:h,...f},g)=>{let v=pM(),T=mM(a,{relative:c}),x=o.toLowerCase()==="get"?"get":"post",_=typeof a=="string"&&ix.test(a),w=E=>{if(l&&l(E),E.defaultPrevented)return;E.preventDefault();let P=E.nativeEvent.submitter,D=(P==null?void 0:P.getAttribute("formmethod"))||o;v(P||E.currentTarget,{fetcherKey:e,method:D,navigate:n,replace:i,state:s,relative:c,preventScrollReset:d,viewTransition:h})};return S.createElement("form",{ref:g,method:x,action:T,onSubmit:r?l:w,...f,"data-discover":!_&&t==="render"?"true":void 0})});uM.displayName="Form";function cM(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sx(t){let e=S.useContext(Qa);return ht(e,cM(t)),e}function dM(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=Ya(),l=wo(),c=fc(t,{relative:s});return S.useCallback(d=>{if(B2(d,e)){d.preventDefault();let h=n!==void 0?n:ju(l)===ju(c);a(t,{replace:h,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,c,n,r,e,t,i,s,o])}var hM=0,fM=()=>`__${String(++hM)}__`;function pM(){let{router:t}=sx("useSubmit"),{basename:e}=S.useContext(Qr),n=A2();return S.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:l,body:c}=H2(r,e);if(i.navigate===!1){let d=i.fetcherKey||fM();await t.fetch(d,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function mM(t,{relative:e}={}){let{basename:n}=S.useContext(Qr),r=S.useContext(Pi);ht(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...fc(t||".",{relative:e})},o=wo();if(t==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(d=>d==="")){a.delete("index"),l.filter(h=>h).forEach(h=>a.append("index",h));let d=a.toString();s.search=d?`?${d}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:hi([n,s.pathname])),ju(s)}function gM(t,e={}){let n=S.useContext(Jb);ht(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=sx("useViewTransitionState"),i=fc(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=gs(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=gs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Nh(i.pathname,o)!=null||Nh(i.pathname,s)!=null}new TextEncoder;var NS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K=function(t,e){if(!t)throw Xa(e)},Xa=function(t){return new Error("Firebase Database ("+ox.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},yM=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},T_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(f=64)),r.push(n[d],n[h],n[f],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ax(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):yM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new vM;const f=s<<2|a>>4;if(r.push(f),c!==64){const g=a<<4&240|c>>2;if(r.push(g),h!==64){const v=c<<6&192|h;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class vM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lx=function(t){const e=ax(t);return T_.encodeByteArray(e,!0)},Oh=function(t){return lx(t).replace(/\./g,"")},Dh=function(t){try{return T_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _M(t){return ux(void 0,t)}function ux(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!wM(n)||(t[n]=ux(t[n],e[n]));return t}function wM(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM=()=>EM().__FIREBASE_DEFAULTS__,CM=()=>{if(typeof process>"u"||typeof NS>"u")return;const t=NS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},TM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Dh(t[1]);return e&&JSON.parse(e)},qf=()=>{try{return SM()||CM()||TM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},cx=t=>{var e,n;return(n=(e=qf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},dx=t=>{const e=cx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},hx=()=>{var t;return(t=qf())===null||t===void 0?void 0:t.config},fx=t=>{var e;return(e=qf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function px(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Oh(JSON.stringify(n)),Oh(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function b_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gn())}function IM(){var t;const e=(t=qf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function xM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function mx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function RM(){const t=gn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function gx(){return ox.NODE_ADMIN===!0}function kM(){return!IM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PM(){try{return typeof indexedDB=="object"}catch{return!1}}function AM(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM="FirebaseError";class Ai extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=NM,Object.setPrototypeOf(this,Ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pc.prototype.create)}}class pc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?OM(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ai(i,a,r)}}function OM(t,e){return t.replace(DM,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const DM=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uu(t){return JSON.parse(t)}function zt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Uu(Dh(s[0])||""),n=Uu(Dh(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},MM=function(t){const e=yx(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},LM=function(t){const e=yx(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Aa(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Sy(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Mh(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Lh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(OS(s)&&OS(o)){if(!Lh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function OS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ja(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)r[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)r[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const f=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,d;for(let h=0;h<80;h++){h<40?h<20?(c=a^s&(o^a),d=1518500249):(c=s^o^a,d=1859775393):h<60?(c=s&o|a&(s|o),d=2400959708):(c=s^o^a,d=3395469782);const f=(i<<5|i>>>27)+c+l+d+r[h]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function FM(t,e){const n=new $M(t,e);return n.subscribe.bind(n)}class $M{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");jM(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Jm),i.error===void 0&&(i.error=Jm),i.complete===void 0&&(i.complete=Jm);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Jm(){}function vx(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,K(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Kf=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(t){return t&&t._delegate?t._delegate:t}class ys{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new I_;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(WM(e))try{this.getOrInitializeService({instanceIdentifier:Us})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Us){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Us){return this.instances.has(e)}getOptions(e=Us){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:zM(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Us){return this.component?this.component.multipleInstances?e:Us:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zM(t){return t===Us?void 0:t}function WM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new BM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ve||(ve={}));const qM={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},KM=ve.INFO,GM={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},QM=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=GM[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Gf{constructor(e){this.name=e,this._logLevel=KM,this._logHandler=QM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?qM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...e),this._logHandler(this,ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...e),this._logHandler(this,ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...e),this._logHandler(this,ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...e),this._logHandler(this,ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...e),this._logHandler(this,ve.ERROR,...e)}}const YM=(t,e)=>e.some(n=>t instanceof n);let DS,MS;function XM(){return DS||(DS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JM(){return MS||(MS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _x=new WeakMap,Cy=new WeakMap,wx=new WeakMap,Zm=new WeakMap,x_=new WeakMap;function ZM(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(us(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&_x.set(n,t)}).catch(()=>{}),x_.set(e,t),e}function eL(t){if(Cy.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Cy.set(t,e)}let Ty={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Cy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||wx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return us(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function tL(t){Ty=t(Ty)}function nL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(eg(this),e,...n);return wx.set(r,e.sort?e.sort():[e]),us(r)}:JM().includes(t)?function(...e){return t.apply(eg(this),e),us(_x.get(this))}:function(...e){return us(t.apply(eg(this),e))}}function rL(t){return typeof t=="function"?nL(t):(t instanceof IDBTransaction&&eL(t),YM(t,XM())?new Proxy(t,Ty):t)}function us(t){if(t instanceof IDBRequest)return ZM(t);if(Zm.has(t))return Zm.get(t);const e=rL(t);return e!==t&&(Zm.set(t,e),x_.set(e,t)),e}const eg=t=>x_.get(t);function iL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=us(o);return r&&o.addEventListener("upgradeneeded",l=>{r(us(o.result),l.oldVersion,l.newVersion,us(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const sL=["get","getKey","getAll","getAllKeys","count"],oL=["put","add","delete","clear"],tg=new Map;function LS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(tg.get(e))return tg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=oL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||sL.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return tg.set(e,s),s}tL(t=>({...t,get:(e,n,r)=>LS(e,n)||t.get(e,n,r),has:(e,n)=>!!LS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(lL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function lL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Iy="@firebase/app",VS="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i=new Gf("@firebase/app"),uL="@firebase/app-compat",cL="@firebase/analytics-compat",dL="@firebase/analytics",hL="@firebase/app-check-compat",fL="@firebase/app-check",pL="@firebase/auth",mL="@firebase/auth-compat",gL="@firebase/database",yL="@firebase/data-connect",vL="@firebase/database-compat",_L="@firebase/functions",wL="@firebase/functions-compat",EL="@firebase/installations",SL="@firebase/installations-compat",CL="@firebase/messaging",TL="@firebase/messaging-compat",IL="@firebase/performance",bL="@firebase/performance-compat",xL="@firebase/remote-config",RL="@firebase/remote-config-compat",kL="@firebase/storage",PL="@firebase/storage-compat",AL="@firebase/firestore",NL="@firebase/vertexai",OL="@firebase/firestore-compat",DL="firebase",ML="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by="[DEFAULT]",LL={[Iy]:"fire-core",[uL]:"fire-core-compat",[dL]:"fire-analytics",[cL]:"fire-analytics-compat",[fL]:"fire-app-check",[hL]:"fire-app-check-compat",[pL]:"fire-auth",[mL]:"fire-auth-compat",[gL]:"fire-rtdb",[yL]:"fire-data-connect",[vL]:"fire-rtdb-compat",[_L]:"fire-fn",[wL]:"fire-fn-compat",[EL]:"fire-iid",[SL]:"fire-iid-compat",[CL]:"fire-fcm",[TL]:"fire-fcm-compat",[IL]:"fire-perf",[bL]:"fire-perf-compat",[xL]:"fire-rc",[RL]:"fire-rc-compat",[kL]:"fire-gcs",[PL]:"fire-gcs-compat",[AL]:"fire-fst",[OL]:"fire-fst-compat",[NL]:"fire-vertex","fire-js":"fire-js",[DL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh=new Map,VL=new Map,xy=new Map;function FS(t,e){try{t.container.addComponent(e)}catch(n){_i.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function lo(t){const e=t.name;if(xy.has(e))return _i.debug(`There were multiple attempts to register component ${e}.`),!1;xy.set(e,t);for(const n of Vh.values())FS(n,t);for(const n of VL.values())FS(n,t);return!0}function Qf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Zi(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cs=new pc("app","Firebase",FL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ys("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo=ML;function Ex(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:by,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw cs.create("bad-app-name",{appName:String(i)});if(n||(n=hx()),!n)throw cs.create("no-options");const s=Vh.get(i);if(s){if(Lh(n,s.options)&&Lh(r,s.config))return s;throw cs.create("duplicate-app",{appName:i})}const o=new HM(i);for(const l of xy.values())o.addComponent(l);const a=new $L(n,r,o);return Vh.set(i,a),a}function R_(t=by){const e=Vh.get(t);if(!e&&t===by&&hx())return Ex();if(!e)throw cs.create("no-app",{appName:t});return e}function Ur(t,e,n){var r;let i=(r=LL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_i.warn(a.join(" "));return}lo(new ys(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jL="firebase-heartbeat-database",UL=1,Bu="firebase-heartbeat-store";let ng=null;function Sx(){return ng||(ng=iL(jL,UL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Bu)}catch(n){console.warn(n)}}}}).catch(t=>{throw cs.create("idb-open",{originalErrorMessage:t.message})})),ng}async function BL(t){try{const n=(await Sx()).transaction(Bu),r=await n.objectStore(Bu).get(Cx(t));return await n.done,r}catch(e){if(e instanceof Ai)_i.warn(e.message);else{const n=cs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});_i.warn(n.message)}}}async function $S(t,e){try{const r=(await Sx()).transaction(Bu,"readwrite");await r.objectStore(Bu).put(e,Cx(t)),await r.done}catch(n){if(n instanceof Ai)_i.warn(n.message);else{const r=cs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});_i.warn(r.message)}}}function Cx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zL=1024,WL=30*24*60*60*1e3;class HL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new KL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=jS();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=WL}),this._storage.overwrite(this._heartbeatsCache))}catch(r){_i.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=jS(),{heartbeatsToSend:r,unsentEntries:i}=qL(this._heartbeatsCache.heartbeats),s=Oh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return _i.warn(n),""}}}function jS(){return new Date().toISOString().substring(0,10)}function qL(t,e=zL){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),US(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),US(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class KL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PM()?AM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await BL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return $S(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return $S(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function US(t){return Oh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GL(t){lo(new ys("platform-logger",e=>new aL(e),"PRIVATE")),lo(new ys("heartbeat",e=>new HL(e),"PRIVATE")),Ur(Iy,VS,t),Ur(Iy,VS,"esm2017"),Ur("fire-js","")}GL("");var QL="firebase",YL="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ur(QL,YL,"app");var BS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var eo,Tx;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,b){function k(){}k.prototype=b.prototype,R.D=b.prototype,R.prototype=new k,R.prototype.constructor=R,R.C=function(m,C,O){for(var N=Array(arguments.length-2),W=2;W<arguments.length;W++)N[W-2]=arguments[W];return b.prototype[C].apply(m,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(R,b,k){k||(k=0);var m=Array(16);if(typeof b=="string")for(var C=0;16>C;++C)m[C]=b.charCodeAt(k++)|b.charCodeAt(k++)<<8|b.charCodeAt(k++)<<16|b.charCodeAt(k++)<<24;else for(C=0;16>C;++C)m[C]=b[k++]|b[k++]<<8|b[k++]<<16|b[k++]<<24;b=R.g[0],k=R.g[1],C=R.g[2];var O=R.g[3],N=b+(O^k&(C^O))+m[0]+3614090360&4294967295;b=k+(N<<7&4294967295|N>>>25),N=O+(C^b&(k^C))+m[1]+3905402710&4294967295,O=b+(N<<12&4294967295|N>>>20),N=C+(k^O&(b^k))+m[2]+606105819&4294967295,C=O+(N<<17&4294967295|N>>>15),N=k+(b^C&(O^b))+m[3]+3250441966&4294967295,k=C+(N<<22&4294967295|N>>>10),N=b+(O^k&(C^O))+m[4]+4118548399&4294967295,b=k+(N<<7&4294967295|N>>>25),N=O+(C^b&(k^C))+m[5]+1200080426&4294967295,O=b+(N<<12&4294967295|N>>>20),N=C+(k^O&(b^k))+m[6]+2821735955&4294967295,C=O+(N<<17&4294967295|N>>>15),N=k+(b^C&(O^b))+m[7]+4249261313&4294967295,k=C+(N<<22&4294967295|N>>>10),N=b+(O^k&(C^O))+m[8]+1770035416&4294967295,b=k+(N<<7&4294967295|N>>>25),N=O+(C^b&(k^C))+m[9]+2336552879&4294967295,O=b+(N<<12&4294967295|N>>>20),N=C+(k^O&(b^k))+m[10]+4294925233&4294967295,C=O+(N<<17&4294967295|N>>>15),N=k+(b^C&(O^b))+m[11]+2304563134&4294967295,k=C+(N<<22&4294967295|N>>>10),N=b+(O^k&(C^O))+m[12]+1804603682&4294967295,b=k+(N<<7&4294967295|N>>>25),N=O+(C^b&(k^C))+m[13]+4254626195&4294967295,O=b+(N<<12&4294967295|N>>>20),N=C+(k^O&(b^k))+m[14]+2792965006&4294967295,C=O+(N<<17&4294967295|N>>>15),N=k+(b^C&(O^b))+m[15]+1236535329&4294967295,k=C+(N<<22&4294967295|N>>>10),N=b+(C^O&(k^C))+m[1]+4129170786&4294967295,b=k+(N<<5&4294967295|N>>>27),N=O+(k^C&(b^k))+m[6]+3225465664&4294967295,O=b+(N<<9&4294967295|N>>>23),N=C+(b^k&(O^b))+m[11]+643717713&4294967295,C=O+(N<<14&4294967295|N>>>18),N=k+(O^b&(C^O))+m[0]+3921069994&4294967295,k=C+(N<<20&4294967295|N>>>12),N=b+(C^O&(k^C))+m[5]+3593408605&4294967295,b=k+(N<<5&4294967295|N>>>27),N=O+(k^C&(b^k))+m[10]+38016083&4294967295,O=b+(N<<9&4294967295|N>>>23),N=C+(b^k&(O^b))+m[15]+3634488961&4294967295,C=O+(N<<14&4294967295|N>>>18),N=k+(O^b&(C^O))+m[4]+3889429448&4294967295,k=C+(N<<20&4294967295|N>>>12),N=b+(C^O&(k^C))+m[9]+568446438&4294967295,b=k+(N<<5&4294967295|N>>>27),N=O+(k^C&(b^k))+m[14]+3275163606&4294967295,O=b+(N<<9&4294967295|N>>>23),N=C+(b^k&(O^b))+m[3]+4107603335&4294967295,C=O+(N<<14&4294967295|N>>>18),N=k+(O^b&(C^O))+m[8]+1163531501&4294967295,k=C+(N<<20&4294967295|N>>>12),N=b+(C^O&(k^C))+m[13]+2850285829&4294967295,b=k+(N<<5&4294967295|N>>>27),N=O+(k^C&(b^k))+m[2]+4243563512&4294967295,O=b+(N<<9&4294967295|N>>>23),N=C+(b^k&(O^b))+m[7]+1735328473&4294967295,C=O+(N<<14&4294967295|N>>>18),N=k+(O^b&(C^O))+m[12]+2368359562&4294967295,k=C+(N<<20&4294967295|N>>>12),N=b+(k^C^O)+m[5]+4294588738&4294967295,b=k+(N<<4&4294967295|N>>>28),N=O+(b^k^C)+m[8]+2272392833&4294967295,O=b+(N<<11&4294967295|N>>>21),N=C+(O^b^k)+m[11]+1839030562&4294967295,C=O+(N<<16&4294967295|N>>>16),N=k+(C^O^b)+m[14]+4259657740&4294967295,k=C+(N<<23&4294967295|N>>>9),N=b+(k^C^O)+m[1]+2763975236&4294967295,b=k+(N<<4&4294967295|N>>>28),N=O+(b^k^C)+m[4]+1272893353&4294967295,O=b+(N<<11&4294967295|N>>>21),N=C+(O^b^k)+m[7]+4139469664&4294967295,C=O+(N<<16&4294967295|N>>>16),N=k+(C^O^b)+m[10]+3200236656&4294967295,k=C+(N<<23&4294967295|N>>>9),N=b+(k^C^O)+m[13]+681279174&4294967295,b=k+(N<<4&4294967295|N>>>28),N=O+(b^k^C)+m[0]+3936430074&4294967295,O=b+(N<<11&4294967295|N>>>21),N=C+(O^b^k)+m[3]+3572445317&4294967295,C=O+(N<<16&4294967295|N>>>16),N=k+(C^O^b)+m[6]+76029189&4294967295,k=C+(N<<23&4294967295|N>>>9),N=b+(k^C^O)+m[9]+3654602809&4294967295,b=k+(N<<4&4294967295|N>>>28),N=O+(b^k^C)+m[12]+3873151461&4294967295,O=b+(N<<11&4294967295|N>>>21),N=C+(O^b^k)+m[15]+530742520&4294967295,C=O+(N<<16&4294967295|N>>>16),N=k+(C^O^b)+m[2]+3299628645&4294967295,k=C+(N<<23&4294967295|N>>>9),N=b+(C^(k|~O))+m[0]+4096336452&4294967295,b=k+(N<<6&4294967295|N>>>26),N=O+(k^(b|~C))+m[7]+1126891415&4294967295,O=b+(N<<10&4294967295|N>>>22),N=C+(b^(O|~k))+m[14]+2878612391&4294967295,C=O+(N<<15&4294967295|N>>>17),N=k+(O^(C|~b))+m[5]+4237533241&4294967295,k=C+(N<<21&4294967295|N>>>11),N=b+(C^(k|~O))+m[12]+1700485571&4294967295,b=k+(N<<6&4294967295|N>>>26),N=O+(k^(b|~C))+m[3]+2399980690&4294967295,O=b+(N<<10&4294967295|N>>>22),N=C+(b^(O|~k))+m[10]+4293915773&4294967295,C=O+(N<<15&4294967295|N>>>17),N=k+(O^(C|~b))+m[1]+2240044497&4294967295,k=C+(N<<21&4294967295|N>>>11),N=b+(C^(k|~O))+m[8]+1873313359&4294967295,b=k+(N<<6&4294967295|N>>>26),N=O+(k^(b|~C))+m[15]+4264355552&4294967295,O=b+(N<<10&4294967295|N>>>22),N=C+(b^(O|~k))+m[6]+2734768916&4294967295,C=O+(N<<15&4294967295|N>>>17),N=k+(O^(C|~b))+m[13]+1309151649&4294967295,k=C+(N<<21&4294967295|N>>>11),N=b+(C^(k|~O))+m[4]+4149444226&4294967295,b=k+(N<<6&4294967295|N>>>26),N=O+(k^(b|~C))+m[11]+3174756917&4294967295,O=b+(N<<10&4294967295|N>>>22),N=C+(b^(O|~k))+m[2]+718787259&4294967295,C=O+(N<<15&4294967295|N>>>17),N=k+(O^(C|~b))+m[9]+3951481745&4294967295,R.g[0]=R.g[0]+b&4294967295,R.g[1]=R.g[1]+(C+(N<<21&4294967295|N>>>11))&4294967295,R.g[2]=R.g[2]+C&4294967295,R.g[3]=R.g[3]+O&4294967295}r.prototype.u=function(R,b){b===void 0&&(b=R.length);for(var k=b-this.blockSize,m=this.B,C=this.h,O=0;O<b;){if(C==0)for(;O<=k;)i(this,R,O),O+=this.blockSize;if(typeof R=="string"){for(;O<b;)if(m[C++]=R.charCodeAt(O++),C==this.blockSize){i(this,m),C=0;break}}else for(;O<b;)if(m[C++]=R[O++],C==this.blockSize){i(this,m),C=0;break}}this.h=C,this.o+=b},r.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var b=1;b<R.length-8;++b)R[b]=0;var k=8*this.o;for(b=R.length-8;b<R.length;++b)R[b]=k&255,k/=256;for(this.u(R),R=Array(16),b=k=0;4>b;++b)for(var m=0;32>m;m+=8)R[k++]=this.g[b]>>>m&255;return R};function s(R,b){var k=a;return Object.prototype.hasOwnProperty.call(k,R)?k[R]:k[R]=b(R)}function o(R,b){this.h=b;for(var k=[],m=!0,C=R.length-1;0<=C;C--){var O=R[C]|0;m&&O==b||(k[C]=O,m=!1)}this.g=k}var a={};function l(R){return-128<=R&&128>R?s(R,function(b){return new o([b|0],0>b?-1:0)}):new o([R|0],0>R?-1:0)}function c(R){if(isNaN(R)||!isFinite(R))return h;if(0>R)return x(c(-R));for(var b=[],k=1,m=0;R>=k;m++)b[m]=R/k|0,k*=4294967296;return new o(b,0)}function d(R,b){if(R.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(R.charAt(0)=="-")return x(d(R.substring(1),b));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=c(Math.pow(b,8)),m=h,C=0;C<R.length;C+=8){var O=Math.min(8,R.length-C),N=parseInt(R.substring(C,C+O),b);8>O?(O=c(Math.pow(b,O)),m=m.j(O).add(c(N))):(m=m.j(k),m=m.add(c(N)))}return m}var h=l(0),f=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(T(this))return-x(this).m();for(var R=0,b=1,k=0;k<this.g.length;k++){var m=this.i(k);R+=(0<=m?m:4294967296+m)*b,b*=4294967296}return R},t.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(v(this))return"0";if(T(this))return"-"+x(this).toString(R);for(var b=c(Math.pow(R,6)),k=this,m="";;){var C=P(k,b).g;k=_(k,C.j(b));var O=((0<k.g.length?k.g[0]:k.h)>>>0).toString(R);if(k=C,v(k))return O+m;for(;6>O.length;)O="0"+O;m=O+m}},t.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function v(R){if(R.h!=0)return!1;for(var b=0;b<R.g.length;b++)if(R.g[b]!=0)return!1;return!0}function T(R){return R.h==-1}t.l=function(R){return R=_(this,R),T(R)?-1:v(R)?0:1};function x(R){for(var b=R.g.length,k=[],m=0;m<b;m++)k[m]=~R.g[m];return new o(k,~R.h).add(f)}t.abs=function(){return T(this)?x(this):this},t.add=function(R){for(var b=Math.max(this.g.length,R.g.length),k=[],m=0,C=0;C<=b;C++){var O=m+(this.i(C)&65535)+(R.i(C)&65535),N=(O>>>16)+(this.i(C)>>>16)+(R.i(C)>>>16);m=N>>>16,O&=65535,N&=65535,k[C]=N<<16|O}return new o(k,k[k.length-1]&-2147483648?-1:0)};function _(R,b){return R.add(x(b))}t.j=function(R){if(v(this)||v(R))return h;if(T(this))return T(R)?x(this).j(x(R)):x(x(this).j(R));if(T(R))return x(this.j(x(R)));if(0>this.l(g)&&0>R.l(g))return c(this.m()*R.m());for(var b=this.g.length+R.g.length,k=[],m=0;m<2*b;m++)k[m]=0;for(m=0;m<this.g.length;m++)for(var C=0;C<R.g.length;C++){var O=this.i(m)>>>16,N=this.i(m)&65535,W=R.i(C)>>>16,z=R.i(C)&65535;k[2*m+2*C]+=N*z,w(k,2*m+2*C),k[2*m+2*C+1]+=O*z,w(k,2*m+2*C+1),k[2*m+2*C+1]+=N*W,w(k,2*m+2*C+1),k[2*m+2*C+2]+=O*W,w(k,2*m+2*C+2)}for(m=0;m<b;m++)k[m]=k[2*m+1]<<16|k[2*m];for(m=b;m<2*b;m++)k[m]=0;return new o(k,0)};function w(R,b){for(;(R[b]&65535)!=R[b];)R[b+1]+=R[b]>>>16,R[b]&=65535,b++}function E(R,b){this.g=R,this.h=b}function P(R,b){if(v(b))throw Error("division by zero");if(v(R))return new E(h,h);if(T(R))return b=P(x(R),b),new E(x(b.g),x(b.h));if(T(b))return b=P(R,x(b)),new E(x(b.g),b.h);if(30<R.g.length){if(T(R)||T(b))throw Error("slowDivide_ only works with positive integers.");for(var k=f,m=b;0>=m.l(R);)k=D(k),m=D(m);var C=M(k,1),O=M(m,1);for(m=M(m,2),k=M(k,2);!v(m);){var N=O.add(m);0>=N.l(R)&&(C=C.add(k),O=N),m=M(m,1),k=M(k,1)}return b=_(R,C.j(b)),new E(C,b)}for(C=h;0<=R.l(b);){for(k=Math.max(1,Math.floor(R.m()/b.m())),m=Math.ceil(Math.log(k)/Math.LN2),m=48>=m?1:Math.pow(2,m-48),O=c(k),N=O.j(b);T(N)||0<N.l(R);)k-=m,O=c(k),N=O.j(b);v(O)&&(O=f),C=C.add(O),R=_(R,N)}return new E(C,R)}t.A=function(R){return P(this,R).h},t.and=function(R){for(var b=Math.max(this.g.length,R.g.length),k=[],m=0;m<b;m++)k[m]=this.i(m)&R.i(m);return new o(k,this.h&R.h)},t.or=function(R){for(var b=Math.max(this.g.length,R.g.length),k=[],m=0;m<b;m++)k[m]=this.i(m)|R.i(m);return new o(k,this.h|R.h)},t.xor=function(R){for(var b=Math.max(this.g.length,R.g.length),k=[],m=0;m<b;m++)k[m]=this.i(m)^R.i(m);return new o(k,this.h^R.h)};function D(R){for(var b=R.g.length+1,k=[],m=0;m<b;m++)k[m]=R.i(m)<<1|R.i(m-1)>>>31;return new o(k,R.h)}function M(R,b){var k=b>>5;b%=32;for(var m=R.g.length-k,C=[],O=0;O<m;O++)C[O]=0<b?R.i(O+k)>>>b|R.i(O+k+1)<<32-b:R.i(O+k);return new o(C,R.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Tx=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,eo=o}).apply(typeof BS<"u"?BS:typeof self<"u"?self:typeof window<"u"?window:{});var md=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ix,Kl,bx,Hd,Ry,xx,Rx,kx;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,y){return u==Array.prototype||u==Object.prototype||(u[p]=y.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof md=="object"&&md];for(var p=0;p<u.length;++p){var y=u[p];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=n(this);function i(u,p){if(p)e:{var y=r;u=u.split(".");for(var A=0;A<u.length-1;A++){var L=u[A];if(!(L in y))break e;y=y[L]}u=u[u.length-1],A=y[u],p=p(A),p!=A&&p!=null&&e(y,u,{configurable:!0,writable:!0,value:p})}}function s(u,p){u instanceof String&&(u+="");var y=0,A=!1,L={next:function(){if(!A&&y<u.length){var V=y++;return{value:p(V,u[V]),done:!1}}return A=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(u){return u||function(){return s(this,function(p,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function c(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function d(u,p,y){return u.call.apply(u.bind,arguments)}function h(u,p,y){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,A),u.apply(p,L)}}return function(){return u.apply(p,arguments)}}function f(u,p,y){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function g(u,p){var y=Array.prototype.slice.call(arguments,1);return function(){var A=y.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function v(u,p){function y(){}y.prototype=p.prototype,u.aa=p.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(A,L,V){for(var G=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)G[qe-2]=arguments[qe];return p.prototype[L].apply(A,G)}}function T(u){const p=u.length;if(0<p){const y=Array(p);for(let A=0;A<p;A++)y[A]=u[A];return y}return[]}function x(u,p){for(let y=1;y<arguments.length;y++){const A=arguments[y];if(l(A)){const L=u.length||0,V=A.length||0;u.length=L+V;for(let G=0;G<V;G++)u[L+G]=A[G]}else u.push(A)}}class _{constructor(p,y){this.i=p,this.j=y,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function w(u){return/^[\s\xa0]*$/.test(u)}function E(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function P(u){return P[" "](u),u}P[" "]=function(){};var D=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function M(u,p,y){for(const A in u)p.call(y,u[A],A,u)}function R(u,p){for(const y in u)p.call(void 0,u[y],y,u)}function b(u){const p={};for(const y in u)p[y]=u[y];return p}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function m(u,p){let y,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(y in A)u[y]=A[y];for(let V=0;V<k.length;V++)y=k[V],Object.prototype.hasOwnProperty.call(A,y)&&(u[y]=A[y])}}function C(u){var p=1;u=u.split(":");const y=[];for(;0<p&&u.length;)y.push(u.shift()),p--;return u.length&&y.push(u.join(":")),y}function O(u){a.setTimeout(()=>{throw u},0)}function N(){var u=H;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class W{constructor(){this.h=this.g=null}add(p,y){const A=z.get();A.set(p,y),this.h?this.h.next=A:this.g=A,this.h=A}}var z=new _(()=>new j,u=>u.reset());class j{constructor(){this.next=this.g=this.h=null}set(p,y){this.h=p,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Q,F=!1,H=new W,Y=()=>{const u=a.Promise.resolve(void 0);Q=()=>{u.then(ne)}};var ne=()=>{for(var u;u=N();){try{u.h.call(u.g)}catch(y){O(y)}var p=z;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}F=!1};function re(){this.s=this.s,this.C=this.C}re.prototype.s=!1,re.prototype.ma=function(){this.s||(this.s=!0,this.N())},re.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ee(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}ee.prototype.h=function(){this.defaultPrevented=!0};var ce=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};a.addEventListener("test",y,p),a.removeEventListener("test",y,p)}catch{}return u}();function xe(u,p){if(ee.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(D){e:{try{P(p.nodeName);var L=!0;break e}catch{}L=!1}L||(p=null)}}else y=="mouseover"?p=u.fromElement:y=="mouseout"&&(p=u.toElement);this.relatedTarget=p,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Pe[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&xe.aa.h.call(this)}}v(xe,ee);var Pe={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ae="closure_listenable_"+(1e6*Math.random()|0),en=0;function lt(u,p,y,A,L){this.listener=u,this.proxy=null,this.src=p,this.type=y,this.capture=!!A,this.ha=L,this.key=++en,this.da=this.fa=!1}function me(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ie(u){this.src=u,this.g={},this.h=0}Ie.prototype.add=function(u,p,y,A,L){var V=u.toString();u=this.g[V],u||(u=this.g[V]=[],this.h++);var G=_t(u,p,A,L);return-1<G?(p=u[G],y||(p.fa=!1)):(p=new lt(p,this.src,V,!!A,L),p.fa=y,u.push(p)),p};function ge(u,p){var y=p.type;if(y in u.g){var A=u.g[y],L=Array.prototype.indexOf.call(A,p,void 0),V;(V=0<=L)&&Array.prototype.splice.call(A,L,1),V&&(me(p),u.g[y].length==0&&(delete u.g[y],u.h--))}}function _t(u,p,y,A){for(var L=0;L<u.length;++L){var V=u[L];if(!V.da&&V.listener==p&&V.capture==!!y&&V.ha==A)return L}return-1}var Se="closure_lm_"+(1e6*Math.random()|0),De={};function yn(u,p,y,A,L){if(Array.isArray(p)){for(var V=0;V<p.length;V++)yn(u,p[V],y,A,L);return null}return y=Oi(y),u&&u[Ae]?u.K(p,y,c(A)?!!A.capture:!!A,L):In(u,p,y,!1,A,L)}function In(u,p,y,A,L,V){if(!p)throw Error("Invalid event type");var G=c(L)?!!L.capture:!!L,qe=ie(u);if(qe||(u[Se]=qe=new Ie(u)),y=qe.add(p,y,A,G,V),y.proxy)return y;if(A=Nt(),y.proxy=A,A.src=u,A.listener=y,u.addEventListener)ce||(L=G),L===void 0&&(L=!1),u.addEventListener(p.toString(),A,L);else if(u.attachEvent)u.attachEvent(We(p.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Nt(){function u(y){return p.call(u.src,u.listener,y)}const p=dr;return u}function It(u,p,y,A,L){if(Array.isArray(p))for(var V=0;V<p.length;V++)It(u,p[V],y,A,L);else A=c(A)?!!A.capture:!!A,y=Oi(y),u&&u[Ae]?(u=u.i,p=String(p).toString(),p in u.g&&(V=u.g[p],y=_t(V,y,A,L),-1<y&&(me(V[y]),Array.prototype.splice.call(V,y,1),V.length==0&&(delete u.g[p],u.h--)))):u&&(u=ie(u))&&(p=u.g[p.toString()],u=-1,p&&(u=_t(p,y,A,L)),(y=-1<u?p[u]:null)&&bn(y))}function bn(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[Ae])ge(p.i,u);else{var y=u.type,A=u.proxy;p.removeEventListener?p.removeEventListener(y,A,u.capture):p.detachEvent?p.detachEvent(We(y),A):p.addListener&&p.removeListener&&p.removeListener(A),(y=ie(p))?(ge(y,u),y.h==0&&(y.src=null,p[Se]=null)):me(u)}}}function We(u){return u in De?De[u]:De[u]="on"+u}function dr(u,p){if(u.da)u=!0;else{p=new xe(p,this);var y=u.listener,A=u.ha||u.src;u.fa&&bn(u),u=y.call(A,p)}return u}function ie(u){return u=u[Se],u instanceof Ie?u:null}var wt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Oi(u){return typeof u=="function"?u:(u[wt]||(u[wt]=function(p){return u.handleEvent(p)}),u[wt])}function Ye(){re.call(this),this.i=new Ie(this),this.M=this,this.F=null}v(Ye,re),Ye.prototype[Ae]=!0,Ye.prototype.removeEventListener=function(u,p,y,A){It(this,u,p,y,A)};function ut(u,p){var y,A=u.F;if(A)for(y=[];A;A=A.F)y.push(A);if(u=u.M,A=p.type||p,typeof p=="string")p=new ee(p,u);else if(p instanceof ee)p.target=p.target||u;else{var L=p;p=new ee(A,u),m(p,L)}if(L=!0,y)for(var V=y.length-1;0<=V;V--){var G=p.g=y[V];L=Pr(G,A,!0,p)&&L}if(G=p.g=u,L=Pr(G,A,!0,p)&&L,L=Pr(G,A,!1,p)&&L,y)for(V=0;V<y.length;V++)G=p.g=y[V],L=Pr(G,A,!1,p)&&L}Ye.prototype.N=function(){if(Ye.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var y=u.g[p],A=0;A<y.length;A++)me(y[A]);delete u.g[p],u.h--}}this.F=null},Ye.prototype.K=function(u,p,y,A){return this.i.add(String(u),p,!1,y,A)},Ye.prototype.L=function(u,p,y,A){return this.i.add(String(u),p,!0,y,A)};function Pr(u,p,y,A){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var L=!0,V=0;V<p.length;++V){var G=p[V];if(G&&!G.da&&G.capture==y){var qe=G.listener,Kt=G.ha||G.src;G.fa&&ge(u.i,G),L=qe.call(Kt,A)!==!1&&L}}return L&&!A.defaultPrevented}function hr(u,p,y){if(typeof u=="function")y&&(u=f(u,y));else if(u&&typeof u.handleEvent=="function")u=f(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(u,p||0)}function Xr(u){u.g=hr(()=>{u.g=null,u.i&&(u.i=!1,Xr(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class Xe extends re{constructor(p,y){super(),this.m=p,this.l=y,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Xr(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fr(u){re.call(this),this.h=u,this.g={}}v(fr,re);var Di=[];function oe(u){M(u.g,function(p,y){this.g.hasOwnProperty(y)&&bn(p)},u),u.g={}}fr.prototype.N=function(){fr.aa.N.call(this),oe(this)},fr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ue=a.JSON.stringify,Ot=a.JSON.parse,Mi=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Ro(){}Ro.prototype.h=null;function Iw(u){return u.h||(u.h=u.i())}function bw(){}var cl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function cm(){ee.call(this,"d")}v(cm,ee);function dm(){ee.call(this,"c")}v(dm,ee);var Ds={},xw=null;function Mc(){return xw=xw||new Ye}Ds.La="serverreachability";function Rw(u){ee.call(this,Ds.La,u)}v(Rw,ee);function dl(u){const p=Mc();ut(p,new Rw(p))}Ds.STAT_EVENT="statevent";function kw(u,p){ee.call(this,Ds.STAT_EVENT,u),this.stat=p}v(kw,ee);function vn(u){const p=Mc();ut(p,new kw(p,u))}Ds.Ma="timingevent";function Pw(u,p){ee.call(this,Ds.Ma,u),this.size=p}v(Pw,ee);function hl(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},p)}function fl(){this.g=!0}fl.prototype.xa=function(){this.g=!1};function UA(u,p,y,A,L,V){u.info(function(){if(u.g)if(V)for(var G="",qe=V.split("&"),Kt=0;Kt<qe.length;Kt++){var Ne=qe[Kt].split("=");if(1<Ne.length){var tn=Ne[0];Ne=Ne[1];var nn=tn.split("_");G=2<=nn.length&&nn[1]=="type"?G+(tn+"="+Ne+"&"):G+(tn+"=redacted&")}}else G=null;else G=V;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+p+`
`+y+`
`+G})}function BA(u,p,y,A,L,V,G){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+p+`
`+y+`
`+V+" "+G})}function ko(u,p,y,A){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+WA(u,y)+(A?" "+A:"")})}function zA(u,p){u.info(function(){return"TIMEOUT: "+p})}fl.prototype.info=function(){};function WA(u,p){if(!u.g)return p;if(!p)return null;try{var y=JSON.parse(p);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var A=y[u];if(!(2>A.length)){var L=A[1];if(Array.isArray(L)&&!(1>L.length)){var V=L[0];if(V!="noop"&&V!="stop"&&V!="close")for(var G=1;G<L.length;G++)L[G]=""}}}}return Ue(y)}catch{return p}}var Lc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Aw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},hm;function Vc(){}v(Vc,Ro),Vc.prototype.g=function(){return new XMLHttpRequest},Vc.prototype.i=function(){return{}},hm=new Vc;function Li(u,p,y,A){this.j=u,this.i=p,this.l=y,this.R=A||1,this.U=new fr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Nw}function Nw(){this.i=null,this.g="",this.h=!1}var Ow={},fm={};function pm(u,p,y){u.L=1,u.v=Uc(Jr(p)),u.m=y,u.P=!0,Dw(u,null)}function Dw(u,p){u.F=Date.now(),Fc(u),u.A=Jr(u.v);var y=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),Gw(y.i,"t",A),u.C=0,y=u.j.J,u.h=new Nw,u.g=hE(u.j,y?p:null,!u.m),0<u.O&&(u.M=new Xe(f(u.Y,u,u.g),u.O)),p=u.U,y=u.g,A=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(Di[0]=L.toString()),L=Di);for(var V=0;V<L.length;V++){var G=yn(y,L[V],A||p.handleEvent,!1,p.h||p);if(!G)break;p.g[G.key]=G}p=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),dl(),UA(u.i,u.u,u.A,u.l,u.R,u.m)}Li.prototype.ca=function(u){u=u.target;const p=this.M;p&&Zr(u)==3?p.j():this.Y(u)},Li.prototype.Y=function(u){try{if(u==this.g)e:{const nn=Zr(this.g);var p=this.g.Ba();const No=this.g.Z();if(!(3>nn)&&(nn!=3||this.g&&(this.h.h||this.g.oa()||tE(this.g)))){this.J||nn!=4||p==7||(p==8||0>=No?dl(3):dl(2)),mm(this);var y=this.g.Z();this.X=y;t:if(Mw(this)){var A=tE(this.g);u="";var L=A.length,V=Zr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ms(this),pl(this);var G="";break t}this.h.i=new a.TextDecoder}for(p=0;p<L;p++)this.h.h=!0,u+=this.h.i.decode(A[p],{stream:!(V&&p==L-1)});A.length=0,this.h.g+=u,this.C=0,G=this.h.g}else G=this.g.oa();if(this.o=y==200,BA(this.i,this.u,this.A,this.l,this.R,nn,y),this.o){if(this.T&&!this.K){t:{if(this.g){var qe,Kt=this.g;if((qe=Kt.g?Kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(qe)){var Ne=qe;break t}}Ne=null}if(y=Ne)ko(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gm(this,y);else{this.o=!1,this.s=3,vn(12),Ms(this),pl(this);break e}}if(this.P){y=!0;let pr;for(;!this.J&&this.C<G.length;)if(pr=HA(this,G),pr==fm){nn==4&&(this.s=4,vn(14),y=!1),ko(this.i,this.l,null,"[Incomplete Response]");break}else if(pr==Ow){this.s=4,vn(15),ko(this.i,this.l,G,"[Invalid Chunk]"),y=!1;break}else ko(this.i,this.l,pr,null),gm(this,pr);if(Mw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),nn!=4||G.length!=0||this.h.h||(this.s=1,vn(16),y=!1),this.o=this.o&&y,!y)ko(this.i,this.l,G,"[Invalid Chunked Response]"),Ms(this),pl(this);else if(0<G.length&&!this.W){this.W=!0;var tn=this.j;tn.g==this&&tn.ba&&!tn.M&&(tn.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),Sm(tn),tn.M=!0,vn(11))}}else ko(this.i,this.l,G,null),gm(this,G);nn==4&&Ms(this),this.o&&!this.J&&(nn==4?lE(this.j,this):(this.o=!1,Fc(this)))}else lN(this.g),y==400&&0<G.indexOf("Unknown SID")?(this.s=3,vn(12)):(this.s=0,vn(13)),Ms(this),pl(this)}}}catch{}finally{}};function Mw(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function HA(u,p){var y=u.C,A=p.indexOf(`
`,y);return A==-1?fm:(y=Number(p.substring(y,A)),isNaN(y)?Ow:(A+=1,A+y>p.length?fm:(p=p.slice(A,A+y),u.C=A+y,p)))}Li.prototype.cancel=function(){this.J=!0,Ms(this)};function Fc(u){u.S=Date.now()+u.I,Lw(u,u.I)}function Lw(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=hl(f(u.ba,u),p)}function mm(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Li.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(zA(this.i,this.A),this.L!=2&&(dl(),vn(17)),Ms(this),this.s=2,pl(this)):Lw(this,this.S-u)};function pl(u){u.j.G==0||u.J||lE(u.j,u)}function Ms(u){mm(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,oe(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function gm(u,p){try{var y=u.j;if(y.G!=0&&(y.g==u||ym(y.h,u))){if(!u.K&&ym(y.h,u)&&y.G==3){try{var A=y.Da.g.parse(p)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)Kc(y),Hc(y);else break e;Em(y),vn(18)}}else y.za=L[1],0<y.za-y.T&&37500>L[2]&&y.F&&y.v==0&&!y.C&&(y.C=hl(f(y.Za,y),6e3));if(1>=$w(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Vs(y,11)}else if((u.K||y.g==u)&&Kc(y),!w(p))for(L=y.Da.g.parse(p),p=0;p<L.length;p++){let Ne=L[p];if(y.T=Ne[0],Ne=Ne[1],y.G==2)if(Ne[0]=="c"){y.K=Ne[1],y.ia=Ne[2];const tn=Ne[3];tn!=null&&(y.la=tn,y.j.info("VER="+y.la));const nn=Ne[4];nn!=null&&(y.Aa=nn,y.j.info("SVER="+y.Aa));const No=Ne[5];No!=null&&typeof No=="number"&&0<No&&(A=1.5*No,y.L=A,y.j.info("backChannelRequestTimeoutMs_="+A)),A=y;const pr=u.g;if(pr){const Qc=pr.g?pr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qc){var V=A.h;V.g||Qc.indexOf("spdy")==-1&&Qc.indexOf("quic")==-1&&Qc.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(vm(V,V.h),V.h=null))}if(A.D){const Cm=pr.g?pr.g.getResponseHeader("X-HTTP-Session-Id"):null;Cm&&(A.ya=Cm,tt(A.I,A.D,Cm))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),A=y;var G=u;if(A.qa=dE(A,A.J?A.ia:null,A.W),G.K){jw(A.h,G);var qe=G,Kt=A.L;Kt&&(qe.I=Kt),qe.B&&(mm(qe),Fc(qe)),A.g=G}else oE(A);0<y.i.length&&qc(y)}else Ne[0]!="stop"&&Ne[0]!="close"||Vs(y,7);else y.G==3&&(Ne[0]=="stop"||Ne[0]=="close"?Ne[0]=="stop"?Vs(y,7):wm(y):Ne[0]!="noop"&&y.l&&y.l.ta(Ne),y.v=0)}}dl(4)}catch{}}var qA=class{constructor(u,p){this.g=u,this.map=p}};function Vw(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Fw(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function $w(u){return u.h?1:u.g?u.g.size:0}function ym(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function vm(u,p){u.g?u.g.add(p):u.h=p}function jw(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}Vw.prototype.cancel=function(){if(this.i=Uw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Uw(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const y of u.g.values())p=p.concat(y.D);return p}return T(u.i)}function KA(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var p=[],y=u.length,A=0;A<y;A++)p.push(u[A]);return p}p=[],y=0;for(A in u)p[y++]=u[A];return p}function GA(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var p=[];u=u.length;for(var y=0;y<u;y++)p.push(y);return p}p=[],y=0;for(const A in u)p[y++]=A;return p}}}function Bw(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var y=GA(u),A=KA(u),L=A.length,V=0;V<L;V++)p.call(void 0,A[V],y&&y[V],u)}var zw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function QA(u,p){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var A=u[y].indexOf("="),L=null;if(0<=A){var V=u[y].substring(0,A);L=u[y].substring(A+1)}else V=u[y];p(V,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Ls(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Ls){this.h=u.h,$c(this,u.j),this.o=u.o,this.g=u.g,jc(this,u.s),this.l=u.l;var p=u.i,y=new yl;y.i=p.i,p.g&&(y.g=new Map(p.g),y.h=p.h),Ww(this,y),this.m=u.m}else u&&(p=String(u).match(zw))?(this.h=!1,$c(this,p[1]||"",!0),this.o=ml(p[2]||""),this.g=ml(p[3]||"",!0),jc(this,p[4]),this.l=ml(p[5]||"",!0),Ww(this,p[6]||"",!0),this.m=ml(p[7]||"")):(this.h=!1,this.i=new yl(null,this.h))}Ls.prototype.toString=function(){var u=[],p=this.j;p&&u.push(gl(p,Hw,!0),":");var y=this.g;return(y||p=="file")&&(u.push("//"),(p=this.o)&&u.push(gl(p,Hw,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(gl(y,y.charAt(0)=="/"?JA:XA,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",gl(y,eN)),u.join("")};function Jr(u){return new Ls(u)}function $c(u,p,y){u.j=y?ml(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function jc(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function Ww(u,p,y){p instanceof yl?(u.i=p,tN(u.i,u.h)):(y||(p=gl(p,ZA)),u.i=new yl(p,u.h))}function tt(u,p,y){u.i.set(p,y)}function Uc(u){return tt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function ml(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function gl(u,p,y){return typeof u=="string"?(u=encodeURI(u).replace(p,YA),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function YA(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Hw=/[#\/\?@]/g,XA=/[#\?:]/g,JA=/[#\?]/g,ZA=/[#\?@]/g,eN=/#/g;function yl(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function Vi(u){u.g||(u.g=new Map,u.h=0,u.i&&QA(u.i,function(p,y){u.add(decodeURIComponent(p.replace(/\+/g," ")),y)}))}t=yl.prototype,t.add=function(u,p){Vi(this),this.i=null,u=Po(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(p),this.h+=1,this};function qw(u,p){Vi(u),p=Po(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function Kw(u,p){return Vi(u),p=Po(u,p),u.g.has(p)}t.forEach=function(u,p){Vi(this),this.g.forEach(function(y,A){y.forEach(function(L){u.call(p,L,A,this)},this)},this)},t.na=function(){Vi(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),y=[];for(let A=0;A<p.length;A++){const L=u[A];for(let V=0;V<L.length;V++)y.push(p[A])}return y},t.V=function(u){Vi(this);let p=[];if(typeof u=="string")Kw(this,u)&&(p=p.concat(this.g.get(Po(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)p=p.concat(u[y])}return p},t.set=function(u,p){return Vi(this),this.i=null,u=Po(this,u),Kw(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function Gw(u,p,y){qw(u,p),0<y.length&&(u.i=null,u.g.set(Po(u,p),T(y)),u.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var y=0;y<p.length;y++){var A=p[y];const V=encodeURIComponent(String(A)),G=this.V(A);for(A=0;A<G.length;A++){var L=V;G[A]!==""&&(L+="="+encodeURIComponent(String(G[A]))),u.push(L)}}return this.i=u.join("&")};function Po(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function tN(u,p){p&&!u.j&&(Vi(u),u.i=null,u.g.forEach(function(y,A){var L=A.toLowerCase();A!=L&&(qw(this,A),Gw(this,L,y))},u)),u.j=p}function nN(u,p){const y=new fl;if(a.Image){const A=new Image;A.onload=g(Fi,y,"TestLoadImage: loaded",!0,p,A),A.onerror=g(Fi,y,"TestLoadImage: error",!1,p,A),A.onabort=g(Fi,y,"TestLoadImage: abort",!1,p,A),A.ontimeout=g(Fi,y,"TestLoadImage: timeout",!1,p,A),a.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else p(!1)}function rN(u,p){const y=new fl,A=new AbortController,L=setTimeout(()=>{A.abort(),Fi(y,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:A.signal}).then(V=>{clearTimeout(L),V.ok?Fi(y,"TestPingServer: ok",!0,p):Fi(y,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),Fi(y,"TestPingServer: error",!1,p)})}function Fi(u,p,y,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(y)}catch{}}function iN(){this.g=new Mi}function sN(u,p,y){const A=y||"";try{Bw(u,function(L,V){let G=L;c(L)&&(G=Ue(L)),p.push(A+V+"="+encodeURIComponent(G))})}catch(L){throw p.push(A+"type="+encodeURIComponent("_badmap")),L}}function Bc(u){this.l=u.Ub||null,this.j=u.eb||!1}v(Bc,Ro),Bc.prototype.g=function(){return new zc(this.l,this.j)},Bc.prototype.i=function(u){return function(){return u}}({});function zc(u,p){Ye.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(zc,Ye),t=zc.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,_l(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,vl(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,_l(this)),this.g&&(this.readyState=3,_l(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Qw(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Qw(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?vl(this):_l(this),this.readyState==3&&Qw(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,vl(this))},t.Qa=function(u){this.g&&(this.response=u,vl(this))},t.ga=function(){this.g&&vl(this)};function vl(u){u.readyState=4,u.l=null,u.j=null,u.v=null,_l(u)}t.setRequestHeader=function(u,p){this.u.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var y=p.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=p.next();return u.join(`\r
`)};function _l(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(zc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Yw(u){let p="";return M(u,function(y,A){p+=A,p+=":",p+=y,p+=`\r
`}),p}function _m(u,p,y){e:{for(A in y){var A=!1;break e}A=!0}A||(y=Yw(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):tt(u,p,y))}function pt(u){Ye.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(pt,Ye);var oN=/^https?$/i,aN=["POST","PUT"];t=pt.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,p,y,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():hm.g(),this.v=this.o?Iw(this.o):Iw(hm),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(V){Xw(this,V);return}if(u=y||"",y=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)y.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const V of A.keys())y.set(V,A.get(V));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(y.keys()).find(V=>V.toLowerCase()=="content-type"),L=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(aN,p,void 0))||A||L||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,G]of y)this.g.setRequestHeader(V,G);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{eE(this),this.u=!0,this.g.send(u),this.u=!1}catch(V){Xw(this,V)}};function Xw(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,Jw(u),Wc(u)}function Jw(u){u.A||(u.A=!0,ut(u,"complete"),ut(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,ut(this,"complete"),ut(this,"abort"),Wc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wc(this,!0)),pt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Zw(this):this.bb())},t.bb=function(){Zw(this)};function Zw(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Zr(u)!=4||u.Z()!=2)){if(u.u&&Zr(u)==4)hr(u.Ea,0,u);else if(ut(u,"readystatechange"),Zr(u)==4){u.h=!1;try{const G=u.Z();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var y;if(!(y=p)){var A;if(A=G===0){var L=String(u.D).match(zw)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),A=!oN.test(L?L.toLowerCase():"")}y=A}if(y)ut(u,"complete"),ut(u,"success");else{u.m=6;try{var V=2<Zr(u)?u.g.statusText:""}catch{V=""}u.l=V+" ["+u.Z()+"]",Jw(u)}}finally{Wc(u)}}}}function Wc(u,p){if(u.g){eE(u);const y=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||ut(u,"ready");try{y.onreadystatechange=A}catch{}}}function eE(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Zr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Zr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),Ot(p)}};function tE(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function lN(u){const p={};u=(u.g&&2<=Zr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(w(u[A]))continue;var y=C(u[A]);const L=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const V=p[L]||[];p[L]=V,V.push(y)}R(p,function(A){return A.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function wl(u,p,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||p}function nE(u){this.Aa=0,this.i=[],this.j=new fl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=wl("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=wl("baseRetryDelayMs",5e3,u),this.cb=wl("retryDelaySeedMs",1e4,u),this.Wa=wl("forwardChannelMaxRetries",2,u),this.wa=wl("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Vw(u&&u.concurrentRequestLimit),this.Da=new iN,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=nE.prototype,t.la=8,t.G=1,t.connect=function(u,p,y,A){vn(0),this.W=u,this.H=p||{},y&&A!==void 0&&(this.H.OSID=y,this.H.OAID=A),this.F=this.X,this.I=dE(this,null,this.W),qc(this)};function wm(u){if(rE(u),u.G==3){var p=u.U++,y=Jr(u.I);if(tt(y,"SID",u.K),tt(y,"RID",p),tt(y,"TYPE","terminate"),El(u,y),p=new Li(u,u.j,p),p.L=2,p.v=Uc(Jr(y)),y=!1,a.navigator&&a.navigator.sendBeacon)try{y=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!y&&a.Image&&(new Image().src=p.v,y=!0),y||(p.g=hE(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Fc(p)}cE(u)}function Hc(u){u.g&&(Sm(u),u.g.cancel(),u.g=null)}function rE(u){Hc(u),u.u&&(a.clearTimeout(u.u),u.u=null),Kc(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function qc(u){if(!Fw(u.h)&&!u.s){u.s=!0;var p=u.Ga;Q||Y(),F||(Q(),F=!0),H.add(p,u),u.B=0}}function uN(u,p){return $w(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=hl(f(u.Ga,u,p),uE(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new Li(this,this.j,u);let V=this.o;if(this.S&&(V?(V=b(V),m(V,this.S)):V=this.S),this.m!==null||this.O||(L.H=V,V=null),this.P)e:{for(var p=0,y=0;y<this.i.length;y++){t:{var A=this.i[y];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(p+=A,4096<p){p=y;break e}if(p===4096||y===this.i.length-1){p=y+1;break e}}p=1e3}else p=1e3;p=sE(this,L,p),y=Jr(this.I),tt(y,"RID",u),tt(y,"CVER",22),this.D&&tt(y,"X-HTTP-Session-Id",this.D),El(this,y),V&&(this.O?p="headers="+encodeURIComponent(String(Yw(V)))+"&"+p:this.m&&_m(y,this.m,V)),vm(this.h,L),this.Ua&&tt(y,"TYPE","init"),this.P?(tt(y,"$req",p),tt(y,"SID","null"),L.T=!0,pm(L,y,null)):pm(L,y,p),this.G=2}}else this.G==3&&(u?iE(this,u):this.i.length==0||Fw(this.h)||iE(this))};function iE(u,p){var y;p?y=p.l:y=u.U++;const A=Jr(u.I);tt(A,"SID",u.K),tt(A,"RID",y),tt(A,"AID",u.T),El(u,A),u.m&&u.o&&_m(A,u.m,u.o),y=new Li(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),p&&(u.i=p.D.concat(u.i)),p=sE(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),vm(u.h,y),pm(y,A,p)}function El(u,p){u.H&&M(u.H,function(y,A){tt(p,A,y)}),u.l&&Bw({},function(y,A){tt(p,A,y)})}function sE(u,p,y){y=Math.min(u.i.length,y);var A=u.l?f(u.l.Na,u.l,u):null;e:{var L=u.i;let V=-1;for(;;){const G=["count="+y];V==-1?0<y?(V=L[0].g,G.push("ofs="+V)):V=0:G.push("ofs="+V);let qe=!0;for(let Kt=0;Kt<y;Kt++){let Ne=L[Kt].g;const tn=L[Kt].map;if(Ne-=V,0>Ne)V=Math.max(0,L[Kt].g-100),qe=!1;else try{sN(tn,G,"req"+Ne+"_")}catch{A&&A(tn)}}if(qe){A=G.join("&");break e}}}return u=u.i.splice(0,y),p.D=u,A}function oE(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;Q||Y(),F||(Q(),F=!0),H.add(p,u),u.v=0}}function Em(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=hl(f(u.Fa,u),uE(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,aE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=hl(f(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vn(10),Hc(this),aE(this))};function Sm(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function aE(u){u.g=new Li(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=Jr(u.qa);tt(p,"RID","rpc"),tt(p,"SID",u.K),tt(p,"AID",u.T),tt(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&tt(p,"TO",u.ja),tt(p,"TYPE","xmlhttp"),El(u,p),u.m&&u.o&&_m(p,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=Uc(Jr(p)),y.m=null,y.P=!0,Dw(y,u)}t.Za=function(){this.C!=null&&(this.C=null,Hc(this),Em(this),vn(19))};function Kc(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function lE(u,p){var y=null;if(u.g==p){Kc(u),Sm(u),u.g=null;var A=2}else if(ym(u.h,p))y=p.D,jw(u.h,p),A=1;else return;if(u.G!=0){if(p.o)if(A==1){y=p.m?p.m.length:0,p=Date.now()-p.F;var L=u.B;A=Mc(),ut(A,new Pw(A,y)),qc(u)}else oE(u);else if(L=p.s,L==3||L==0&&0<p.X||!(A==1&&uN(u,p)||A==2&&Em(u)))switch(y&&0<y.length&&(p=u.h,p.i=p.i.concat(y)),L){case 1:Vs(u,5);break;case 4:Vs(u,10);break;case 3:Vs(u,6);break;default:Vs(u,2)}}}function uE(u,p){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*p}function Vs(u,p){if(u.j.info("Error code "+p),p==2){var y=f(u.fb,u),A=u.Xa;const L=!A;A=new Ls(A||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||$c(A,"https"),Uc(A),L?nN(A.toString(),y):rN(A.toString(),y)}else vn(2);u.G=0,u.l&&u.l.sa(p),cE(u),rE(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),vn(2)):(this.j.info("Failed to ping google.com"),vn(1))};function cE(u){if(u.G=0,u.ka=[],u.l){const p=Uw(u.h);(p.length!=0||u.i.length!=0)&&(x(u.ka,p),x(u.ka,u.i),u.h.i.length=0,T(u.i),u.i.length=0),u.l.ra()}}function dE(u,p,y){var A=y instanceof Ls?Jr(y):new Ls(y);if(A.g!="")p&&(A.g=p+"."+A.g),jc(A,A.s);else{var L=a.location;A=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;var V=new Ls(null);A&&$c(V,A),p&&(V.g=p),L&&jc(V,L),y&&(V.l=y),A=V}return y=u.D,p=u.ya,y&&p&&tt(A,y,p),tt(A,"VER",u.la),El(u,A),A}function hE(u,p,y){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new pt(new Bc({eb:y})):new pt(u.pa),p.Ha(u.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function fE(){}t=fE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Gc(){}Gc.prototype.g=function(u,p){return new jn(u,p)};function jn(u,p){Ye.call(this),this.g=new nE(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!w(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!w(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new Ao(this)}v(jn,Ye),jn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},jn.prototype.close=function(){wm(this.g)},jn.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=Ue(u),u=y);p.i.push(new qA(p.Ya++,u)),p.G==3&&qc(p)},jn.prototype.N=function(){this.g.l=null,delete this.j,wm(this.g),delete this.g,jn.aa.N.call(this)};function pE(u){cm.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const y in p){u=y;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}v(pE,cm);function mE(){dm.call(this),this.status=1}v(mE,dm);function Ao(u){this.g=u}v(Ao,fE),Ao.prototype.ua=function(){ut(this.g,"a")},Ao.prototype.ta=function(u){ut(this.g,new pE(u))},Ao.prototype.sa=function(u){ut(this.g,new mE)},Ao.prototype.ra=function(){ut(this.g,"b")},Gc.prototype.createWebChannel=Gc.prototype.g,jn.prototype.send=jn.prototype.o,jn.prototype.open=jn.prototype.m,jn.prototype.close=jn.prototype.close,kx=function(){return new Gc},Rx=function(){return Mc()},xx=Ds,Ry={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Lc.NO_ERROR=0,Lc.TIMEOUT=8,Lc.HTTP_ERROR=6,Hd=Lc,Aw.COMPLETE="complete",bx=Aw,bw.EventType=cl,cl.OPEN="a",cl.CLOSE="b",cl.ERROR="c",cl.MESSAGE="d",Ye.prototype.listen=Ye.prototype.K,Kl=bw,pt.prototype.listenOnce=pt.prototype.L,pt.prototype.getLastError=pt.prototype.Ka,pt.prototype.getLastErrorCode=pt.prototype.Ba,pt.prototype.getStatus=pt.prototype.Z,pt.prototype.getResponseJson=pt.prototype.Oa,pt.prototype.getResponseText=pt.prototype.oa,pt.prototype.send=pt.prototype.ea,pt.prototype.setWithCredentials=pt.prototype.Ha,Ix=pt}).apply(typeof md<"u"?md:typeof self<"u"?self:typeof window<"u"?window:{});const zS="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Za="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo=new Gf("@firebase/firestore");function Bo(){return uo.logLevel}function X(t,...e){if(uo.logLevel<=ve.DEBUG){const n=e.map(k_);uo.debug(`Firestore (${Za}): ${t}`,...n)}}function wi(t,...e){if(uo.logLevel<=ve.ERROR){const n=e.map(k_);uo.error(`Firestore (${Za}): ${t}`,...n)}}function Na(t,...e){if(uo.logLevel<=ve.WARN){const n=e.map(k_);uo.warn(`Firestore (${Za}): ${t}`,...n)}}function k_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ue(t="Unexpected state"){const e=`FIRESTORE (${Za}) INTERNAL ASSERTION FAILED: `+t;throw wi(e),new Error(e)}function je(t,e){t||ue()}function pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Z extends Ai{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class XL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ln.UNAUTHENTICATED))}shutdown(){}}class JL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class ZL{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){je(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new fi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new fi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new fi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(je(typeof r.accessToken=="string"),new Px(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return je(e===null||typeof e=="string"),new ln(e)}}class eV{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class tV{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new eV(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class nV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rV{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){je(this.o===void 0);const r=s=>{s.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,X("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(je(typeof n.token=="string"),this.R=n.token,new nV(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=iV(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function be(t,e){return t<e?-1:t>e?1:0}function Oa(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{static now(){return Vt.fromMillis(Date.now())}static fromDate(e){return Vt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Vt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Z(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Z(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Z(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Z(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?be(this.nanoseconds,e.nanoseconds):be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{static fromTimestamp(e){return new he(e)}static min(){return new he(new Vt(0,0))}static max(){return new he(new Vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,n,r){n===void 0?n=0:n>e.length&&ue(),r===void 0?r=e.length-n:r>e.length-n&&ue(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return zu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof zu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class it extends zu{construct(e,n,r){return new it(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Z(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new it(n)}static emptyPath(){return new it([])}}const sV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends zu{construct(e,n,r){return new Yt(e,n,r)}static isValidIdentifier(e){return sV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Yt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Z(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Z(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Z(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Z(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(n)}static emptyPath(){return new Yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.path=e}static fromPath(e){return new se(it.fromString(e))}static fromName(e){return new se(it.fromString(e).popFirst(5))}static empty(){return new se(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new se(new it(e.slice()))}}function oV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=he.fromTimestamp(r===1e9?new Vt(n+1,0):new Vt(n,r));return new vs(i,se.empty(),e)}function aV(t){return new vs(t.readTime,t.key,-1)}class vs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new vs(he.min(),se.empty(),-1)}static max(){return new vs(he.max(),se.empty(),-1)}}function lV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=se.comparator(t.documentKey,e.documentKey),n!==0?n:be(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function el(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==uV)throw t;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ue(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(i=>i?U.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new U((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new U((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function dV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function tl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Yf.oe=-1;function Xf(t){return t==null}function Fh(t){return t===0&&1/t==-1/0}function hV(t){return typeof t=="number"&&Number.isInteger(t)&&!Fh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fV(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=WS(e)),e=pV(t.get(n),e);return WS(e)}function pV(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function WS(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function As(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Nx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let At=class ky{constructor(e,n){this.comparator=e,this.root=n||ds.EMPTY}insert(e,n){return new ky(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ds.BLACK,null,null))}remove(e){return new ky(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ds.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gd(this.root,e,this.comparator,!1)}getReverseIterator(){return new gd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gd(this.root,e,this.comparator,!0)}},gd=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ds=class ti{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ti.RED,this.left=i??ti.EMPTY,this.right=s??ti.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ti(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ti.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ti.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ti.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ti.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ue();const e=this.left.check();if(e!==this.right.check())throw ue();return e+(this.isRed()?0:1)}};ds.EMPTY=null,ds.RED=!0,ds.BLACK=!1;ds.EMPTY=new class{constructor(){this.size=0}get key(){throw ue()}get value(){throw ue()}get color(){throw ue()}get left(){throw ue()}get right(){throw ue()}copy(e,n,r,i,s){return this}insert(e,n,r){return new ds(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.comparator=e,this.data=new At(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new qS(this.data.getIterator())}getIteratorFrom(e){return new qS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ft(this.comparator);return n.data=e,n}}class qS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new Hn([])}unionWith(e){let n=new Ft(Yt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Hn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Oa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Ox("Invalid base64 string: "+s):s}}(e);return new Zt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Zt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const mV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _s(t){if(je(!!t),typeof t=="string"){let e=0;const n=mV.exec(t);if(je(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Et(t.seconds),nanos:Et(t.nanos)}}function Et(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ws(t){return typeof t=="string"?Zt.fromBase64String(t):Zt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Jf(t){const e=t.mapValue.fields.__previous_value__;return P_(e)?Jf(e):e}function Wu(t){const e=_s(t.mapValue.fields.__local_write_time__.timestampValue);return new Vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Hu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Hu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Hu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Es(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?P_(t)?4:vV(t)?9007199254740991:yV(t)?10:11:ue()}function Gr(t,e){if(t===e)return!0;const n=Es(t);if(n!==Es(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Wu(t).isEqual(Wu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=_s(i.timestampValue),a=_s(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ws(i.bytesValue).isEqual(ws(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Et(i.geoPointValue.latitude)===Et(s.geoPointValue.latitude)&&Et(i.geoPointValue.longitude)===Et(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Et(i.integerValue)===Et(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Et(i.doubleValue),a=Et(s.doubleValue);return o===a?Fh(o)===Fh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Oa(t.arrayValue.values||[],e.arrayValue.values||[],Gr);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(HS(o)!==HS(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Gr(o[l],a[l])))return!1;return!0}(t,e);default:return ue()}}function qu(t,e){return(t.values||[]).find(n=>Gr(n,e))!==void 0}function Da(t,e){if(t===e)return 0;const n=Es(t),r=Es(e);if(n!==r)return be(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return be(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Et(s.integerValue||s.doubleValue),l=Et(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return KS(t.timestampValue,e.timestampValue);case 4:return KS(Wu(t),Wu(e));case 5:return be(t.stringValue,e.stringValue);case 6:return function(s,o){const a=ws(s),l=ws(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=be(a[c],l[c]);if(d!==0)return d}return be(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=be(Et(s.latitude),Et(o.latitude));return a!==0?a:be(Et(s.longitude),Et(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return GS(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,d;const h=s.fields||{},f=o.fields||{},g=(a=h.value)===null||a===void 0?void 0:a.arrayValue,v=(l=f.value)===null||l===void 0?void 0:l.arrayValue,T=be(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((d=v==null?void 0:v.values)===null||d===void 0?void 0:d.length)||0);return T!==0?T:GS(g,v)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===yd.mapValue&&o===yd.mapValue)return 0;if(s===yd.mapValue)return 1;if(o===yd.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const f=be(l[h],d[h]);if(f!==0)return f;const g=Da(a[l[h]],c[d[h]]);if(g!==0)return g}return be(l.length,d.length)}(t.mapValue,e.mapValue);default:throw ue()}}function KS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return be(t,e);const n=_s(t),r=_s(e),i=be(n.seconds,r.seconds);return i!==0?i:be(n.nanos,r.nanos)}function GS(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Da(n[i],r[i]);if(s)return s}return be(n.length,r.length)}function Ma(t){return Py(t)}function Py(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=_s(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ws(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return se.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Py(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Py(n.fields[o])}`;return i+"}"}(t.mapValue):ue()}function qd(t){switch(Es(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Jf(t);return e?16+qd(e):16;case 5:return 2*t.stringValue.length;case 6:return ws(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+qd(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return As(r.fields,(s,o)=>{i+=s.length+qd(o)}),i}(t.mapValue);default:throw ue()}}function QS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ay(t){return!!t&&"integerValue"in t}function A_(t){return!!t&&"arrayValue"in t}function YS(t){return!!t&&"nullValue"in t}function XS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Kd(t){return!!t&&"mapValue"in t}function yV(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function uu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return As(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=uu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=uu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function vV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.value=e}static empty(){return new Pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Kd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=uu(n)}setAll(e){let n=Yt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=uu(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Kd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Gr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Kd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){As(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Pn(uu(this.value))}}function Dx(t){const e=[];return As(t.fields,(n,r)=>{const i=new Yt([n]);if(Kd(r)){const s=Dx(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Hn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new cn(e,0,he.min(),he.min(),he.min(),Pn.empty(),0)}static newFoundDocument(e,n,r,i){return new cn(e,1,n,he.min(),r,i,0)}static newNoDocument(e,n){return new cn(e,2,n,he.min(),he.min(),Pn.empty(),0)}static newUnknownDocument(e,n){return new cn(e,3,n,he.min(),he.min(),Pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(he.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=he.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,n){this.position=e,this.inclusive=n}}function JS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=se.comparator(se.fromName(o.referenceValue),n.key):r=Da(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function ZS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Gr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,n="asc"){this.field=e,this.dir=n}}function _V(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{}class kt extends Mx{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new EV(e,n,r):n==="array-contains"?new TV(e,r):n==="in"?new IV(e,r):n==="not-in"?new bV(e,r):n==="array-contains-any"?new xV(e,r):new kt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new SV(e,r):new CV(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Da(n,this.value)):n!==null&&Es(this.value)===Es(n)&&this.matchesComparison(Da(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ue()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class kr extends Mx{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new kr(e,n)}matches(e){return Lx(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Lx(t){return t.op==="and"}function Vx(t){return wV(t)&&Lx(t)}function wV(t){for(const e of t.filters)if(e instanceof kr)return!1;return!0}function Ny(t){if(t instanceof kt)return t.field.canonicalString()+t.op.toString()+Ma(t.value);if(Vx(t))return t.filters.map(e=>Ny(e)).join(",");{const e=t.filters.map(n=>Ny(n)).join(",");return`${t.op}(${e})`}}function Fx(t,e){return t instanceof kt?function(r,i){return i instanceof kt&&r.op===i.op&&r.field.isEqual(i.field)&&Gr(r.value,i.value)}(t,e):t instanceof kr?function(r,i){return i instanceof kr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&Fx(o,i.filters[a]),!0):!1}(t,e):void ue()}function $x(t){return t instanceof kt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ma(n.value)}`}(t):t instanceof kr?function(n){return n.op.toString()+" {"+n.getFilters().map($x).join(" ,")+"}"}(t):"Filter"}class EV extends kt{constructor(e,n,r){super(e,n,r),this.key=se.fromName(r.referenceValue)}matches(e){const n=se.comparator(e.key,this.key);return this.matchesComparison(n)}}class SV extends kt{constructor(e,n){super(e,"in",n),this.keys=jx("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class CV extends kt{constructor(e,n){super(e,"not-in",n),this.keys=jx("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function jx(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>se.fromName(r.referenceValue))}class TV extends kt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return A_(n)&&qu(n.arrayValue,this.value)}}class IV extends kt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&qu(this.value.arrayValue,n)}}class bV extends kt{constructor(e,n){super(e,"not-in",n)}matches(e){if(qu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!qu(this.value.arrayValue,n)}}class xV extends kt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!A_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>qu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function eC(t,e=null,n=[],r=[],i=null,s=null,o=null){return new RV(t,e,n,r,i,s,o)}function N_(t){const e=pe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ny(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Xf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ma(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ma(r)).join(",")),e.ue=n}return e.ue}function O_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!_V(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Fx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ZS(t.startAt,e.startAt)&&ZS(t.endAt,e.endAt)}function Oy(t){return se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function kV(t,e,n,r,i,s,o,a){return new mc(t,e,n,r,i,s,o,a)}function Zf(t){return new mc(t)}function tC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Ux(t){return t.collectionGroup!==null}function cu(t){const e=pe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ft(Yt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new jh(s,r))}),n.has(Yt.keyField().canonicalString())||e.ce.push(new jh(Yt.keyField(),r))}return e.ce}function Br(t){const e=pe(t);return e.le||(e.le=PV(e,cu(t))),e.le}function PV(t,e){if(t.limitType==="F")return eC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new jh(i.field,s)});const n=t.endAt?new $h(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new $h(t.startAt.position,t.startAt.inclusive):null;return eC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Dy(t,e){const n=t.filters.concat([e]);return new mc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function My(t,e,n){return new mc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ep(t,e){return O_(Br(t),Br(e))&&t.limitType===e.limitType}function Bx(t){return`${N_(Br(t))}|lt:${t.limitType}`}function zo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>$x(i)).join(", ")}]`),Xf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ma(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ma(i)).join(",")),`Target(${r})`}(Br(t))}; limitType=${t.limitType})`}function tp(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):se.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of cu(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=JS(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,cu(r),i)||r.endAt&&!function(o,a,l){const c=JS(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,cu(r),i))}(t,e)}function AV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function zx(t){return(e,n)=>{let r=!1;for(const i of cu(t)){const s=NV(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function NV(t,e,n){const r=t.field.isKeyField()?se.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Da(l,c):ue()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ue()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){As(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Nx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OV=new At(se.comparator);function Ei(){return OV}const Wx=new At(se.comparator);function Gl(...t){let e=Wx;for(const n of t)e=e.insert(n.key,n);return e}function Hx(t){let e=Wx;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Qs(){return du()}function qx(){return du()}function du(){return new So(t=>t.toString(),(t,e)=>t.isEqual(e))}const DV=new At(se.comparator),MV=new Ft(se.comparator);function Ce(...t){let e=MV;for(const n of t)e=e.add(n);return e}const LV=new Ft(be);function VV(){return LV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fh(e)?"-0":e}}function Kx(t){return{integerValue:""+t}}function FV(t,e){return hV(e)?Kx(e):D_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(){this._=void 0}}function $V(t,e,n){return t instanceof Uh?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&P_(s)&&(s=Jf(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Ku?Qx(t,e):t instanceof Gu?Yx(t,e):function(i,s){const o=Gx(i,s),a=nC(o)+nC(i.Pe);return Ay(o)&&Ay(i.Pe)?Kx(a):D_(i.serializer,a)}(t,e)}function jV(t,e,n){return t instanceof Ku?Qx(t,e):t instanceof Gu?Yx(t,e):n}function Gx(t,e){return t instanceof Bh?function(r){return Ay(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Uh extends np{}class Ku extends np{constructor(e){super(),this.elements=e}}function Qx(t,e){const n=Xx(e);for(const r of t.elements)n.some(i=>Gr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Gu extends np{constructor(e){super(),this.elements=e}}function Yx(t,e){let n=Xx(e);for(const r of t.elements)n=n.filter(i=>!Gr(i,r));return{arrayValue:{values:n}}}class Bh extends np{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function nC(t){return Et(t.integerValue||t.doubleValue)}function Xx(t){return A_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function UV(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ku&&i instanceof Ku||r instanceof Gu&&i instanceof Gu?Oa(r.elements,i.elements,Gr):r instanceof Bh&&i instanceof Bh?Gr(r.Pe,i.Pe):r instanceof Uh&&i instanceof Uh}(t.transform,e.transform)}class BV{constructor(e,n){this.version=e,this.transformResults=n}}class zr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new zr}static exists(e){return new zr(void 0,e)}static updateTime(e){return new zr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class rp{}function Jx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new eR(t.key,zr.none()):new gc(t.key,t.data,zr.none());{const n=t.data,r=Pn.empty();let i=new Ft(Yt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ns(t.key,r,new Hn(i.toArray()),zr.none())}}function zV(t,e,n){t instanceof gc?function(i,s,o){const a=i.value.clone(),l=iC(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ns?function(i,s,o){if(!Gd(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=iC(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(Zx(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function hu(t,e,n,r){return t instanceof gc?function(s,o,a,l){if(!Gd(s.precondition,o))return a;const c=s.value.clone(),d=sC(s.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ns?function(s,o,a,l){if(!Gd(s.precondition,o))return a;const c=sC(s.fieldTransforms,l,o),d=o.data;return d.setAll(Zx(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return Gd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function WV(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Gx(r.transform,i||null);s!=null&&(n===null&&(n=Pn.empty()),n.set(r.field,s))}return n||null}function rC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Oa(r,i,(s,o)=>UV(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class gc extends rp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ns extends rp{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Zx(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function iC(t,e,n){const r=new Map;je(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,jV(o,a,n[i]))}return r}function sC(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,$V(s,o,e))}return r}class eR extends rp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class HV extends rp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&zV(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=hu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=hu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=qx();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=Jx(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(he.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ce())}isEqual(e){return this.batchId===e.batchId&&Oa(this.mutations,e.mutations,(n,r)=>rC(n,r))&&Oa(this.baseMutations,e.baseMutations,(n,r)=>rC(n,r))}}class M_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){je(e.mutations.length===r.length);let i=function(){return DV}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new M_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt,Re;function QV(t){switch(t){default:return ue();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}function tR(t){if(t===void 0)return wi("GRPC error has no .code"),B.UNKNOWN;switch(t){case bt.OK:return B.OK;case bt.CANCELLED:return B.CANCELLED;case bt.UNKNOWN:return B.UNKNOWN;case bt.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case bt.INTERNAL:return B.INTERNAL;case bt.UNAVAILABLE:return B.UNAVAILABLE;case bt.UNAUTHENTICATED:return B.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case bt.NOT_FOUND:return B.NOT_FOUND;case bt.ALREADY_EXISTS:return B.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return B.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case bt.ABORTED:return B.ABORTED;case bt.OUT_OF_RANGE:return B.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return B.UNIMPLEMENTED;case bt.DATA_LOSS:return B.DATA_LOSS;default:return ue()}}(Re=bt||(bt={}))[Re.OK=0]="OK",Re[Re.CANCELLED=1]="CANCELLED",Re[Re.UNKNOWN=2]="UNKNOWN",Re[Re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Re[Re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Re[Re.NOT_FOUND=5]="NOT_FOUND",Re[Re.ALREADY_EXISTS=6]="ALREADY_EXISTS",Re[Re.PERMISSION_DENIED=7]="PERMISSION_DENIED",Re[Re.UNAUTHENTICATED=16]="UNAUTHENTICATED",Re[Re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Re[Re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Re[Re.ABORTED=10]="ABORTED",Re[Re.OUT_OF_RANGE=11]="OUT_OF_RANGE",Re[Re.UNIMPLEMENTED=12]="UNIMPLEMENTED",Re[Re.INTERNAL=13]="INTERNAL",Re[Re.UNAVAILABLE=14]="UNAVAILABLE",Re[Re.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XV=new eo([4294967295,4294967295],0);function oC(t){const e=YV().encode(t),n=new Tx;return n.update(e),new Uint8Array(n.digest())}function aC(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new eo([n,r],0),new eo([i,s],0)]}class L_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ql(`Invalid padding: ${n}`);if(r<0)throw new Ql(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ql(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ql(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=eo.fromNumber(this.Te)}Ee(e,n,r){let i=e.add(n.multiply(eo.fromNumber(r)));return i.compare(XV)===1&&(i=new eo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=oC(e),[r,i]=aC(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new L_(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=oC(e),[r,i]=aC(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,yc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ip(he.min(),i,new At(be),Ei(),Ce())}}class yc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new yc(r,n,Ce(),Ce(),Ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class nR{constructor(e,n){this.targetId=e,this.me=n}}class rR{constructor(e,n,r=Zt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class lC{constructor(){this.fe=0,this.ge=uC(),this.pe=Zt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ce(),n=Ce(),r=Ce();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ue()}}),new yc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=uC()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,je(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class JV{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ei(),this.qe=vd(),this.Qe=vd(),this.Ke=new At(be)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.je(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.De(e.resumeToken));break;default:ue()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.me.count,i=this.Ye(n);if(i){const s=i.target;if(Oy(s))if(r===0){const o=new se(s.path);this.We(n,o,cn.newNoDocument(o,he.min()))}else je(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=ws(r).toUint8Array()}catch(l){if(l instanceof Ox)return Na("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new L_(o,i,s)}catch(l){return Na(l instanceof Ql?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.me.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&Oy(a.target)){const l=new se(a.target.path);this.st(l).has(o)||this.ot(o,l)||this.We(o,l,cn.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=Ce();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Ye(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new ip(e,n,this.Ke,this.ke,r);return this.ke=Ei(),this.qe=vd(),this.Qe=vd(),this.Ke=new At(be),i}Ue(e,n){if(!this.je(e))return;const r=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.ot(e,n)?i.Fe(n,1):i.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Be.get(e);return n||(n=new lC,this.Be.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new Ft(be),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ft(be),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||X("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new lC),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function vd(){return new At(se.comparator)}function uC(){return new At(se.comparator)}const ZV={asc:"ASCENDING",desc:"DESCENDING"},eF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tF={and:"AND",or:"OR"};class nF{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ly(t,e){return t.useProto3Json||Xf(e)?e:{value:e}}function zh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function iR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function rF(t,e){return zh(t,e.toTimestamp())}function Wr(t){return je(!!t),he.fromTimestamp(function(n){const r=_s(n);return new Vt(r.seconds,r.nanos)}(t))}function V_(t,e){return Vy(t,e).canonicalString()}function Vy(t,e){const n=function(i){return new it(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function sR(t){const e=it.fromString(t);return je(cR(e)),e}function Fy(t,e){return V_(t.databaseId,e.path)}function rg(t,e){const n=sR(e);if(n.get(1)!==t.databaseId.projectId)throw new Z(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Z(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new se(aR(n))}function oR(t,e){return V_(t.databaseId,e)}function iF(t){const e=sR(t);return e.length===4?it.emptyPath():aR(e)}function $y(t){return new it(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function aR(t){return je(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function cC(t,e,n){return{name:Fy(t,e),fields:n.value.mapValue.fields}}function sF(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ue()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(je(d===void 0||typeof d=="string"),Zt.fromBase64String(d||"")):(je(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Zt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?B.UNKNOWN:tR(c.code);return new Z(d,c.message||"")}(o);n=new rR(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=rg(t,r.document.name),s=Wr(r.document.updateTime),o=r.document.createTime?Wr(r.document.createTime):he.min(),a=new Pn({mapValue:{fields:r.document.fields}}),l=cn.newFoundDocument(i,s,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Qd(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=rg(t,r.document),s=r.readTime?Wr(r.readTime):he.min(),o=cn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Qd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=rg(t,r.document),s=r.removedTargetIds||[];n=new Qd([],s,i,null)}else{if(!("filter"in e))return ue();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new GV(i,s),a=r.targetId;n=new nR(a,o)}}return n}function oF(t,e){let n;if(e instanceof gc)n={update:cC(t,e.key,e.value)};else if(e instanceof eR)n={delete:Fy(t,e.key)};else if(e instanceof Ns)n={update:cC(t,e.key,e.data),updateMask:mF(e.fieldMask)};else{if(!(e instanceof HV))return ue();n={verify:Fy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Uh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ku)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Gu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Bh)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ue()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:rF(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ue()}(t,e.precondition)),n}function aF(t,e){return t&&t.length>0?(je(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Wr(i.updateTime):Wr(s);return o.isEqual(he.min())&&(o=Wr(s)),new BV(o,i.transformResults||[])}(n,e))):[]}function lF(t,e){return{documents:[oR(t,e.path)]}}function uF(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=oR(t,i);const s=function(c){if(c.length!==0)return uR(kr.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(d=>function(f){return{field:Wo(f.field),direction:hF(f.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Ly(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ct:n,parent:i}}function cF(t){let e=iF(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){je(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){const f=lR(h);return f instanceof kr&&Vx(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(v){return new jh(Ho(v.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,Xf(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,g=h.values||[];return new $h(g,f)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const f=!h.before,g=h.values||[];return new $h(g,f)}(n.endAt)),kV(e,i,o,s,a,"F",l,c)}function dF(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ue()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function lR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ho(n.unaryFilter.field);return kt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ho(n.unaryFilter.field);return kt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ho(n.unaryFilter.field);return kt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ho(n.unaryFilter.field);return kt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ue()}}(t):t.fieldFilter!==void 0?function(n){return kt.create(Ho(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ue()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return kr.create(n.compositeFilter.filters.map(r=>lR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ue()}}(n.compositeFilter.op))}(t):ue()}function hF(t){return ZV[t]}function fF(t){return eF[t]}function pF(t){return tF[t]}function Wo(t){return{fieldPath:t.canonicalString()}}function Ho(t){return Yt.fromServerFormat(t.fieldPath)}function uR(t){return t instanceof kt?function(n){if(n.op==="=="){if(XS(n.value))return{unaryFilter:{field:Wo(n.field),op:"IS_NAN"}};if(YS(n.value))return{unaryFilter:{field:Wo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(XS(n.value))return{unaryFilter:{field:Wo(n.field),op:"IS_NOT_NAN"}};if(YS(n.value))return{unaryFilter:{field:Wo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wo(n.field),op:fF(n.op),value:n.value}}}(t):t instanceof kr?function(n){const r=n.getFilters().map(i=>uR(i));return r.length===1?r[0]:{compositeFilter:{op:pF(n.op),filters:r}}}(t):ue()}function mF(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function cR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e,n,r,i,s=he.min(),o=he.min(),a=Zt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new es(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(e){this.ht=e}}function yF(t){const e=cF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?My(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vF{constructor(){this.ln=new _F}addToCollectionParentIndex(e,n){return this.ln.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(vs.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(vs.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class _F{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ft(it.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ft(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class xn{static withCacheSize(e){return new xn(e,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xn.DEFAULT_COLLECTION_PERCENTILE=10,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xn.DEFAULT=new xn(41943040,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xn.DISABLED=new xn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new La(0)}static Qn(){return new La(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC([t,e],[n,r]){const i=be(t,n);return i===0?be(e,r):i}class wF{constructor(e){this.Gn=e,this.buffer=new Ft(hC),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();hC(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class EF{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){X("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){tl(n)?X("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await el(n)}await this.Yn(3e5)})}}class SF{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return U.resolve(Yf.oe);const r=new wF(n);return this.Zn.forEachTarget(e,i=>r.Hn(i.sequenceNumber)).next(()=>this.Zn.er(e,i=>r.Hn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(X("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(dC)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(X("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dC):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let r,i,s,o,a,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(X("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(s=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(c=Date.now(),Bo()<=ve.DEBUG&&X("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}function CF(t,e){return new SF(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(){this.changes=new So(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,cn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bF{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&hu(r.mutation,i,Hn.empty(),Vt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ce()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ce()){const i=Qs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Gl();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Qs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ce()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Ei();const o=du(),a=function(){return du()}();return n.forEach((l,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof Ns)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),hu(d.mutation,c,d.mutation.getFieldMask(),Vt.now())):o.set(c.key,Hn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var h;return a.set(c,new IF(d,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=du();let i=new At((o,a)=>o-a),s=Ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||Hn.empty();d=a.applyToLocalView(c,d),r.set(l,d);const h=(i.get(a.batchId)||Ce()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,h=qx();d.forEach(f=>{if(!s.has(f)){const g=Jx(n.get(f),r.get(f));g!==null&&h.set(f,g),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return se.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Ux(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):U.resolve(Qs());let a=-1,l=s;return o.next(c=>U.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?U.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Ce())).next(d=>({batchId:a,changes:Hx(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new se(n)).next(r=>{let i=Gl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Gl();return this.indexManager.getCollectionParents(e,s).next(a=>U.forEach(a,l=>{const c=function(h,f){return new mc(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,cn.newInvalidDocument(d)))});let a=Gl();return o.forEach((l,c)=>{const d=s.get(l);d!==void 0&&hu(d.mutation,c,Hn.empty(),Vt.now()),tp(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xF{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return U.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Wr(i.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(i){return{name:i.name,query:yF(i.bundledQuery),readTime:Wr(i.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RF{constructor(){this.overlays=new At(se.comparator),this.Er=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Qs();return U.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.Tt(e,n,s)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Er.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Er.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const i=Qs(),s=n.length+1,o=new se(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return U.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new At((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=Qs(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Qs(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return U.resolve(a)}Tt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Er.get(i.largestBatchId).delete(r.key);this.Er.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new KV(n,r));let s=this.Er.get(n);s===void 0&&(s=Ce(),this.Er.set(n,s)),this.Er.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kF{constructor(){this.sessionToken=Zt.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(){this.dr=new Ft(jt.Ar),this.Rr=new Ft(jt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const r=new jt(e,n);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.gr(new jt(e,n))}pr(e,n){e.forEach(r=>this.removeReference(r,n))}yr(e){const n=new se(new it([])),r=new jt(n,e),i=new jt(n,e+1),s=[];return this.Rr.forEachInRange([r,i],o=>{this.gr(o),s.push(o.key)}),s}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new se(new it([])),r=new jt(n,e),i=new jt(n,e+1);let s=Ce();return this.Rr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new jt(e,0),r=this.dr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class jt{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return se.comparator(e.key,n.key)||be(e.br,n.br)}static Vr(e,n){return be(e.br,n.br)||se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new Ft(jt.Ar)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new qV(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.vr=this.vr.add(new jt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Fr(r),s=i<0?0:i;return U.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new jt(n,0),i=new jt(n,Number.POSITIVE_INFINITY),s=[];return this.vr.forEachInRange([r,i],o=>{const a=this.Cr(o.br);s.push(a)}),U.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ft(be);return n.forEach(i=>{const s=new jt(i,0),o=new jt(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([s,o],a=>{r=r.add(a.br)})}),U.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;se.isDocumentKey(s)||(s=s.child(""));const o=new jt(new se(s),0);let a=new Ft(be);return this.vr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.br)),!0)},o),U.resolve(this.Mr(a))}Mr(e){const n=[];return e.forEach(r=>{const i=this.Cr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){je(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return U.forEach(n.mutations,i=>{const s=new jt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.vr=r})}Ln(e){}containsKey(e,n){const r=new jt(n,0),i=this.vr.firstAfterOrEqual(r);return U.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(e){this.Nr=e,this.docs=function(){return new At(se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Nr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():cn.newInvalidDocument(n))}getEntries(e,n){let r=Ei();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():cn.newInvalidDocument(i))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ei();const o=n.path,a=new se(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||lV(aV(d),r)<=0||(i.has(d.key)||tp(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return U.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ue()}Lr(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new NF(this)}getSize(e){return U.resolve(this.size)}}class NF extends TF{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.hr.addEntry(e,i)):this.hr.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF{constructor(e){this.persistence=e,this.Br=new So(n=>N_(n),O_),this.lastRemoteSnapshotVersion=he.min(),this.highestTargetId=0,this.kr=0,this.qr=new F_,this.targetCount=0,this.Qr=La.qn()}forEachTarget(e,n){return this.Br.forEach((r,i)=>n(i)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.kr&&(this.kr=n),U.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new La(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Un(n),U.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Br.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Br.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),U.waitFor(s).next(()=>i)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.Br.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this.qr.mr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this.qr.pr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),U.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this.qr.Sr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e,n){this.Kr={},this.overlays={},this.$r=new Yf(0),this.Ur=!1,this.Ur=!0,this.Wr=new kF,this.referenceDelegate=e(this),this.Gr=new OF(this),this.indexManager=new vF,this.remoteDocumentCache=function(i){return new AF(i)}(r=>this.referenceDelegate.zr(r)),this.serializer=new gF(n),this.jr=new xF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new RF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Kr[e.toKey()];return r||(r=new PF(n,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,r){X("MemoryPersistence","Starting transaction:",e);const i=new DF(this.$r.next());return this.referenceDelegate.Hr(),r(i).next(s=>this.referenceDelegate.Jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Yr(e,n){return U.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,n)))}}class DF extends cV{constructor(e){super(),this.currentSequenceNumber=e}}class $_{constructor(e){this.persistence=e,this.Zr=new F_,this.Xr=null}static ei(e){return new $_(e)}get ti(){if(this.Xr)return this.Xr;throw ue()}addReference(e,n,r){return this.Zr.addReference(r,n),this.ti.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.Zr.removeReference(r,n),this.ti.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),U.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(i=>this.ti.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.ti.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.ti,r=>{const i=se.fromPath(r);return this.ni(e,i).next(s=>{s||n.removeEntry(i,he.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(r=>{r?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return U.or([()=>U.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class Wh{constructor(e,n){this.persistence=e,this.ri=new So(r=>fV(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=CF(this,n)}static ei(e,n){return new Wh(e,n)}Hr(){}Jr(e){return U.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}nr(e){let n=0;return this.er(e,r=>{n++}).next(()=>n)}er(e,n){return U.forEach(this.ri,(r,i)=>this.ir(e,r,i).next(s=>s?U.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Lr(e,o=>this.ir(e,o,n).next(a=>{a||(r++,s.removeEntry(o,he.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),U.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),U.resolve()}removeReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),U.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),U.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=qd(e.data.value)),n}ir(e,n,r){return U.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.ri.get(n);return U.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Wi=r,this.Gi=i}static zi(e,n){let r=Ce(),i=Ce();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new j_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return kM()?8:dV(gn())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Xi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.es(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new MF;return this.ts(e,n,o).next(a=>{if(s.result=a,this.Hi)return this.ns(e,n,o,a.size)})}).next(()=>s.result)}ns(e,n,r,i){return r.documentReadCount<this.Ji?(Bo()<=ve.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",zo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),U.resolve()):(Bo()<=ve.DEBUG&&X("QueryEngine","Query:",zo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Yi*i?(Bo()<=ve.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",zo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Br(n))):U.resolve())}Xi(e,n){if(tC(n))return U.resolve(null);let r=Br(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=My(n,null,"F"),r=Br(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ce(...s);return this.Zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.rs(n,a);return this.ss(n,c,o,l.readTime)?this.Xi(e,My(n,null,"F")):this.os(e,c,n,l)}))})))}es(e,n,r,i){return tC(n)||i.isEqual(he.min())?U.resolve(null):this.Zi.getDocuments(e,r).next(s=>{const o=this.rs(n,s);return this.ss(n,o,r,i)?U.resolve(null):(Bo()<=ve.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),zo(n)),this.os(e,o,n,oV(i,-1)).next(a=>a))})}rs(e,n){let r=new Ft(zx(e));return n.forEach((i,s)=>{tp(e,s)&&(r=r.add(s))}),r}ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ts(e,n,r){return Bo()<=ve.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",zo(n)),this.Zi.getDocumentsMatchingQuery(e,n,vs.min(),r)}os(e,n,r,i){return this.Zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(e,n,r,i){this.persistence=e,this._s=n,this.serializer=i,this.us=new At(be),this.cs=new So(s=>N_(s),O_),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bF(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function FF(t,e,n,r){return new VF(t,e,n,r)}async function hR(t,e){const n=pe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ps(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Ce();for(const c of i){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ts:c,removedBatchIds:o,addedBatchIds:a}))})})}function $F(t,e){const n=pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.hs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const h=c.batch,f=h.keys();let g=U.resolve();return f.forEach(v=>{g=g.next(()=>d.getEntry(l,v)).next(T=>{const x=c.docVersions.get(v);je(x!==null),T.version.compareTo(x)<0&&(h.applyToRemoteDocument(T,c),T.isValidDocument()&&(T.setReadTime(c.commitVersion),d.addEntry(T)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ce();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function fR(t){const e=pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function jF(t,e){const n=pe(t),r=e.snapshotVersion;let i=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.hs.newChangeBuffer({trackRemovals:!0});i=n.us;const a=[];e.targetChanges.forEach((d,h)=>{const f=i.get(h);if(!f)return;a.push(n.Gr.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.Gr.addMatchingKeys(s,d.addedDocuments,h)));let g=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(Zt.EMPTY_BYTE_STRING,he.min()).withLastLimboFreeSnapshotVersion(he.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),i=i.insert(h,g),function(T,x,_){return T.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(f,g,d)&&a.push(n.Gr.updateTargetData(s,g))});let l=Ei(),c=Ce();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(UF(s,o,e.documentUpdates).next(d=>{l=d.Is,c=d.Es})),!r.isEqual(he.min())){const d=n.Gr.getLastRemoteSnapshotVersion(s).next(h=>n.Gr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return U.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.us=i,s))}function UF(t,e,n){let r=Ce(),i=Ce();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Ei();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(he.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):X("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Is:o,Es:i}})}function BF(t,e){const n=pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function zF(t,e){const n=pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Gr.getTargetData(r,e).next(s=>s?(i=s,U.resolve(i)):n.Gr.allocateTargetId(r).next(o=>(i=new es(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Gr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.us.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.us=n.us.insert(r.targetId,r),n.cs.set(e,r.targetId)),r})}async function jy(t,e,n){const r=pe(t),i=r.us.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!tl(o))throw o;X("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.us=r.us.remove(e),r.cs.delete(i.target)}function fC(t,e,n){const r=pe(t);let i=he.min(),s=Ce();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const h=pe(l),f=h.cs.get(d);return f!==void 0?U.resolve(h.us.get(f)):h.Gr.getTargetData(c,d)}(r,o,Br(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r._s.getDocumentsMatchingQuery(o,e,n?i:he.min(),n?s:Ce())).next(a=>(WF(r,AV(e),a),{documents:a,ds:s})))}function WF(t,e,n){let r=t.ls.get(e)||he.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ls.set(e,r)}class pC{constructor(){this.activeTargetIds=VV()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class HF{constructor(){this._o=new pC,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,r){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new pC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){X("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){X("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _d=null;function ig(){return _d===null?_d=function(){return 268435456+Math.round(2147483648*Math.random())}():_d++,"0x"+_d.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="WebChannelConnection";class QF extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+n.host,this.Mo=`projects/${i}/databases/${s}`,this.xo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Oo(n,r,i,s,o){const a=ig(),l=this.No(n,r.toUriEncodedString());X("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(c,s,o),this.Bo(n,l,c,i).then(d=>(X("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Na("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}ko(n,r,i,s,o,a){return this.Oo(n,r,i,s,o)}Lo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Za}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}No(n,r){const i=KF[n];return`${this.Fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,r,i){const s=ig();return new Promise((o,a)=>{const l=new Ix;l.setWithCredentials(!0),l.listenOnce(bx.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Hd.NO_ERROR:const d=l.getResponseJson();X(on,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Hd.TIMEOUT:X(on,`RPC '${e}' ${s} timed out`),a(new Z(B.DEADLINE_EXCEEDED,"Request time out"));break;case Hd.HTTP_ERROR:const h=l.getStatus();if(X(on,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const g=f==null?void 0:f.error;if(g&&g.status&&g.message){const v=function(x){const _=x.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(_)>=0?_:B.UNKNOWN}(g.status);a(new Z(v,g.message))}else a(new Z(B.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Z(B.UNAVAILABLE,"Connection failed."));break;default:ue()}}finally{X(on,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);X(on,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}qo(e,n,r){const i=ig(),s=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=kx(),a=Rx(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Lo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");X(on,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=o.createWebChannel(d,l);let f=!1,g=!1;const v=new GF({Eo:x=>{g?X(on,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(f||(X(on,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),X(on,`RPC '${e}' stream ${i} sending:`,x),h.send(x))},Ao:()=>h.close()}),T=(x,_,w)=>{x.listen(_,E=>{try{w(E)}catch(P){setTimeout(()=>{throw P},0)}})};return T(h,Kl.EventType.OPEN,()=>{g||(X(on,`RPC '${e}' stream ${i} transport opened.`),v.So())}),T(h,Kl.EventType.CLOSE,()=>{g||(g=!0,X(on,`RPC '${e}' stream ${i} transport closed`),v.Do())}),T(h,Kl.EventType.ERROR,x=>{g||(g=!0,Na(on,`RPC '${e}' stream ${i} transport errored:`,x),v.Do(new Z(B.UNAVAILABLE,"The operation could not be completed")))}),T(h,Kl.EventType.MESSAGE,x=>{var _;if(!g){const w=x.data[0];je(!!w);const E=w,P=(E==null?void 0:E.error)||((_=E[0])===null||_===void 0?void 0:_.error);if(P){X(on,`RPC '${e}' stream ${i} received error:`,P);const D=P.status;let M=function(k){const m=bt[k];if(m!==void 0)return tR(m)}(D),R=P.message;M===void 0&&(M=B.INTERNAL,R="Unknown error status: "+D+" with message "+P.message),g=!0,v.Do(new Z(M,R)),h.close()}else X(on,`RPC '${e}' stream ${i} received:`,w),v.vo(w)}}),T(a,xx.STAT_EVENT,x=>{x.stat===Ry.PROXY?X(on,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===Ry.NOPROXY&&X(on,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.bo()},0),v}}function sg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(t){return new nF(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e,n,r=1e3,i=1.5,s=6e4){this.li=e,this.timerId=n,this.Qo=r,this.Ko=i,this.$o=s,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),i=Math.max(0,n-r);i>0&&X("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e,n,r,i,s,o,a,l){this.li=e,this.Yo=r,this.Zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new pR(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(wi(n.toString()),wi("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Xo===n&&this.I_(r,i)},r=>{e(()=>{const i=new Z(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.E_(i)})})}I_(e,n){const r=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{r(()=>this.E_(i))}),this.stream.onMessage(i=>{r(()=>++this.n_==1?this.A_(i):this.onNext(i))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return X("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(X("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class YF extends mR{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}d_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=sF(this.serializer,e),r=function(s){if(!("targetChange"in s))return he.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?he.min():o.readTime?Wr(o.readTime):he.min()}(e);return this.listener.R_(n,r)}V_(e){const n={};n.database=$y(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Oy(l)?{documents:lF(s,l)}:{query:uF(s,l).ct},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=iR(s,o.resumeToken);const c=Ly(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(he.min())>0){a.readTime=zh(s,o.snapshotVersion.toTimestamp());const c=Ly(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=dF(this.serializer,e);r&&(n.labels=r),this.c_(n)}m_(e){const n={};n.database=$y(this.serializer),n.removeTarget=e,this.c_(n)}}class XF extends mR{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,n){return this.connection.qo("Write",e,n)}A_(e){return je(!!e.streamToken),this.lastStreamToken=e.streamToken,je(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){je(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=aF(e.writeResults,e.commitTime),r=Wr(e.commitTime);return this.listener.y_(r,n)}w_(){const e={};e.database=$y(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>oF(this.serializer,r))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new Z(B.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Oo(e,Vy(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Z(B.UNKNOWN,s.toString())})}ko(e,n,r,i,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.ko(e,Vy(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Z(B.UNKNOWN,o.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class ZF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(wi(n),this.C_=!1):X("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=s,this.Q_.uo(o=>{r.enqueueAndForget(async()=>{Co(this)&&(X("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=pe(l);c.k_.add(4),await vc(c),c.K_.set("Unknown"),c.k_.delete(4),await op(c)}(this))})}),this.K_=new ZF(r,i)}}async function op(t){if(Co(t))for(const e of t.q_)await e(!0)}async function vc(t){for(const e of t.q_)await e(!1)}function gR(t,e){const n=pe(t);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),W_(n)?z_(n):nl(n).s_()&&B_(n,e))}function U_(t,e){const n=pe(t),r=nl(n);n.B_.delete(e),r.s_()&&yR(n,e),n.B_.size===0&&(r.s_()?r.a_():Co(n)&&n.K_.set("Unknown"))}function B_(t,e){if(t.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(he.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}nl(t).V_(e)}function yR(t,e){t.U_.xe(e),nl(t).m_(e)}function z_(t){t.U_=new JV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.B_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),nl(t).start(),t.K_.F_()}function W_(t){return Co(t)&&!nl(t).i_()&&t.B_.size>0}function Co(t){return pe(t).k_.size===0}function vR(t){t.U_=void 0}async function t4(t){t.K_.set("Online")}async function n4(t){t.B_.forEach((e,n)=>{B_(t,e)})}async function r4(t,e){vR(t),W_(t)?(t.K_.O_(e),z_(t)):t.K_.set("Unknown")}async function i4(t,e,n){if(t.K_.set("Online"),e instanceof rR&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.B_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.B_.delete(a),i.U_.removeTarget(a))}(t,e)}catch(r){X("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Hh(t,r)}else if(e instanceof Qd?t.U_.$e(e):e instanceof nR?t.U_.Je(e):t.U_.Ge(e),!n.isEqual(he.min()))try{const r=await fR(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.U_.it(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.B_.get(c);d&&s.B_.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=s.B_.get(l);if(!d)return;s.B_.set(l,d.withResumeToken(Zt.EMPTY_BYTE_STRING,d.snapshotVersion)),yR(s,l);const h=new es(d.target,l,c,d.sequenceNumber);B_(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){X("RemoteStore","Failed to raise snapshot:",r),await Hh(t,r)}}async function Hh(t,e,n){if(!tl(e))throw e;t.k_.add(1),await vc(t),t.K_.set("Offline"),n||(n=()=>fR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{X("RemoteStore","Retrying IndexedDB access"),await n(),t.k_.delete(1),await op(t)})}function _R(t,e){return e().catch(n=>Hh(t,n,e))}async function ap(t){const e=pe(t),n=Ss(e);let r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;s4(e);)try{const i=await BF(e.localStore,r);if(i===null){e.L_.length===0&&n.a_();break}r=i.batchId,o4(e,i)}catch(i){await Hh(e,i)}wR(e)&&ER(e)}function s4(t){return Co(t)&&t.L_.length<10}function o4(t,e){t.L_.push(e);const n=Ss(t);n.s_()&&n.f_&&n.g_(e.mutations)}function wR(t){return Co(t)&&!Ss(t).i_()&&t.L_.length>0}function ER(t){Ss(t).start()}async function a4(t){Ss(t).w_()}async function l4(t){const e=Ss(t);for(const n of t.L_)e.g_(n.mutations)}async function u4(t,e,n){const r=t.L_.shift(),i=M_.from(r,e,n);await _R(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await ap(t)}async function c4(t,e){e&&Ss(t).f_&&await async function(r,i){if(function(o){return QV(o)&&o!==B.ABORTED}(i.code)){const s=r.L_.shift();Ss(r).__(),await _R(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await ap(r)}}(t,e),wR(t)&&ER(t)}async function gC(t,e){const n=pe(t);n.asyncQueue.verifyOperationInProgress(),X("RemoteStore","RemoteStore received new credentials");const r=Co(n);n.k_.add(3),await vc(n),r&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await op(n)}async function d4(t,e){const n=pe(t);e?(n.k_.delete(2),await op(n)):e||(n.k_.add(2),await vc(n),n.K_.set("Unknown"))}function nl(t){return t.W_||(t.W_=function(n,r,i){const s=pe(n);return s.b_(),new YF(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Ro:t4.bind(null,t),mo:n4.bind(null,t),po:r4.bind(null,t),R_:i4.bind(null,t)}),t.q_.push(async e=>{e?(t.W_.__(),W_(t)?z_(t):t.K_.set("Unknown")):(await t.W_.stop(),vR(t))})),t.W_}function Ss(t){return t.G_||(t.G_=function(n,r,i){const s=pe(n);return s.b_(),new XF(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Ro:()=>Promise.resolve(),mo:a4.bind(null,t),po:c4.bind(null,t),p_:l4.bind(null,t),y_:u4.bind(null,t)}),t.q_.push(async e=>{e?(t.G_.__(),await ap(t)):(await t.G_.stop(),t.L_.length>0&&(X("RemoteStore",`Stopping write stream with ${t.L_.length} pending writes`),t.L_=[]))})),t.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new H_(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Z(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function q_(t,e){if(wi("AsyncQueue",`${e}: ${t}`),tl(t))return new Z(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{static emptySet(e){return new pa(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||se.comparator(n.key,r.key):(n,r)=>se.comparator(n.key,r.key),this.keyedMap=Gl(),this.sortedSet=new At(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof pa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new pa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(){this.z_=new At(se.comparator)}track(e){const n=e.doc.key,r=this.z_.get(n);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(n,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(n):e.type===1&&r.type===2?this.z_=this.z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):ue():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Va{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Va(e,n,pa.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ep(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class f4{constructor(){this.queries=vC(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,r){const i=pe(n),s=i.queries;i.queries=vC(),s.forEach((o,a)=>{for(const l of a.J_)l.onError(r)})})(this,new Z(B.ABORTED,"Firestore shutting down"))}}function vC(){return new So(t=>Bx(t),ep)}async function K_(t,e){const n=pe(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Y_()&&e.Z_()&&(r=2):(s=new h4,r=e.Z_()?0:1);try{switch(r){case 0:s.H_=await n.onListen(i,!0);break;case 1:s.H_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=q_(o,`Initialization of query '${zo(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.J_.push(e),e.ea(n.onlineState),s.H_&&e.ta(s.H_)&&Q_(n)}async function G_(t,e){const n=pe(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.J_.indexOf(e);o>=0&&(s.J_.splice(o,1),s.J_.length===0?i=e.Z_()?0:1:!s.Y_()&&e.Z_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function p4(t,e){const n=pe(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.J_)a.ta(i)&&(r=!0);o.H_=i}}r&&Q_(n)}function m4(t,e,n){const r=pe(t),i=r.queries.get(e);if(i)for(const s of i.J_)s.onError(n);r.queries.delete(e)}function Q_(t){t.X_.forEach(e=>{e.next()})}var Uy,_C;(_C=Uy||(Uy={})).na="default",_C.Cache="cache";class Y_{constructor(e,n,r){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Va(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const r=n!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=Va.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Uy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e){this.key=e}}class CR{constructor(e){this.key=e}}class g4{constructor(e,n){this.query=e,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ce(),this.mutatedKeys=Ce(),this.Va=zx(e),this.ma=new pa(this.Va)}get fa(){return this.da}ga(e,n){const r=n?n.pa:new yC,i=n?n.ma:this.ma;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const f=i.get(d),g=tp(this.query,h)?h:null,v=!!f&&this.mutatedKeys.has(f.key),T=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let x=!1;f&&g?f.data.isEqual(g.data)?v!==T&&(r.track({type:3,doc:g}),x=!0):this.ya(f,g)||(r.track({type:2,doc:g}),x=!0,(l&&this.Va(g,l)>0||c&&this.Va(g,c)<0)&&(a=!0)):!f&&g?(r.track({type:0,doc:g}),x=!0):f&&!g&&(r.track({type:1,doc:f}),x=!0,(l||c)&&(a=!0)),x&&(g?(o=o.add(g),s=T?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{ma:o,pa:r,ss:a,mutatedKeys:s}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const o=e.pa.j_();o.sort((d,h)=>function(g,v){const T=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ue()}};return T(g)-T(v)}(d.type,h.type)||this.Va(d.doc,h.doc)),this.wa(r),i=i!=null&&i;const a=n&&!i?this.Sa():[],l=this.Ra.size===0&&this.current&&!i?1:0,c=l!==this.Aa;return this.Aa=l,o.length!==0||c?{snapshot:new Va(this.query,e.ma,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:a}:{ba:a}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new yC,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.da=this.da.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Ce(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const n=[];return e.forEach(r=>{this.Ra.has(r)||n.push(new CR(r))}),this.Ra.forEach(r=>{e.has(r)||n.push(new SR(r))}),n}va(e){this.da=e.ds,this.Ra=Ce();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return Va.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class y4{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class v4{constructor(e){this.key=e,this.Fa=!1}}class _4{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ma={},this.xa=new So(a=>Bx(a),ep),this.Oa=new Map,this.Na=new Set,this.La=new At(se.comparator),this.Ba=new Map,this.ka=new F_,this.qa={},this.Qa=new Map,this.Ka=La.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function w4(t,e,n=!0){const r=kR(t);let i;const s=r.xa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Ca()):i=await TR(r,e,n,!0),i}async function E4(t,e){const n=kR(t);await TR(n,e,!0,!1)}async function TR(t,e,n,r){const i=await zF(t.localStore,Br(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await S4(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&gR(t.remoteStore,i),a}async function S4(t,e,n,r,i){t.Ua=(h,f,g)=>async function(T,x,_,w){let E=x.view.ga(_);E.ss&&(E=await fC(T.localStore,x.query,!1).then(({documents:R})=>x.view.ga(R,E)));const P=w&&w.targetChanges.get(x.targetId),D=w&&w.targetMismatches.get(x.targetId)!=null,M=x.view.applyChanges(E,T.isPrimaryClient,P,D);return EC(T,x.targetId,M.ba),M.snapshot}(t,h,f,g);const s=await fC(t.localStore,e,!0),o=new g4(e,s.ds),a=o.ga(s.documents),l=yc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);EC(t,n,c.ba);const d=new y4(e,n,o);return t.xa.set(e,d),t.Oa.has(n)?t.Oa.get(n).push(e):t.Oa.set(n,[e]),c.snapshot}async function C4(t,e,n){const r=pe(t),i=r.xa.get(e),s=r.Oa.get(i.targetId);if(s.length>1)return r.Oa.set(i.targetId,s.filter(o=>!ep(o,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await jy(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&U_(r.remoteStore,i.targetId),By(r,i.targetId)}).catch(el)):(By(r,i.targetId),await jy(r.localStore,i.targetId,!0))}async function T4(t,e){const n=pe(t),r=n.xa.get(e),i=n.Oa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),U_(n.remoteStore,r.targetId))}async function I4(t,e,n){const r=N4(t);try{const i=await function(o,a){const l=pe(o),c=Vt.now(),d=a.reduce((g,v)=>g.add(v.key),Ce());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let v=Ei(),T=Ce();return l.hs.getEntries(g,d).next(x=>{v=x,v.forEach((_,w)=>{w.isValidDocument()||(T=T.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,v)).next(x=>{h=x;const _=[];for(const w of a){const E=WV(w,h.get(w.key).overlayedDocument);E!=null&&_.push(new Ns(w.key,E,Dx(E.value.mapValue),zr.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,_,a)}).next(x=>{f=x;const _=x.applyToLocalDocumentSet(h,T);return l.documentOverlayCache.saveOverlays(g,x.batchId,_)})}).then(()=>({batchId:f.batchId,changes:Hx(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.qa[o.currentUser.toKey()];c||(c=new At(be)),c=c.insert(a,l),o.qa[o.currentUser.toKey()]=c}(r,i.batchId,n),await _c(r,i.changes),await ap(r.remoteStore)}catch(i){const s=q_(i,"Failed to persist write");n.reject(s)}}async function IR(t,e){const n=pe(t);try{const r=await jF(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Ba.get(s);o&&(je(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Fa=!0:i.modifiedDocuments.size>0?je(o.Fa):i.removedDocuments.size>0&&(je(o.Fa),o.Fa=!1))}),await _c(n,r,e)}catch(r){await el(r)}}function wC(t,e,n){const r=pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.xa.forEach((s,o)=>{const a=o.view.ea(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=pe(o);l.onlineState=a;let c=!1;l.queries.forEach((d,h)=>{for(const f of h.J_)f.ea(a)&&(c=!0)}),c&&Q_(l)}(r.eventManager,e),i.length&&r.Ma.R_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function b4(t,e,n){const r=pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ba.get(e),s=i&&i.key;if(s){let o=new At(se.comparator);o=o.insert(s,cn.newNoDocument(s,he.min()));const a=Ce().add(s),l=new ip(he.min(),new Map,new At(be),o,a);await IR(r,l),r.La=r.La.remove(s),r.Ba.delete(e),X_(r)}else await jy(r.localStore,e,!1).then(()=>By(r,e,n)).catch(el)}async function x4(t,e){const n=pe(t),r=e.batch.batchId;try{const i=await $F(n.localStore,e);xR(n,r,null),bR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await _c(n,i)}catch(i){await el(i)}}async function R4(t,e,n){const r=pe(t);try{const i=await function(o,a){const l=pe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(je(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);xR(r,e,n),bR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await _c(r,i)}catch(i){await el(i)}}function bR(t,e){(t.Qa.get(e)||[]).forEach(n=>{n.resolve()}),t.Qa.delete(e)}function xR(t,e,n){const r=pe(t);let i=r.qa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.qa[r.currentUser.toKey()]=i}}function By(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Oa.get(e))t.xa.delete(r),n&&t.Ma.Wa(r,n);t.Oa.delete(e),t.isPrimaryClient&&t.ka.yr(e).forEach(r=>{t.ka.containsKey(r)||RR(t,r)})}function RR(t,e){t.Na.delete(e.path.canonicalString());const n=t.La.get(e);n!==null&&(U_(t.remoteStore,n),t.La=t.La.remove(e),t.Ba.delete(n),X_(t))}function EC(t,e,n){for(const r of n)r instanceof SR?(t.ka.addReference(r.key,e),k4(t,r)):r instanceof CR?(X("SyncEngine","Document no longer in limbo: "+r.key),t.ka.removeReference(r.key,e),t.ka.containsKey(r.key)||RR(t,r.key)):ue()}function k4(t,e){const n=e.key,r=n.path.canonicalString();t.La.get(n)||t.Na.has(r)||(X("SyncEngine","New document in limbo: "+n),t.Na.add(r),X_(t))}function X_(t){for(;t.Na.size>0&&t.La.size<t.maxConcurrentLimboResolutions;){const e=t.Na.values().next().value;t.Na.delete(e);const n=new se(it.fromString(e)),r=t.Ka.next();t.Ba.set(r,new v4(n)),t.La=t.La.insert(n,r),gR(t.remoteStore,new es(Br(Zf(n.path)),r,"TargetPurposeLimboResolution",Yf.oe))}}async function _c(t,e,n){const r=pe(t),i=[],s=[],o=[];r.xa.isEmpty()||(r.xa.forEach((a,l)=>{o.push(r.Ua(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){i.push(c);const h=j_.zi(l.targetId,c);s.push(h)}}))}),await Promise.all(o),r.Ma.R_(i),await async function(l,c){const d=pe(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>U.forEach(c,f=>U.forEach(f.Wi,g=>d.persistence.referenceDelegate.addReference(h,f.targetId,g)).next(()=>U.forEach(f.Gi,g=>d.persistence.referenceDelegate.removeReference(h,f.targetId,g)))))}catch(h){if(!tl(h))throw h;X("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const f=h.targetId;if(!h.fromCache){const g=d.us.get(f),v=g.snapshotVersion,T=g.withLastLimboFreeSnapshotVersion(v);d.us=d.us.insert(f,T)}}}(r.localStore,s))}async function P4(t,e){const n=pe(t);if(!n.currentUser.isEqual(e)){X("SyncEngine","User change. New user:",e.toKey());const r=await hR(n.localStore,e);n.currentUser=e,function(s,o){s.Qa.forEach(a=>{a.forEach(l=>{l.reject(new Z(B.CANCELLED,o))})}),s.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await _c(n,r.Ts)}}function A4(t,e){const n=pe(t),r=n.Ba.get(e);if(r&&r.Fa)return Ce().add(r.key);{let i=Ce();const s=n.Oa.get(e);if(!s)return i;for(const o of s){const a=n.xa.get(o);i=i.unionWith(a.view.fa)}return i}}function kR(t){const e=pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=IR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=A4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=b4.bind(null,e),e.Ma.R_=p4.bind(null,e.eventManager),e.Ma.Wa=m4.bind(null,e.eventManager),e}function N4(t){const e=pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=x4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=R4.bind(null,e),e}class qh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sp(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return FF(this.persistence,new LF,e.initialUser,this.serializer)}ja(e){return new dR($_.ei,this.serializer)}za(e){return new HF}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qh.provider={build:()=>new qh};class O4 extends qh{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){je(this.persistence.referenceDelegate instanceof Wh);const r=this.persistence.referenceDelegate.garbageCollector;return new EF(r,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?xn.withCacheSize(this.cacheSizeBytes):xn.DEFAULT;return new dR(r=>Wh.ei(r,n),this.serializer)}}class zy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>wC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=P4.bind(null,this.syncEngine),await d4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new f4}()}createDatastore(e){const n=sp(e.databaseInfo.databaseId),r=function(s){return new QF(s)}(e.databaseInfo);return function(s,o,a,l){return new JF(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new e4(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>wC(this.syncEngine,n,0),function(){return mC.p()?new mC:new qF}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,d){const h=new _4(i,s,o,a,l,c);return d&&(h.$a=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=pe(i);X("RemoteStore","RemoteStore shutting down."),s.k_.add(5),await vc(s),s.Q_.shutdown(),s.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}zy.provider={build:()=>new zy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):wi("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ln.UNAUTHENTICATED,this.clientId=Ax.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{X("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(X("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=q_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function og(t,e){t.asyncQueue.verifyOperationInProgress(),X("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await hR(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function SC(t,e){t.asyncQueue.verifyOperationInProgress();const n=await M4(t);X("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>gC(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>gC(e.remoteStore,i)),t._onlineComponents=e}async function M4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){X("FirestoreClient","Using user provided OfflineComponentProvider");try{await og(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===B.FAILED_PRECONDITION||i.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Na("Error using user provided cache. Falling back to memory cache: "+n),await og(t,new qh)}}else X("FirestoreClient","Using default OfflineComponentProvider"),await og(t,new O4(void 0));return t._offlineComponents}async function PR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(X("FirestoreClient","Using user provided OnlineComponentProvider"),await SC(t,t._uninitializedComponentsProvider._online)):(X("FirestoreClient","Using default OnlineComponentProvider"),await SC(t,new zy))),t._onlineComponents}function L4(t){return PR(t).then(e=>e.syncEngine)}async function Kh(t){const e=await PR(t),n=e.eventManager;return n.onListen=w4.bind(null,e.syncEngine),n.onUnlisten=C4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=E4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=T4.bind(null,e.syncEngine),n}function V4(t,e,n={}){const r=new fi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new J_({next:f=>{d.eu(),o.enqueueAndForget(()=>G_(s,h));const g=f.docs.has(a);!g&&f.fromCache?c.reject(new Z(B.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&f.fromCache&&l&&l.source==="server"?c.reject(new Z(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new Y_(Zf(a.path),d,{includeMetadataChanges:!0,ua:!0});return K_(s,h)}(await Kh(t),t.asyncQueue,e,n,r)),r.promise}function F4(t,e,n={}){const r=new fi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new J_({next:f=>{d.eu(),o.enqueueAndForget(()=>G_(s,h)),f.fromCache&&l.source==="server"?c.reject(new Z(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new Y_(a,d,{includeMetadataChanges:!0,ua:!0});return K_(s,h)}(await Kh(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR(t,e,n){if(!n)throw new Z(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function $4(t,e,n,r){if(e===!0&&r===!0)throw new Z(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function TC(t){if(!se.isDocumentKey(t))throw new Z(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function IC(t){if(se.isDocumentKey(t))throw new Z(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function lp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ue()}function br(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Z(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=lp(t);throw new Z(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Z(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Z(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Z(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Z(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Z(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class up{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bC({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Z(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Z(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bC(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new XL;switch(r.type){case"firstParty":return new tV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Z(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=CC.get(n);r&&(X("ComponentProvider","Removing Datastore"),CC.delete(n),r.terminate())}(this),Promise.resolve()}}function j4(t,e,n,r={}){var i;const s=(t=br(t,up))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Na("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=ln.MOCK_USER;else{a=px(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Z(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new ln(c)}t._authCredentials=new JL(new Px(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new To(this.firestore,e,this._query)}}class Sn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Sn(this.firestore,e,this._key)}}class hs extends To{constructor(e,n,r){super(e,n,Zf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Sn(this.firestore,null,new se(e))}withConverter(e){return new hs(this.firestore,e,this._path)}}function wn(t,e,...n){if(t=Pt(t),NR("collection","path",e),t instanceof up){const r=it.fromString(e,...n);return IC(r),new hs(t,null,r)}{if(!(t instanceof Sn||t instanceof hs))throw new Z(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(it.fromString(e,...n));return IC(r),new hs(t.firestore,null,r)}}function to(t,e,...n){if(t=Pt(t),arguments.length===1&&(e=Ax.newId()),NR("doc","path",e),t instanceof up){const r=it.fromString(e,...n);return TC(r),new Sn(t,null,new se(r))}{if(!(t instanceof Sn||t instanceof hs))throw new Z(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(it.fromString(e,...n));return TC(r),new Sn(t.firestore,t instanceof hs?t.converter:null,new se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new pR(this,"async_queue_retry"),this.fu=()=>{const r=sg();r&&X("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const n=sg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=sg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new fi;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!tl(e))throw e;X("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw wi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ru=!1,r))));return this.gu=n,n}enqueueAfterDelay(e,n,r){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const i=H_.createAndSchedule(this,e,n,r,s=>this.Su(s));return this.du.push(i),i}pu(){this.Au&&ue()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}function RC(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class co extends up{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new xC,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new xC(e),this._firestoreClient=void 0,await e}}}function U4(t,e){const n=typeof t=="object"?t:R_(),r=typeof t=="string"?t:"(default)",i=Qf(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=dx("firestore");s&&j4(i,...s)}return i}function cp(t){if(t._terminated)throw new Z(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||B4(t),t._firestoreClient}function B4(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,d){return new gV(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,AR(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new D4(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fa(Zt.fromBase64String(e))}catch(n){throw new Z(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Fa(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Z(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Z(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Z(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return be(this._lat,e._lat)||be(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z4=/^__.*__$/;class W4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ns(e,this.data,this.fieldMask,n,this.fieldTransforms):new gc(e,this.data,n,this.fieldTransforms)}}class OR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ns(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function DR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ue()}}class n0{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Fu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new n0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Lu(e),i}Bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Fu(),i}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Gh(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(DR(this.Mu)&&z4.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class H4{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||sp(e)}$u(e,n,r,i=!1){return new n0({Mu:e,methodName:n,Ku:r,path:Yt.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function r0(t){const e=t._freezeSettings(),n=sp(t._databaseId);return new H4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function q4(t,e,n,r,i,s={}){const o=t.$u(s.merge||s.mergeFields?2:0,e,n,i);i0("Data must be an object, but it was:",o,r);const a=MR(r,o);let l,c;if(s.merge)l=new Hn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const f=Wy(e,h,n);if(!o.contains(f))throw new Z(B.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);VR(d,f)||d.push(f)}l=new Hn(d),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new W4(new Pn(a),l,c)}class hp extends Z_{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof hp}}function K4(t,e,n,r){const i=t.$u(1,e,n);i0("Data must be an object, but it was:",i,r);const s=[],o=Pn.empty();As(r,(l,c)=>{const d=s0(e,l,n);c=Pt(c);const h=i.Bu(d);if(c instanceof hp)s.push(d);else{const f=wc(c,h);f!=null&&(s.push(d),o.set(d,f))}});const a=new Hn(s);return new OR(o,a,i.fieldTransforms)}function G4(t,e,n,r,i,s){const o=t.$u(1,e,n),a=[Wy(e,r,n)],l=[i];if(s.length%2!=0)throw new Z(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(Wy(e,s[f])),l.push(s[f+1]);const c=[],d=Pn.empty();for(let f=a.length-1;f>=0;--f)if(!VR(c,a[f])){const g=a[f];let v=l[f];v=Pt(v);const T=o.Bu(g);if(v instanceof hp)c.push(g);else{const x=wc(v,T);x!=null&&(c.push(g),d.set(g,x))}}const h=new Hn(c);return new OR(d,h,o.fieldTransforms)}function Q4(t,e,n,r=!1){return wc(n,t.$u(r?4:3,e))}function wc(t,e){if(LR(t=Pt(t)))return i0("Unsupported field value:",e,t),MR(t,e);if(t instanceof Z_)return function(r,i){if(!DR(i.Mu))throw i.qu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=wc(a,i.ku(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Pt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return FV(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Vt.fromDate(r);return{timestampValue:zh(i.serializer,s)}}if(r instanceof Vt){const s=new Vt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:zh(i.serializer,s)}}if(r instanceof e0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Fa)return{bytesValue:iR(i.serializer,r._byteString)};if(r instanceof Sn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.qu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:V_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof t0)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.qu("VectorValues must only contain numeric values.");return D_(a.serializer,l)})}}}}}}(r,i);throw i.qu(`Unsupported field value: ${lp(r)}`)}(t,e)}function MR(t,e){const n={};return Nx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):As(t,(r,i)=>{const s=wc(i,e.Ou(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function LR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Vt||t instanceof e0||t instanceof Fa||t instanceof Sn||t instanceof Z_||t instanceof t0)}function i0(t,e,n){if(!LR(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=lp(n);throw r==="an object"?e.qu(t+" a custom object"):e.qu(t+" "+r)}}function Wy(t,e,n){if((e=Pt(e))instanceof dp)return e._internalPath;if(typeof e=="string")return s0(t,e);throw Gh("Field path arguments must be of type string or ",t,!1,void 0,n)}const Y4=new RegExp("[~\\*/\\[\\]]");function s0(t,e,n){if(e.search(Y4)>=0)throw Gh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new dp(...e.split("."))._internalPath}catch{throw Gh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Gh(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Z(B.INVALID_ARGUMENT,a+t+l)}function VR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new X4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(o0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class X4 extends FR{data(){return super.data()}}function o0(t,e){return typeof e=="string"?s0(t,e):e instanceof dp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Z(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class a0{}class J4 extends a0{}function Bn(t,e,...n){let r=[];e instanceof a0&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof l0).length,a=s.filter(l=>l instanceof fp).length;if(o>1||o>0&&a>0)throw new Z(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class fp extends J4{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new fp(e,n,r)}_apply(e){const n=this._parse(e);return jR(e._query,n),new To(e.firestore,e.converter,Dy(e._query,n))}_parse(e){const n=r0(e.firestore);return function(s,o,a,l,c,d,h){let f;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Z(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){PC(h,d);const g=[];for(const v of h)g.push(kC(l,s,v));f={arrayValue:{values:g}}}else f=kC(l,s,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||PC(h,d),f=Q4(a,o,h,d==="in"||d==="not-in");return kt.create(c,d,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function kn(t,e,n){const r=e,i=o0("where",t);return fp._create(i,r,n)}class l0 extends a0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new l0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:kr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)jR(o,l),o=Dy(o,l)}(e._query,n),new To(e.firestore,e.converter,Dy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function kC(t,e,n){if(typeof(n=Pt(n))=="string"){if(n==="")throw new Z(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ux(e)&&n.indexOf("/")!==-1)throw new Z(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(it.fromString(n));if(!se.isDocumentKey(r))throw new Z(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return QS(t,new se(r))}if(n instanceof Sn)return QS(t,n._key);throw new Z(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lp(n)}.`)}function PC(t,e){if(!Array.isArray(t)||t.length===0)throw new Z(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function jR(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Z(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Z(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Z4{convertValue(e,n="none"){switch(Es(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ws(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ue()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return As(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Et(o.doubleValue));return new t0(s)}convertGeoPoint(e){return new e0(Et(e.latitude),Et(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Jf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Wu(e));default:return null}}convertTimestamp(e){const n=_s(e);return new Vt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=it.fromString(e);je(cR(r));const i=new Hu(r.get(1),r.get(3)),s=new se(r.popFirst(5));return i.isEqual(n)||wi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e$(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class UR extends FR{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Yd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(o0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Yd extends UR{data(e={}){return super.data(e)}}class BR{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Yl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Yd(this._firestore,this._userDataWriter,r.key,r,new Yl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Z(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Yd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Yl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Yd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Yl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:t$(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function t$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ue()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(t){t=br(t,Sn);const e=br(t.firestore,co);return V4(cp(e),t._key).then(n=>qR(e,t,n))}class u0 extends Z4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Sn(this.firestore,null,n)}}function Si(t){t=br(t,To);const e=br(t.firestore,co),n=cp(e),r=new u0(e);return $R(t._query),F4(n,t._query).then(i=>new BR(e,r,t,i))}function ma(t,e,n,...r){t=br(t,Sn);const i=br(t.firestore,co),s=r0(i);let o;return o=typeof(e=Pt(e))=="string"||e instanceof dp?G4(s,"updateDoc",t._key,e,n,r):K4(s,"updateDoc",t._key,e),HR(i,[o.toMutation(t._key,zr.exists(!0))])}function zR(t,e){const n=br(t.firestore,co),r=to(t),i=e$(t.converter,e);return HR(n,[q4(r0(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,zr.exists(!1))]).then(()=>r)}function WR(t,...e){var n,r,i;t=Pt(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||RC(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(RC(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,c,d;if(t instanceof Sn)c=br(t.firestore,co),d=Zf(t._key.path),l={next:h=>{e[o]&&e[o](qR(c,t,h))},error:e[o+1],complete:e[o+2]};else{const h=br(t,To);c=br(h.firestore,co),d=h._query;const f=new u0(c);l={next:g=>{e[o]&&e[o](new BR(c,f,h,g))},error:e[o+1],complete:e[o+2]},$R(t._query)}return function(f,g,v,T){const x=new J_(T),_=new Y_(g,x,v);return f.asyncQueue.enqueueAndForget(async()=>K_(await Kh(f),_)),()=>{x.eu(),f.asyncQueue.enqueueAndForget(async()=>G_(await Kh(f),_))}}(cp(c),d,a,l)}function HR(t,e){return function(r,i){const s=new fi;return r.asyncQueue.enqueueAndForget(async()=>I4(await L4(r),i,s)),s.promise}(cp(t),e)}function qR(t,e,n){const r=n.docs.get(e._key),i=new u0(t);return new UR(t,i,e._key,r,new Yl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Za=i})(Eo),lo(new ys("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new co(new ZL(r.getProvider("auth-internal")),new rV(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Z(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hu(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ur(zS,"4.7.5",e),Ur(zS,"4.7.5","esm2017")})();var NC={};const OC="@firebase/database",DC="1.0.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let KR="";function n$(t){KR=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r${constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),zt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Uu(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i${constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Ni(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new r$(e)}}catch{}return new i$},Ys=GR("localStorage"),s$=GR("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga=new Gf("@firebase/database"),o$=function(){let t=1;return function(){return t++}}(),QR=function(t){const e=UM(t),n=new VM;n.update(e);const r=n.digest();return T_.encodeByteArray(r)},Ec=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Ec.apply(null,r):typeof r=="object"?e+=zt(r):e+=r,e+=" "}return e};let fu=null,MC=!0;const a$=function(t,e){K(!e,"Can't turn on custom loggers persistently."),ga.logLevel=ve.VERBOSE,fu=ga.log.bind(ga)},dn=function(...t){if(MC===!0&&(MC=!1,fu===null&&s$.get("logging_enabled")===!0&&a$()),fu){const e=Ec.apply(null,t);fu(e)}},Sc=function(t){return function(...e){dn(t,...e)}},Hy=function(...t){const e="FIREBASE INTERNAL ERROR: "+Ec(...t);ga.error(e)},Ci=function(...t){const e=`FIREBASE FATAL ERROR: ${Ec(...t)}`;throw ga.error(e),new Error(e)},Kn=function(...t){const e="FIREBASE WARNING: "+Ec(...t);ga.warn(e)},l$=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Kn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},YR=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},u$=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},$a="[MIN_NAME]",ho="[MAX_NAME]",rl=function(t,e){if(t===e)return 0;if(t===$a||e===ho)return-1;if(e===$a||t===ho)return 1;{const n=LC(t),r=LC(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},c$=function(t,e){return t===e?0:t<e?-1:1},Nl=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+zt(e))},c0=function(t){if(typeof t!="object"||t===null)return zt(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=zt(e[r]),n+=":",n+=c0(t[e[r]]);return n+="}",n},XR=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Fn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const JR=function(t){K(!YR(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const d=c.join("");let h="";for(l=0;l<64;l+=8){let f=parseInt(d.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),h=h+f}return h.toLowerCase()},d$=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},h$=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function f$(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const p$=new RegExp("^-?(0*)\\d{1,10}$"),m$=-2147483648,g$=2147483647,LC=function(t){if(p$.test(t)){const e=Number(t);if(e>=m$&&e<=g$)return e}return null},Cc=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Kn("Exception was thrown by user callback.",n),e},Math.floor(0))}},y$=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},pu=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v${constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Kn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _${constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(dn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Kn(e)}}class Xd{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Xd.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0="5",ZR="v",ek="s",tk="r",nk="f",rk=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ik="ls",sk="p",qy="ac",ok="websocket",ak="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ys.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ys.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function w$(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function uk(t,e,n){K(typeof e=="string","typeof type must == string"),K(typeof n=="object","typeof params must == object");let r;if(e===ok)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===ak)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);w$(t)&&(n.ns=t.namespace);const i=[];return Fn(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E${constructor(){this.counters_={}}incrementCounter(e,n=1){Ni(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return _M(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag={},lg={};function h0(t){const e=t.toString();return ag[e]||(ag[e]=new E$),ag[e]}function S$(t,e){const n=t.toString();return lg[n]||(lg[n]=e()),lg[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C${constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Cc(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC="start",T$="close",I$="pLPCommand",b$="pRTLPCB",ck="id",dk="pw",hk="ser",x$="cb",R$="seg",k$="ts",P$="d",A$="dframe",fk=1870,pk=30,N$=fk-pk,O$=25e3,D$=3e4;class sa{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Sc(e),this.stats_=h0(n),this.urlFn=l=>(this.appCheckToken&&(l[qy]=this.appCheckToken),uk(n,ak,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new C$(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(D$)),u$(()=>{if(this.isClosed_)return;this.scriptTagHolder=new f0((...s)=>{const[o,a,l,c,d]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===VC)this.id=a,this.password=l;else if(o===T$)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[VC]="t",r[hk]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[x$]=this.scriptTagHolder.uniqueCallbackIdentifier),r[ZR]=d0,this.transportSessionId&&(r[ek]=this.transportSessionId),this.lastSessionId&&(r[ik]=this.lastSessionId),this.applicationId&&(r[sk]=this.applicationId),this.appCheckToken&&(r[qy]=this.appCheckToken),typeof location<"u"&&location.hostname&&rk.test(location.hostname)&&(r[tk]=nk);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){sa.forceAllow_=!0}static forceDisallow(){sa.forceDisallow_=!0}static isAvailable(){return sa.forceAllow_?!0:!sa.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!d$()&&!h$()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=zt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=lx(n),i=XR(r,N$);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[A$]="t",r[ck]=e,r[dk]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=zt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class f0{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=o$(),window[I$+this.uniqueCallbackIdentifier]=e,window[b$+this.uniqueCallbackIdentifier]=n,this.myIFrame=f0.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){dn("frame writing exception"),a.stack&&dn(a.stack),dn(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||dn("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[ck]=this.myID,e[dk]=this.myPW,e[hk]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+pk+r.length<=fk;){const o=this.pendingSegs.shift();r=r+"&"+R$+i+"="+o.seg+"&"+k$+i+"="+o.ts+"&"+P$+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(O$)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{dn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M$=16384,L$=45e3;let Qh=null;typeof MozWebSocket<"u"?Qh=MozWebSocket:typeof WebSocket<"u"&&(Qh=WebSocket);class _r{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Sc(this.connId),this.stats_=h0(n),this.connURL=_r.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[ZR]=d0,typeof location<"u"&&location.hostname&&rk.test(location.hostname)&&(o[tk]=nk),n&&(o[ek]=n),r&&(o[ik]=r),i&&(o[qy]=i),s&&(o[sk]=s),uk(e,ok,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ys.set("previous_websocket_failure",!0);try{let r;gx(),this.mySock=new Qh(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){_r.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Qh!==null&&!_r.forceDisallow_}static previouslyFailed(){return Ys.isInMemoryStorage||Ys.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ys.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Uu(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(K(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=zt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=XR(n,M$);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(L$))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}_r.responsesRequiredToBeHealthy=2;_r.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{static get ALL_TRANSPORTS(){return[sa,_r]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=_r&&_r.isAvailable();let r=n&&!_r.previouslyFailed();if(e.webSocketOnly&&(n||Kn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[_r];else{const i=this.transports_=[];for(const s of Qu.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Qu.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Qu.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V$=6e4,F$=5e3,$$=10*1024,j$=100*1024,ug="t",FC="d",U$="s",$C="r",B$="e",jC="o",UC="a",BC="n",zC="p",z$="h";class W${constructor(e,n,r,i,s,o,a,l,c,d){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Sc("c:"+this.id+":"),this.transportManager_=new Qu(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=pu(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>j$?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>$$?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(ug in e){const n=e[ug];n===UC?this.upgradeIfSecondaryHealthy_():n===$C?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===jC&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Nl("t",e),r=Nl("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:zC,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:UC,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:BC,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Nl("t",e),r=Nl("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Nl(ug,e);if(FC in e){const r=e[FC];if(n===z$){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===BC){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===U$?this.onConnectionShutdown_(r):n===$C?this.onReset_(r):n===B$?Hy("Server Error: "+r):n===jC?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Hy("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),d0!==r&&Kn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),pu(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(V$))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):pu(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(F$))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:zC,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ys.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e){this.allowedEvents_=e,this.listeners_={},K(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){K(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh extends gk{static getInstance(){return new Yh}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!b_()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return K(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC=32,HC=768;class Qe{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ve(){return new Qe("")}function _e(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Cs(t){return t.pieces_.length-t.pieceNum_}function Je(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Qe(t.pieces_,e)}function yk(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function H$(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function vk(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function _k(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Qe(e,0)}function Mt(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Qe)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Qe(n,0)}function we(t){return t.pieceNum_>=t.pieces_.length}function Nn(t,e){const n=_e(t),r=_e(e);if(n===null)return e;if(n===r)return Nn(Je(t),Je(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function p0(t,e){if(Cs(t)!==Cs(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Sr(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Cs(t)>Cs(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class q${constructor(e,n){this.errorPrefix_=n,this.parts_=vk(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Kf(this.parts_[r]);wk(this)}}function K$(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Kf(e),wk(t)}function G$(t){const e=t.parts_.pop();t.byteLength_-=Kf(e),t.parts_.length>0&&(t.byteLength_-=1)}function wk(t){if(t.byteLength_>HC)throw new Error(t.errorPrefix_+"has a key path longer than "+HC+" bytes ("+t.byteLength_+").");if(t.parts_.length>WC)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+WC+") or object contains a cycle "+Bs(t))}function Bs(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0 extends gk{static getInstance(){return new m0}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return K(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ol=1e3,Q$=60*5*1e3,qC=30*1e3,Y$=1.3,X$=3e4,J$="server_kill",KC=3;class pi extends mk{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=pi.nextPersistentConnectionId_++,this.log_=Sc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ol,this.maxReconnectDelay_=Q$,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!gx())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");m0.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Yh.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(zt(s)),K(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new I_,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),K(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),K(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,c=a.s;pi.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Ni(e,"w")){const r=Aa(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Kn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||LM(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=qC)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=MM(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),K(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+zt(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Hy("Unrecognized action received from server: "+zt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){K(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ol,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ol,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>X$&&(this.reconnectDelay_=Ol),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Y$)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+pi.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(h){K(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(h)};this.realtime_={close:l,sendRequest:c};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,f]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);o?dn("getToken() completed but was canceled"):(dn("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,a=new W$(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,g=>{Kn(g+" ("+this.repoInfo_.toString()+")"),this.interrupt(J$)},s))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&Kn(h),l())}}}interrupt(e){dn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){dn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Sy(this.interruptReasons_)&&(this.reconnectDelay_=Ol,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>c0(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new Qe(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){dn("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=KC&&(this.reconnectDelay_=qC,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){dn("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=KC&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+KR.replace(/\./g,"-")]=1,b_()?e["framework.cordova"]=1:mx()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Yh.getInstance().currentlyOnline();return Sy(this.interruptReasons_)&&e}}pi.nextPersistentConnectionId_=0;pi.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ye(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new ye($a,e),i=new ye($a,n);return this.compare(r,i)!==0}minPost(){return ye.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wd;class Ek extends pp{static get __EMPTY_NODE(){return wd}static set __EMPTY_NODE(e){wd=e}compare(e,n){return rl(e.name,n.name)}isDefinedOn(e){throw Xa("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ye.MIN}maxPost(){return new ye(ho,wd)}makePost(e,n){return K(typeof e=="string","KeyIndex indexValue must always be a string."),new ye(e,wd)}toString(){return".key"}}const ya=new Ek;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Bt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Bt.RED,this.left=i??On.EMPTY_NODE,this.right=s??On.EMPTY_NODE}copy(e,n,r,i,s){return new Bt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return On.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return On.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Bt.RED=!0;Bt.BLACK=!1;class Z${copy(e,n,r,i,s){return this}insert(e,n,r){return new Bt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class On{constructor(e,n=On.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new On(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Bt.BLACK,null,null))}remove(e){return new On(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Bt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Ed(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Ed(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Ed(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Ed(this.root_,null,this.comparator_,!0,e)}}On.EMPTY_NODE=new Z$;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ej(t,e){return rl(t.name,e.name)}function g0(t,e){return rl(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ky;function tj(t){Ky=t}const Sk=function(t){return typeof t=="number"?"number:"+JR(t):"string:"+t},Ck=function(t){if(t.isLeafNode()){const e=t.val();K(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Ni(e,".sv"),"Priority must be a string or number.")}else K(t===Ky||t.isEmpty(),"priority of unexpected type.");K(t===Ky||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let GC;class $t{static set __childrenNodeConstructor(e){GC=e}static get __childrenNodeConstructor(){return GC}constructor(e,n=$t.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,K(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Ck(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new $t(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:$t.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return we(e)?this:_e(e)===".priority"?this.priorityNode_:$t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:$t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=_e(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(K(r!==".priority"||Cs(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,$t.__childrenNodeConstructor.EMPTY_NODE.updateChild(Je(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Sk(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=JR(this.value_):e+=this.value_,this.lazyHash_=QR(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===$t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof $t.__childrenNodeConstructor?-1:(K(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=$t.VALUE_TYPE_ORDER.indexOf(n),s=$t.VALUE_TYPE_ORDER.indexOf(r);return K(i>=0,"Unknown leaf type: "+n),K(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}$t.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tk,Ik;function nj(t){Tk=t}function rj(t){Ik=t}class ij extends pp{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?rl(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ye.MIN}maxPost(){return new ye(ho,new $t("[PRIORITY-POST]",Ik))}makePost(e,n){const r=Tk(e);return new ye(n,new $t("[PRIORITY-POST]",r))}toString(){return".priority"}}const vt=new ij;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sj=Math.log(2);class oj{constructor(e){const n=s=>parseInt(Math.log(s)/sj,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Xh=function(t,e,n,r){t.sort(e);const i=function(l,c){const d=c-l;let h,f;if(d===0)return null;if(d===1)return h=t[l],f=n?n(h):h,new Bt(f,h.node,Bt.BLACK,null,null);{const g=parseInt(d/2,10)+l,v=i(l,g),T=i(g+1,c);return h=t[g],f=n?n(h):h,new Bt(f,h.node,Bt.BLACK,v,T)}},s=function(l){let c=null,d=null,h=t.length;const f=function(v,T){const x=h-v,_=h;h-=v;const w=i(x+1,_),E=t[x],P=n?n(E):E;g(new Bt(P,E.node,T,null,w))},g=function(v){c?(c.left=v,c=v):(d=v,c=v)};for(let v=0;v<l.count;++v){const T=l.nextBitIsOne(),x=Math.pow(2,l.count-(v+1));T?f(x,Bt.BLACK):(f(x,Bt.BLACK),f(x,Bt.RED))}return d},o=new oj(t.length),a=s(o);return new On(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cg;const Do={};class oi{static get Default(){return K(Do&&vt,"ChildrenNode.ts has not been loaded"),cg=cg||new oi({".priority":Do},{".priority":vt}),cg}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Aa(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof On?n:null}hasIndex(e){return Ni(this.indexSet_,e.toString())}addIndex(e,n){K(e!==ya,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(ye.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=Xh(r,e.getCompare()):a=Do;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const d=Object.assign({},this.indexes_);return d[l]=a,new oi(d,c)}addToIndexes(e,n){const r=Mh(this.indexes_,(i,s)=>{const o=Aa(this.indexSet_,s);if(K(o,"Missing index implementation for "+s),i===Do)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(ye.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Xh(a,o.getCompare())}else return Do;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new ye(e.name,a))),l.insert(e,e.node)}});return new oi(r,this.indexSet_)}removeFromIndexes(e,n){const r=Mh(this.indexes_,i=>{if(i===Do)return i;{const s=n.get(e.name);return s?i.remove(new ye(e.name,s)):i}});return new oi(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dl;class ae{static get EMPTY_NODE(){return Dl||(Dl=new ae(new On(g0),null,oi.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Ck(this.priorityNode_),this.children_.isEmpty()&&K(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Dl}updatePriority(e){return this.children_.isEmpty()?this:new ae(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Dl:n}}getChild(e){const n=_e(e);return n===null?this:this.getImmediateChild(n).getChild(Je(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(K(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new ye(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Dl:this.priorityNode_;return new ae(i,o,s)}}updateChild(e,n){const r=_e(e);if(r===null)return n;{K(_e(e)!==".priority"||Cs(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(Je(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(vt,(o,a)=>{n[o]=a.val(e),r++,s&&ae.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Sk(this.getPriority().val())+":"),this.forEachChild(vt,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":QR(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new ye(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ye(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ye(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,ye.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,ye.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Tc?-1:0}withIndex(e){if(e===ya||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new ae(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===ya||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(vt),i=n.getIterator(vt);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===ya?null:this.indexMap_.get(e.toString())}}ae.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class aj extends ae{constructor(){super(new On(g0),ae.EMPTY_NODE,oi.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ae.EMPTY_NODE}isEmpty(){return!1}}const Tc=new aj;Object.defineProperties(ye,{MIN:{value:new ye($a,ae.EMPTY_NODE)},MAX:{value:new ye(ho,Tc)}});Ek.__EMPTY_NODE=ae.EMPTY_NODE;$t.__childrenNodeConstructor=ae;tj(Tc);rj(Tc);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lj=!0;function hn(t,e=null){if(t===null)return ae.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),K(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new $t(n,hn(e))}if(!(t instanceof Array)&&lj){const n=[];let r=!1;if(Fn(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=hn(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new ye(o,l)))}}),n.length===0)return ae.EMPTY_NODE;const s=Xh(n,ej,o=>o.name,g0);if(r){const o=Xh(n,vt.getCompare());return new ae(s,hn(e),new oi({".priority":o},{".priority":vt}))}else return new ae(s,hn(e),oi.Default)}else{let n=ae.EMPTY_NODE;return Fn(t,(r,i)=>{if(Ni(t,r)&&r.substring(0,1)!=="."){const s=hn(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(hn(e))}}nj(hn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj extends pp{constructor(e){super(),this.indexPath_=e,K(!we(e)&&_e(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?rl(e.name,n.name):s}makePost(e,n){const r=hn(e),i=ae.EMPTY_NODE.updateChild(this.indexPath_,r);return new ye(n,i)}maxPost(){const e=ae.EMPTY_NODE.updateChild(this.indexPath_,Tc);return new ye(ho,e)}toString(){return vk(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj extends pp{compare(e,n){const r=e.node.compareTo(n.node);return r===0?rl(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ye.MIN}maxPost(){return ye.MAX}makePost(e,n){const r=hn(e);return new ye(n,r)}toString(){return".value"}}const dj=new cj;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bk(t){return{type:"value",snapshotNode:t}}function ja(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Yu(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Xu(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function hj(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){K(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(Yu(n,a)):K(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(ja(n,r)):o.trackChildChange(Xu(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(vt,(i,s)=>{n.hasChild(i)||r.trackChildChange(Yu(i,s))}),n.isLeafNode()||n.forEachChild(vt,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(Xu(i,s,o))}else r.trackChildChange(ja(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?ae.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e){this.indexedFilter_=new y0(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Ju.getStartPost_(e),this.endPost_=Ju.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new ye(n,r))||(r=ae.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=ae.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(ae.EMPTY_NODE);const s=this;return n.forEachChild(vt,(o,a)=>{s.matches(new ye(o,a))||(i=i.updateImmediateChild(o,ae.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Ju(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new ye(n,r))||(r=ae.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=ae.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=ae.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(ae.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,ae.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const h=this.index_.getCompare();o=(f,g)=>h(g,f)}else o=this.index_.getCompare();const a=e;K(a.numChildren()===this.limit_,"");const l=new ye(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),d=this.rangedFilter_.matches(l);if(a.hasChild(n)){const h=a.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const g=f==null?1:o(f,l);if(d&&!r.isEmpty()&&g>=0)return s!=null&&s.trackChildChange(Xu(n,r,h)),a.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(Yu(n,h));const T=a.updateImmediateChild(n,ae.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(s!=null&&s.trackChildChange(ja(f.name,f.node)),T.updateImmediateChild(f.name,f.node)):T}}else return r.isEmpty()?e:d&&o(c,l)>=0?(s!=null&&(s.trackChildChange(Yu(c.name,c.node)),s.trackChildChange(ja(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,ae.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=vt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return K(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return K(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:$a}hasEnd(){return this.endSet_}getIndexEndValue(){return K(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return K(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ho}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return K(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===vt}copy(){const e=new v0;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function pj(t){return t.loadsAllData()?new y0(t.getIndex()):t.hasLimit()?new fj(t):new Ju(t)}function QC(t){const e={};if(t.isDefault())return e;let n;if(t.index_===vt?n="$priority":t.index_===dj?n="$value":t.index_===ya?n="$key":(K(t.index_ instanceof uj,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=zt(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=zt(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+zt(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=zt(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+zt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function YC(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==vt&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh extends mk{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(K(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Sc("p:rest:"),this.listens_={}}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Jh.getListenId_(e,r),a={};this.listens_[o]=a;const l=QC(e._queryParams);this.restRequest_(s+".json",l,(c,d)=>{let h=d;if(c===404&&(h=null,c=null),c===null&&this.onDataUpdate_(s,h,!1,r),Aa(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",i(f,null)}})}unlisten(e,n){const r=Jh.getListenId_(e,n);delete this.listens_[r]}get(e){const n=QC(e._queryParams),r=e._path.toString(),i=new I_;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Ja(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Uu(a.responseText)}catch{Kn("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Kn("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj{constructor(){this.rootNode_=ae.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(){return{value:null,children:new Map}}function xk(t,e,n){if(we(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=_e(e);t.children.has(r)||t.children.set(r,Zh());const i=t.children.get(r);e=Je(e),xk(i,e,n)}}function Gy(t,e,n){t.value!==null?n(e,t.value):gj(t,(r,i)=>{const s=new Qe(e.toString()+"/"+r);Gy(i,s,n)})}function gj(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Fn(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=10*1e3,vj=30*1e3,_j=5*60*1e3;class wj{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new yj(e);const r=XC+(vj-XC)*Math.random();pu(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Fn(e,(i,s)=>{s>0&&Ni(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),pu(this.reportStats_.bind(this),Math.floor(Math.random()*2*_j))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cr;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Cr||(Cr={}));function Rk(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function _0(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function w0(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Cr.ACK_USER_WRITE,this.source=Rk()}operationForChild(e){if(we(this.path)){if(this.affectedTree.value!=null)return K(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Qe(e));return new ef(Ve(),n,this.revert)}}else return K(_e(this.path)===e,"operationForChild called for unrelated child."),new ef(Je(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,n){this.source=e,this.path=n,this.type=Cr.LISTEN_COMPLETE}operationForChild(e){return we(this.path)?new Zu(this.source,Ve()):new Zu(this.source,Je(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Cr.OVERWRITE}operationForChild(e){return we(this.path)?new fo(this.source,Ve(),this.snap.getImmediateChild(e)):new fo(this.source,Je(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Cr.MERGE}operationForChild(e){if(we(this.path)){const n=this.children.subtree(new Qe(e));return n.isEmpty()?null:n.value?new fo(this.source,Ve(),n.value):new ec(this.source,Ve(),n)}else return K(_e(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ec(this.source,Je(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(we(e))return this.isFullyInitialized()&&!this.filtered_;const n=_e(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Sj(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(hj(o.childName,o.snapshotNode))}),Ml(t,i,"child_removed",e,r,n),Ml(t,i,"child_added",e,r,n),Ml(t,i,"child_moved",s,r,n),Ml(t,i,"child_changed",e,r,n),Ml(t,i,"value",e,r,n),i}function Ml(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>Tj(t,a,l)),o.forEach(a=>{const l=Cj(t,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function Cj(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Tj(t,e,n){if(e.childName==null||n.childName==null)throw Xa("Should only compare child_ events.");const r=new ye(e.childName,e.snapshotNode),i=new ye(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(t,e){return{eventCache:t,serverCache:e}}function mu(t,e,n,r){return mp(new po(e,n,r),t.serverCache)}function kk(t,e,n,r){return mp(t.eventCache,new po(e,n,r))}function Qy(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function mo(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dg;const Ij=()=>(dg||(dg=new On(c$)),dg);class rt{static fromObject(e){let n=new rt(null);return Fn(e,(r,i)=>{n=n.set(new Qe(r),i)}),n}constructor(e,n=Ij()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Ve(),value:this.value};if(we(e))return null;{const r=_e(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(Je(e),n);return s!=null?{path:Mt(new Qe(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(we(e))return this;{const n=_e(e),r=this.children.get(n);return r!==null?r.subtree(Je(e)):new rt(null)}}set(e,n){if(we(e))return new rt(n,this.children);{const r=_e(e),s=(this.children.get(r)||new rt(null)).set(Je(e),n),o=this.children.insert(r,s);return new rt(this.value,o)}}remove(e){if(we(e))return this.children.isEmpty()?new rt(null):new rt(null,this.children);{const n=_e(e),r=this.children.get(n);if(r){const i=r.remove(Je(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new rt(null):new rt(this.value,s)}else return this}}get(e){if(we(e))return this.value;{const n=_e(e),r=this.children.get(n);return r?r.get(Je(e)):null}}setTree(e,n){if(we(e))return n;{const r=_e(e),s=(this.children.get(r)||new rt(null)).setTree(Je(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new rt(this.value,o)}}fold(e){return this.fold_(Ve(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Mt(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Ve(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(we(e))return null;{const s=_e(e),o=this.children.get(s);return o?o.findOnPath_(Je(e),Mt(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ve(),n)}foreachOnPath_(e,n,r){if(we(e))return this;{this.value&&r(n,this.value);const i=_e(e),s=this.children.get(i);return s?s.foreachOnPath_(Je(e),Mt(n,i),r):new rt(null)}}foreach(e){this.foreach_(Ve(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Mt(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e){this.writeTree_=e}static empty(){return new xr(new rt(null))}}function gu(t,e,n){if(we(e))return new xr(new rt(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=Nn(i,e);return s=s.updateChild(o,n),new xr(t.writeTree_.set(i,s))}else{const i=new rt(n),s=t.writeTree_.setTree(e,i);return new xr(s)}}}function JC(t,e,n){let r=t;return Fn(n,(i,s)=>{r=gu(r,Mt(e,i),s)}),r}function ZC(t,e){if(we(e))return xr.empty();{const n=t.writeTree_.setTree(e,new rt(null));return new xr(n)}}function Yy(t,e){return Io(t,e)!=null}function Io(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Nn(n.path,e)):null}function eT(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(vt,(r,i)=>{e.push(new ye(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new ye(r,i.value))}),e}function fs(t,e){if(we(e))return t;{const n=Io(t,e);return n!=null?new xr(new rt(n)):new xr(t.writeTree_.subtree(e))}}function Xy(t){return t.writeTree_.isEmpty()}function Ua(t,e){return Pk(Ve(),t.writeTree_,e)}function Pk(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(K(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=Pk(Mt(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Mt(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(t,e){return Dk(e,t)}function bj(t,e,n,r,i){K(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=gu(t.visibleWrites,e,n)),t.lastWriteId=r}function xj(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function Rj(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);K(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&kj(a,r.path)?i=!1:Sr(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return Pj(t),!0;if(r.snap)t.visibleWrites=ZC(t.visibleWrites,r.path);else{const a=r.children;Fn(a,l=>{t.visibleWrites=ZC(t.visibleWrites,Mt(r.path,l))})}return!0}else return!1}function kj(t,e){if(t.snap)return Sr(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Sr(Mt(t.path,n),e))return!0;return!1}function Pj(t){t.visibleWrites=Ak(t.allWrites,Aj,Ve()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Aj(t){return t.visible}function Ak(t,e,n){let r=xr.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)Sr(n,o)?(a=Nn(n,o),r=gu(r,a,s.snap)):Sr(o,n)&&(a=Nn(o,n),r=gu(r,Ve(),s.snap.getChild(a)));else if(s.children){if(Sr(n,o))a=Nn(n,o),r=JC(r,a,s.children);else if(Sr(o,n))if(a=Nn(o,n),we(a))r=JC(r,Ve(),s.children);else{const l=Aa(s.children,_e(a));if(l){const c=l.getChild(Je(a));r=gu(r,Ve(),c)}}}else throw Xa("WriteRecord should have .snap or .children")}}return r}function Nk(t,e,n,r,i){if(!r&&!i){const s=Io(t.visibleWrites,e);if(s!=null)return s;{const o=fs(t.visibleWrites,e);if(Xy(o))return n;if(n==null&&!Yy(o,Ve()))return null;{const a=n||ae.EMPTY_NODE;return Ua(o,a)}}}else{const s=fs(t.visibleWrites,e);if(!i&&Xy(s))return n;if(!i&&n==null&&!Yy(s,Ve()))return null;{const o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(Sr(c.path,e)||Sr(e,c.path))},a=Ak(t.allWrites,o,e),l=n||ae.EMPTY_NODE;return Ua(a,l)}}}function Nj(t,e,n){let r=ae.EMPTY_NODE;const i=Io(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(vt,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=fs(t.visibleWrites,e);return n.forEachChild(vt,(o,a)=>{const l=Ua(fs(s,new Qe(o)),a);r=r.updateImmediateChild(o,l)}),eT(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=fs(t.visibleWrites,e);return eT(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function Oj(t,e,n,r,i){K(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Mt(e,n);if(Yy(t.visibleWrites,s))return null;{const o=fs(t.visibleWrites,s);return Xy(o)?i.getChild(n):Ua(o,i.getChild(n))}}function Dj(t,e,n,r){const i=Mt(e,n),s=Io(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=fs(t.visibleWrites,i);return Ua(o,r.getNode().getImmediateChild(n))}else return null}function Mj(t,e){return Io(t.visibleWrites,e)}function Lj(t,e,n,r,i,s,o){let a;const l=fs(t.visibleWrites,e),c=Io(l,Ve());if(c!=null)a=c;else if(n!=null)a=Ua(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const d=[],h=o.getCompare(),f=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let g=f.getNext();for(;g&&d.length<i;)h(g,r)!==0&&d.push(g),g=f.getNext();return d}else return[]}function Vj(){return{visibleWrites:xr.empty(),allWrites:[],lastWriteId:-1}}function tf(t,e,n,r){return Nk(t.writeTree,t.treePath,e,n,r)}function S0(t,e){return Nj(t.writeTree,t.treePath,e)}function tT(t,e,n,r){return Oj(t.writeTree,t.treePath,e,n,r)}function nf(t,e){return Mj(t.writeTree,Mt(t.treePath,e))}function Fj(t,e,n,r,i,s){return Lj(t.writeTree,t.treePath,e,n,r,i,s)}function C0(t,e,n){return Dj(t.writeTree,t.treePath,e,n)}function Ok(t,e){return Dk(Mt(t.treePath,e),t.writeTree)}function Dk(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $j{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;K(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),K(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Xu(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Yu(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,ja(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Xu(r,e.snapshotNode,i.oldSnap));else throw Xa("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const Mk=new jj;class T0{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new po(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return C0(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:mo(this.viewCache_),s=Fj(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uj(t){return{filter:t}}function Bj(t,e){K(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),K(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function zj(t,e,n,r,i){const s=new $j;let o,a;if(n.type===Cr.OVERWRITE){const c=n;c.source.fromUser?o=Jy(t,e,c.path,c.snap,r,i,s):(K(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!we(c.path),o=rf(t,e,c.path,c.snap,r,i,a,s))}else if(n.type===Cr.MERGE){const c=n;c.source.fromUser?o=Hj(t,e,c.path,c.children,r,i,s):(K(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=Zy(t,e,c.path,c.children,r,i,a,s))}else if(n.type===Cr.ACK_USER_WRITE){const c=n;c.revert?o=Gj(t,e,c.path,r,i,s):o=qj(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===Cr.LISTEN_COMPLETE)o=Kj(t,e,n.path,r,s);else throw Xa("Unknown operation type: "+n.type);const l=s.getChanges();return Wj(e,o,l),{viewCache:o,changes:l}}function Wj(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Qy(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(bk(Qy(e)))}}function Lk(t,e,n,r,i,s){const o=e.eventCache;if(nf(r,n)!=null)return e;{let a,l;if(we(n))if(K(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=mo(e),d=c instanceof ae?c:ae.EMPTY_NODE,h=S0(r,d);a=t.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{const c=tf(r,mo(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=_e(n);if(c===".priority"){K(Cs(n)===1,"Can't have a priority with additional path components");const d=o.getNode();l=e.serverCache.getNode();const h=tT(r,n,d,l);h!=null?a=t.filter.updatePriority(d,h):a=o.getNode()}else{const d=Je(n);let h;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const f=tT(r,n,o.getNode(),l);f!=null?h=o.getNode().getImmediateChild(c).updateChild(d,f):h=o.getNode().getImmediateChild(c)}else h=C0(r,c,e.serverCache);h!=null?a=t.filter.updateChild(o.getNode(),c,h,d,i,s):a=o.getNode()}}return mu(e,a,o.isFullyInitialized()||we(n),t.filter.filtersNodes())}}function rf(t,e,n,r,i,s,o,a){const l=e.serverCache;let c;const d=o?t.filter:t.filter.getIndexedFilter();if(we(n))c=d.updateFullNode(l.getNode(),r,null);else if(d.filtersNodes()&&!l.isFiltered()){const g=l.getNode().updateChild(n,r);c=d.updateFullNode(l.getNode(),g,null)}else{const g=_e(n);if(!l.isCompleteForPath(n)&&Cs(n)>1)return e;const v=Je(n),x=l.getNode().getImmediateChild(g).updateChild(v,r);g===".priority"?c=d.updatePriority(l.getNode(),x):c=d.updateChild(l.getNode(),g,x,v,Mk,null)}const h=kk(e,c,l.isFullyInitialized()||we(n),d.filtersNodes()),f=new T0(i,h,s);return Lk(t,h,n,i,f,a)}function Jy(t,e,n,r,i,s,o){const a=e.eventCache;let l,c;const d=new T0(i,e,s);if(we(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=mu(e,c,!0,t.filter.filtersNodes());else{const h=_e(n);if(h===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=mu(e,c,a.isFullyInitialized(),a.isFiltered());else{const f=Je(n),g=a.getNode().getImmediateChild(h);let v;if(we(f))v=r;else{const T=d.getCompleteChild(h);T!=null?yk(f)===".priority"&&T.getChild(_k(f)).isEmpty()?v=T:v=T.updateChild(f,r):v=ae.EMPTY_NODE}if(g.equals(v))l=e;else{const T=t.filter.updateChild(a.getNode(),h,v,f,d,o);l=mu(e,T,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function nT(t,e){return t.eventCache.isCompleteForChild(e)}function Hj(t,e,n,r,i,s,o){let a=e;return r.foreach((l,c)=>{const d=Mt(n,l);nT(e,_e(d))&&(a=Jy(t,a,d,c,i,s,o))}),r.foreach((l,c)=>{const d=Mt(n,l);nT(e,_e(d))||(a=Jy(t,a,d,c,i,s,o))}),a}function rT(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Zy(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;we(n)?c=r:c=new rt(null).setTree(n,r);const d=e.serverCache.getNode();return c.children.inorderTraversal((h,f)=>{if(d.hasChild(h)){const g=e.serverCache.getNode().getImmediateChild(h),v=rT(t,g,f);l=rf(t,l,new Qe(h),v,i,s,o,a)}}),c.children.inorderTraversal((h,f)=>{const g=!e.serverCache.isCompleteForChild(h)&&f.value===null;if(!d.hasChild(h)&&!g){const v=e.serverCache.getNode().getImmediateChild(h),T=rT(t,v,f);l=rf(t,l,new Qe(h),T,i,s,o,a)}}),l}function qj(t,e,n,r,i,s,o){if(nf(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(we(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return rf(t,e,n,l.getNode().getChild(n),i,s,a,o);if(we(n)){let c=new rt(null);return l.getNode().forEachChild(ya,(d,h)=>{c=c.set(new Qe(d),h)}),Zy(t,e,n,c,i,s,a,o)}else return e}else{let c=new rt(null);return r.foreach((d,h)=>{const f=Mt(n,d);l.isCompleteForPath(f)&&(c=c.set(d,l.getNode().getChild(f)))}),Zy(t,e,n,c,i,s,a,o)}}function Kj(t,e,n,r,i){const s=e.serverCache,o=kk(e,s.getNode(),s.isFullyInitialized()||we(n),s.isFiltered());return Lk(t,o,n,r,Mk,i)}function Gj(t,e,n,r,i,s){let o;if(nf(r,n)!=null)return e;{const a=new T0(r,e,i),l=e.eventCache.getNode();let c;if(we(n)||_e(n)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=tf(r,mo(e));else{const h=e.serverCache.getNode();K(h instanceof ae,"serverChildren would be complete if leaf node"),d=S0(r,h)}d=d,c=t.filter.updateFullNode(l,d,s)}else{const d=_e(n);let h=C0(r,d,e.serverCache);h==null&&e.serverCache.isCompleteForChild(d)&&(h=l.getImmediateChild(d)),h!=null?c=t.filter.updateChild(l,d,h,Je(n),a,s):e.eventCache.getNode().hasChild(d)?c=t.filter.updateChild(l,d,ae.EMPTY_NODE,Je(n),a,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=tf(r,mo(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||nf(r,Ve())!=null,mu(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new y0(r.getIndex()),s=pj(r);this.processor_=Uj(s);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(ae.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(ae.EMPTY_NODE,a.getNode(),null),d=new po(l,o.isFullyInitialized(),i.filtersNodes()),h=new po(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=mp(h,d),this.eventGenerator_=new Ej(this.query_)}get query(){return this.query_}}function Yj(t){return t.viewCache_.serverCache.getNode()}function Xj(t,e){const n=mo(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!we(e)&&!n.getImmediateChild(_e(e)).isEmpty())?n.getChild(e):null}function iT(t){return t.eventRegistrations_.length===0}function Jj(t,e){t.eventRegistrations_.push(e)}function sT(t,e,n){const r=[];if(n){K(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function oT(t,e,n,r){e.type===Cr.MERGE&&e.source.queryId!==null&&(K(mo(t.viewCache_),"We should always have a full cache before handling merges"),K(Qy(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=zj(t.processor_,i,e,n,r);return Bj(t.processor_,s.viewCache),K(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,Vk(t,s.changes,s.viewCache.eventCache.getNode(),null)}function Zj(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(vt,(s,o)=>{r.push(ja(s,o))}),n.isFullyInitialized()&&r.push(bk(n.getNode())),Vk(t,r,n.getNode(),e)}function Vk(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return Sj(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sf;class eU{constructor(){this.views=new Map}}function tU(t){K(!sf,"__referenceConstructor has already been defined"),sf=t}function nU(){return K(sf,"Reference.ts has not been loaded"),sf}function rU(t){return t.views.size===0}function I0(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return K(s!=null,"SyncTree gave us an op for an invalid query."),oT(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(oT(o,e,n,r));return s}}function iU(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=tf(n,i?r:null),l=!1;a?l=!0:r instanceof ae?(a=S0(n,r),l=!1):(a=ae.EMPTY_NODE,l=!1);const c=mp(new po(a,l,!1),new po(r,i,!1));return new Qj(e,c)}return o}function sU(t,e,n,r,i,s){const o=iU(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),Jj(o,n),Zj(o,n)}function oU(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const a=Ts(t);if(i==="default")for(const[l,c]of t.views.entries())o=o.concat(sT(c,n,r)),iT(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const l=t.views.get(i);l&&(o=o.concat(sT(l,n,r)),iT(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!Ts(t)&&s.push(new(nU())(e._repo,e._path)),{removed:s,events:o}}function Fk(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function va(t,e){let n=null;for(const r of t.views.values())n=n||Xj(r,e);return n}function $k(t,e){if(e._queryParams.loadsAllData())return gp(t);{const r=e._queryIdentifier;return t.views.get(r)}}function jk(t,e){return $k(t,e)!=null}function Ts(t){return gp(t)!=null}function gp(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let of;function aU(t){K(!of,"__referenceConstructor has already been defined"),of=t}function lU(){return K(of,"Reference.ts has not been loaded"),of}let uU=1;class aT{constructor(e){this.listenProvider_=e,this.syncPointTree_=new rt(null),this.pendingWriteTree_=Vj(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function cU(t,e,n,r,i){return bj(t.pendingWriteTree_,e,n,r,i),i?Ic(t,new fo(Rk(),e,n)):[]}function oa(t,e,n=!1){const r=xj(t.pendingWriteTree_,e);if(Rj(t.pendingWriteTree_,e)){let s=new rt(null);return r.snap!=null?s=s.set(Ve(),!0):Fn(r.children,o=>{s=s.set(new Qe(o),!0)}),Ic(t,new ef(r.path,s,n))}else return[]}function yp(t,e,n){return Ic(t,new fo(_0(),e,n))}function dU(t,e,n){const r=rt.fromObject(n);return Ic(t,new ec(_0(),e,r))}function hU(t,e){return Ic(t,new Zu(_0(),e))}function fU(t,e,n){const r=b0(t,n);if(r){const i=x0(r),s=i.path,o=i.queryId,a=Nn(s,e),l=new Zu(w0(o),a);return R0(t,s,l)}else return[]}function ev(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||jk(o,e))){const l=oU(o,e,n,r);rU(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const c=l.removed;if(a=l.events,!i){const d=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,h=t.syncPointTree_.findOnPath(s,(f,g)=>Ts(g));if(d&&!h){const f=t.syncPointTree_.subtree(s);if(!f.isEmpty()){const g=gU(f);for(let v=0;v<g.length;++v){const T=g[v],x=T.query,_=Wk(t,T);t.listenProvider_.startListening(yu(x),af(t,x),_.hashFn,_.onComplete)}}}!h&&c.length>0&&!r&&(d?t.listenProvider_.stopListening(yu(e),null):c.forEach(f=>{const g=t.queryToTagMap.get(vp(f));t.listenProvider_.stopListening(yu(f),g)}))}yU(t,c)}return a}function pU(t,e,n,r){const i=b0(t,r);if(i!=null){const s=x0(i),o=s.path,a=s.queryId,l=Nn(o,e),c=new fo(w0(a),l,n);return R0(t,o,c)}else return[]}function mU(t,e,n,r){const i=b0(t,r);if(i){const s=x0(i),o=s.path,a=s.queryId,l=Nn(o,e),c=rt.fromObject(n),d=new ec(w0(a),l,c);return R0(t,o,d)}else return[]}function lT(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(f,g)=>{const v=Nn(f,i);s=s||va(g,v),o=o||Ts(g)});let a=t.syncPointTree_.get(i);a?(o=o||Ts(a),s=s||va(a,Ve())):(a=new eU,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=ae.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((g,v)=>{const T=va(v,Ve());T&&(s=s.updateImmediateChild(g,T))}));const c=jk(a,e);if(!c&&!e._queryParams.loadsAllData()){const f=vp(e);K(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const g=vU();t.queryToTagMap.set(f,g),t.tagToQueryMap.set(g,f)}const d=E0(t.pendingWriteTree_,i);let h=sU(a,e,n,d,s,l);if(!c&&!o&&!r){const f=$k(a,e);h=h.concat(_U(t,e,f))}return h}function Uk(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Nn(o,e),c=va(a,l);if(c)return c});return Nk(i,e,s,n,!0)}function Ic(t,e){return Bk(e,t.syncPointTree_,null,E0(t.pendingWriteTree_,Ve()))}function Bk(t,e,n,r){if(we(t.path))return zk(t,e,n,r);{const i=e.get(Ve());n==null&&i!=null&&(n=va(i,Ve()));let s=[];const o=_e(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,d=Ok(r,o);s=s.concat(Bk(a,l,c,d))}return i&&(s=s.concat(I0(i,t,r,n))),s}}function zk(t,e,n,r){const i=e.get(Ve());n==null&&i!=null&&(n=va(i,Ve()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=Ok(r,o),d=t.operationForChild(o);d&&(s=s.concat(zk(d,a,l,c)))}),i&&(s=s.concat(I0(i,t,r,n))),s}function Wk(t,e){const n=e.query,r=af(t,n);return{hashFn:()=>(Yj(e)||ae.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?fU(t,n._path,r):hU(t,n._path);{const s=f$(i,n);return ev(t,n,null,s)}}}}function af(t,e){const n=vp(e);return t.queryToTagMap.get(n)}function vp(t){return t._path.toString()+"$"+t._queryIdentifier}function b0(t,e){return t.tagToQueryMap.get(e)}function x0(t){const e=t.indexOf("$");return K(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Qe(t.substr(0,e))}}function R0(t,e,n){const r=t.syncPointTree_.get(e);K(r,"Missing sync point for query tag that we're tracking");const i=E0(t.pendingWriteTree_,e);return I0(r,n,i,null)}function gU(t){return t.fold((e,n,r)=>{if(n&&Ts(n))return[gp(n)];{let i=[];return n&&(i=Fk(n)),Fn(r,(s,o)=>{i=i.concat(o)}),i}})}function yu(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(lU())(t._repo,t._path):t}function yU(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=vp(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function vU(){return uU++}function _U(t,e,n){const r=e._path,i=af(t,e),s=Wk(t,n),o=t.listenProvider_.startListening(yu(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)K(!Ts(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,d,h)=>{if(!we(c)&&d&&Ts(d))return[gp(d).query];{let f=[];return d&&(f=f.concat(Fk(d).map(g=>g.query))),Fn(h,(g,v)=>{f=f.concat(v)}),f}});for(let c=0;c<l.length;++c){const d=l[c];t.listenProvider_.stopListening(yu(d),af(t,d))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new k0(n)}node(){return this.node_}}class P0{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Mt(this.path_,e);return new P0(this.syncTree_,n)}node(){return Uk(this.syncTree_,this.path_)}}const wU=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},uT=function(t,e,n){if(!t||typeof t!="object")return t;if(K(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return EU(t[".sv"],e,n);if(typeof t[".sv"]=="object")return SU(t[".sv"],e);K(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},EU=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:K(!1,"Unexpected server value: "+t)}},SU=function(t,e,n){t.hasOwnProperty("increment")||K(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&K(!1,"Unexpected increment value: "+r);const i=e.node();if(K(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},CU=function(t,e,n,r){return A0(e,new P0(n,t),r)},TU=function(t,e,n){return A0(t,new k0(e),n)};function A0(t,e,n){const r=t.getPriority().val(),i=uT(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=uT(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new $t(a,hn(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new $t(i))),o.forEachChild(vt,(a,l)=>{const c=A0(l,e.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function O0(t,e){let n=e instanceof Qe?e:new Qe(e),r=t,i=_e(n);for(;i!==null;){const s=Aa(r.node.children,i)||{children:{},childCount:0};r=new N0(i,r,s),n=Je(n),i=_e(n)}return r}function il(t){return t.node.value}function Hk(t,e){t.node.value=e,tv(t)}function qk(t){return t.node.childCount>0}function IU(t){return il(t)===void 0&&!qk(t)}function _p(t,e){Fn(t.node.children,(n,r)=>{e(new N0(n,t,r))})}function Kk(t,e,n,r){n&&!r&&e(t),_p(t,i=>{Kk(i,e,!0,r)}),n&&r&&e(t)}function bU(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function bc(t){return new Qe(t.parent===null?t.name:bc(t.parent)+"/"+t.name)}function tv(t){t.parent!==null&&xU(t.parent,t.name,t)}function xU(t,e,n){const r=IU(n),i=Ni(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,tv(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,tv(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RU=/[\[\].#$\/\u0000-\u001F\u007F]/,kU=/[\[\].#$\u0000-\u001F\u007F]/,hg=10*1024*1024,Gk=function(t){return typeof t=="string"&&t.length!==0&&!RU.test(t)},Qk=function(t){return typeof t=="string"&&t.length!==0&&!kU.test(t)},PU=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Qk(t)},Yk=function(t,e,n){const r=n instanceof Qe?new q$(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Bs(r));if(typeof e=="function")throw new Error(t+"contains a function "+Bs(r)+" with contents = "+e.toString());if(YR(e))throw new Error(t+"contains "+e.toString()+" "+Bs(r));if(typeof e=="string"&&e.length>hg/3&&Kf(e)>hg)throw new Error(t+"contains a string greater than "+hg+" utf8 bytes "+Bs(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Fn(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!Gk(o)))throw new Error(t+" contains an invalid key ("+o+") "+Bs(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);K$(r,o),Yk(t,a,r),G$(r)}),i&&s)throw new Error(t+' contains ".value" child '+Bs(r)+" in addition to actual children.")}},Xk=function(t,e,n,r){if(!Qk(n))throw new Error(vx(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},AU=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Xk(t,e,n)},NU=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Gk(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!PU(n))throw new Error(vx(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OU{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Jk(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!p0(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function Zk(t,e,n){Jk(t,n),eP(t,r=>p0(r,e))}function bo(t,e,n){Jk(t,n),eP(t,r=>Sr(r,e)||Sr(e,r))}function eP(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(DU(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function DU(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();fu&&dn("event: "+n.toString()),Cc(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MU="repo_interrupt",LU=25;class VU{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new OU,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Zh(),this.transactionQueueTree_=new N0,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function FU(t,e,n){if(t.stats_=h0(t.repoInfo_),t.forceRestClient_||y$())t.server_=new Jh(t.repoInfo_,(r,i,s,o)=>{cT(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>dT(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{zt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new pi(t.repoInfo_,e,(r,i,s,o)=>{cT(t,r,i,s,o)},r=>{dT(t,r)},r=>{jU(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=S$(t.repoInfo_,()=>new wj(t.stats_,t.server_)),t.infoData_=new mj,t.infoSyncTree_=new aT({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=yp(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),D0(t,"connected",!1),t.serverSyncTree_=new aT({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const c=o(a,l);bo(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function $U(t){const n=t.infoData_.getNode(new Qe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function tP(t){return wU({timestamp:$U(t)})}function cT(t,e,n,r,i){t.dataUpdateCount++;const s=new Qe(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=Mh(n,c=>hn(c));o=mU(t.serverSyncTree_,s,l,i)}else{const l=hn(n);o=pU(t.serverSyncTree_,s,l,i)}else if(r){const l=Mh(n,c=>hn(c));o=dU(t.serverSyncTree_,s,l)}else{const l=hn(n);o=yp(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=L0(t,s)),bo(t.eventQueue_,a,o)}function dT(t,e){D0(t,"connected",e),e===!1&&BU(t)}function jU(t,e){Fn(e,(n,r)=>{D0(t,n,r)})}function D0(t,e,n){const r=new Qe("/.info/"+e),i=hn(n);t.infoData_.updateSnapshot(r,i);const s=yp(t.infoSyncTree_,r,i);bo(t.eventQueue_,r,s)}function UU(t){return t.nextWriteId_++}function BU(t){nP(t,"onDisconnectEvents");const e=tP(t),n=Zh();Gy(t.onDisconnect_,Ve(),(i,s)=>{const o=CU(i,s,t.serverSyncTree_,e);xk(n,i,o)});let r=[];Gy(n,Ve(),(i,s)=>{r=r.concat(yp(t.serverSyncTree_,i,s));const o=GU(t,i);L0(t,o)}),t.onDisconnect_=Zh(),bo(t.eventQueue_,Ve(),r)}function zU(t,e,n){let r;_e(e._path)===".info"?r=lT(t.infoSyncTree_,e,n):r=lT(t.serverSyncTree_,e,n),Zk(t.eventQueue_,e._path,r)}function WU(t,e,n){let r;_e(e._path)===".info"?r=ev(t.infoSyncTree_,e,n):r=ev(t.serverSyncTree_,e,n),Zk(t.eventQueue_,e._path,r)}function HU(t){t.persistentConnection_&&t.persistentConnection_.interrupt(MU)}function nP(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),dn(n,...e)}function rP(t,e,n){return Uk(t.serverSyncTree_,e,n)||ae.EMPTY_NODE}function M0(t,e=t.transactionQueueTree_){if(e||wp(t,e),il(e)){const n=sP(t,e);K(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&qU(t,bc(e),n)}else qk(e)&&_p(e,n=>{M0(t,n)})}function qU(t,e,n){const r=n.map(c=>c.currentWriteId),i=rP(t,e,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const d=n[c];K(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const h=Nn(e,d.path);s=s.updateChild(h,d.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,c=>{nP(t,"transaction put response",{path:l.toString(),status:c});let d=[];if(c==="ok"){const h=[];for(let f=0;f<n.length;f++)n[f].status=2,d=d.concat(oa(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&h.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();wp(t,O0(t.transactionQueueTree_,e)),M0(t,t.transactionQueueTree_),bo(t.eventQueue_,e,d);for(let f=0;f<h.length;f++)Cc(h[f])}else{if(c==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{Kn("transaction at "+l.toString()+" failed: "+c);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=c}L0(t,e)}},o)}function L0(t,e){const n=iP(t,e),r=bc(n),i=sP(t,n);return KU(t,i,r),r}function KU(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=Nn(n,l.path);let d=!1,h;if(K(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)d=!0,h=l.abortReason,i=i.concat(oa(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=LU)d=!0,h="maxretry",i=i.concat(oa(t.serverSyncTree_,l.currentWriteId,!0));else{const f=rP(t,l.path,o);l.currentInputSnapshot=f;const g=e[a].update(f.val());if(g!==void 0){Yk("transaction failed: Data returned ",g,l.path);let v=hn(g);typeof g=="object"&&g!=null&&Ni(g,".priority")||(v=v.updatePriority(f.getPriority()));const x=l.currentWriteId,_=tP(t),w=TU(v,f,_);l.currentOutputSnapshotRaw=v,l.currentOutputSnapshotResolved=w,l.currentWriteId=UU(t),o.splice(o.indexOf(x),1),i=i.concat(cU(t.serverSyncTree_,l.path,w,l.currentWriteId,l.applyLocally)),i=i.concat(oa(t.serverSyncTree_,x,!0))}else d=!0,h="nodata",i=i.concat(oa(t.serverSyncTree_,l.currentWriteId,!0))}bo(t.eventQueue_,n,i),i=[],d&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(h),!1,null))))}wp(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Cc(r[a]);M0(t,t.transactionQueueTree_)}function iP(t,e){let n,r=t.transactionQueueTree_;for(n=_e(e);n!==null&&il(r)===void 0;)r=O0(r,n),e=Je(e),n=_e(e);return r}function sP(t,e){const n=[];return oP(t,e,n),n.sort((r,i)=>r.order-i.order),n}function oP(t,e,n){const r=il(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);_p(e,i=>{oP(t,i,n)})}function wp(t,e){const n=il(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,Hk(e,n.length>0?n:void 0)}_p(e,r=>{wp(t,r)})}function GU(t,e){const n=bc(iP(t,e)),r=O0(t.transactionQueueTree_,e);return bU(r,i=>{fg(t,i)}),fg(t,r),Kk(r,i=>{fg(t,i)}),n}function fg(t,e){const n=il(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(K(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(K(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(oa(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?Hk(e,void 0):n.length=s+1,bo(t.eventQueue_,bc(e),i);for(let o=0;o<r.length;o++)Cc(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QU(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function YU(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Kn(`Invalid query segment '${n}' in query '${t}'`)}return e}const hT=function(t,e){const n=XU(t),r=n.namespace;n.domain==="firebase.com"&&Ci(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Ci("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||l$();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new lk(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Qe(n.pathString)}},XU=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let d=t.indexOf("/");d===-1&&(d=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(d,h)),d<h&&(i=QU(t.substring(d,h)));const f=YU(t.substring(Math.min(t.length,h)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const g=e.slice(0,c);if(g.toLowerCase()==="localhost")n="localhost";else if(g.split(".").length<=2)n=g;else{const v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),n=e.substring(v+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JU{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+zt(this.snapshot.exportVal())}}class ZU{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return K(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return we(this._path)?null:yk(this._path)}get ref(){return new Os(this._repo,this._path)}get _queryIdentifier(){const e=YC(this._queryParams),n=c0(e);return n==="{}"?"default":n}get _queryObject(){return YC(this._queryParams)}isEqual(e){if(e=Pt(e),!(e instanceof V0))return!1;const n=this._repo===e._repo,r=p0(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+H$(this._path)}}class Os extends V0{constructor(e,n){super(e,n,new v0,!1)}get parent(){const e=_k(this._path);return e===null?null:new Os(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class lf{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Qe(e),r=nv(this.ref,e);return new lf(this._node.getChild(n),r,vt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new lf(i,nv(this.ref,r),vt)))}hasChild(e){const n=new Qe(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function aP(t,e){return t=Pt(t),t._checkNotDeleted("ref"),nv(t._root,e)}function nv(t,e){return t=Pt(t),_e(t._path)===null?AU("child","path",e):Xk("child","path",e),new Os(t._repo,Mt(t._path,e))}class F0{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new JU("value",this,new lf(e.snapshotNode,new Os(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new ZU(this,e,n):null}matches(e){return e instanceof F0?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function t5(t,e,n,r,i){const s=new e5(n,void 0),o=new F0(s);return zU(t._repo,t,o),()=>WU(t._repo,t,o)}function lP(t,e,n,r){return t5(t,"value",e)}tU(Os);aU(Os);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n5="FIREBASE_DATABASE_EMULATOR_HOST",rv={};let r5=!1;function i5(t,e,n,r){t.repoInfo_=new lk(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function s5(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Ci("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),dn("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=hT(s,i),a=o.repoInfo,l;typeof process<"u"&&NC&&(l=NC[n5]),l?(s=`http://${l}?ns=${a.namespace}`,o=hT(s,i),a=o.repoInfo):o.repoInfo.secure;const c=new _$(t.name,t.options,e);NU("Invalid Firebase Database URL",o),we(o.path)||Ci("Database URL must point to the root of a Firebase Database (not including a child path).");const d=a5(a,t,c,new v$(t.name,n));return new l5(d,t)}function o5(t,e){const n=rv[e];(!n||n[t.key]!==t)&&Ci(`Database ${e}(${t.repoInfo_}) has already been deleted.`),HU(t),delete n[t.key]}function a5(t,e,n,r){let i=rv[e.name];i||(i={},rv[e.name]=i);let s=i[t.toURLString()];return s&&Ci("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new VU(t,r5,n,r),i[t.toURLString()]=s,s}class l5{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(FU(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Os(this._repo,Ve())),this._rootInternal}_delete(){return this._rootInternal!==null&&(o5(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Ci("Cannot call "+e+" on a deleted database.")}}function $0(t=R_(),e){const n=Qf(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=dx("database");r&&u5(n,...r)}return n}function u5(t,e,n,r={}){t=Pt(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Ci("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Ci('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Xd(Xd.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:px(r.mockUserToken,t.app.options.projectId);s=new Xd(o)}i5(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c5(t){n$(Eo),lo(new ys("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return s5(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Ur(OC,DC,t),Ur(OC,DC,"esm2017")}pi.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};pi.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};c5();function j0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function uP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const d5=uP,cP=new pc("auth","Firebase",uP());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uf=new Gf("@firebase/auth");function h5(t,...e){uf.logLevel<=ve.WARN&&uf.warn(`Auth (${Eo}): ${t}`,...e)}function Jd(t,...e){uf.logLevel<=ve.ERROR&&uf.error(`Auth (${Eo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(t,...e){throw U0(t,...e)}function Hr(t,...e){return U0(t,...e)}function dP(t,e,n){const r=Object.assign(Object.assign({},d5()),{[e]:n});return new pc("auth","Firebase",r).create(e,{appName:t.name})}function no(t){return dP(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function U0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return cP.create(t,...e)}function de(t,e,...n){if(!t)throw U0(e,...n)}function ai(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Jd(e),new Error(e)}function Ii(t,e){t||ai(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function f5(){return fT()==="http:"||fT()==="https:"}function fT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(f5()||xM()||"connection"in navigator)?navigator.onLine:!0}function m5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ii(n>e,"Short delay should be less than long delay!"),this.isMobile=b_()||mx()}get(){return p5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(t,e){Ii(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ai("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ai("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ai("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y5=new xc(3e4,6e4);function z0(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function sl(t,e,n,r,i={}){return fP(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Ja(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return bM()||(c.referrerPolicy="no-referrer"),hP.fetch()(pP(t,t.config.apiHost,n,a),c)})}async function fP(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},g5),e);try{const i=new _5(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Sd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sd(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Sd(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Sd(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw dP(t,d,c);Ti(t,d)}}catch(i){if(i instanceof Ai)throw i;Ti(t,"network-request-failed",{message:String(i)})}}async function v5(t,e,n,r,i={}){const s=await sl(t,e,n,r,i);return"mfaPendingCredential"in s&&Ti(t,"multi-factor-auth-required",{_serverResponse:s}),s}function pP(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?B0(t.config,i):`${t.config.apiScheme}://${i}`}class _5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Hr(this.auth,"network-request-failed")),y5.get())})}}function Sd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Hr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w5(t,e){return sl(t,"POST","/v1/accounts:delete",e)}async function mP(t,e){return sl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function E5(t,e=!1){const n=Pt(t),r=await n.getIdToken(e),i=W0(r);de(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:vu(pg(i.auth_time)),issuedAtTime:vu(pg(i.iat)),expirationTime:vu(pg(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function pg(t){return Number(t)*1e3}function W0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Jd("JWT malformed, contained fewer than 3 sections"),null;try{const i=Dh(n);return i?JSON.parse(i):(Jd("Failed to decode base64 JWT payload"),null)}catch(i){return Jd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function pT(t){const e=W0(t);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ai&&S5(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function S5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=vu(this.lastLoginAt),this.creationTime=vu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cf(t){var e;const n=t.auth,r=await t.getIdToken(),i=await tc(t,mP(n,{idToken:r}));de(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?gP(s.providerUserInfo):[],a=I5(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new sv(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function T5(t){const e=Pt(t);await cf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function I5(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function gP(t){return t.map(e=>{var{providerId:n}=e,r=j0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b5(t,e){const n=await fP(t,{},async()=>{const r=Ja({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=pP(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",hP.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function x5(t,e){return sl(t,"POST","/v2/accounts:revokeToken",z0(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):pT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){de(e.length!==0,"internal-error");const n=pT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(de(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await b5(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new _a;return r&&(de(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(de(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(de(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _a,this.toJSON())}_performRefresh(){return ai("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(t,e){de(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class li{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=j0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new C5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new sv(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await tc(this,this.stsTokenManager.getToken(this.auth,e));return de(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return E5(this,e)}reload(){return T5(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new li(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await cf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zi(this.auth.app))return Promise.reject(no(this.auth));const e=await this.getIdToken();return await tc(this,w5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,T=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(c=n.createdAt)!==null&&c!==void 0?c:void 0,w=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:E,emailVerified:P,isAnonymous:D,providerData:M,stsTokenManager:R}=n;de(E&&R,e,"internal-error");const b=_a.fromJSON(this.name,R);de(typeof E=="string",e,"internal-error"),ji(h,e.name),ji(f,e.name),de(typeof P=="boolean",e,"internal-error"),de(typeof D=="boolean",e,"internal-error"),ji(g,e.name),ji(v,e.name),ji(T,e.name),ji(x,e.name),ji(_,e.name),ji(w,e.name);const k=new li({uid:E,auth:e,email:f,emailVerified:P,displayName:h,isAnonymous:D,photoURL:v,phoneNumber:g,tenantId:T,stsTokenManager:b,createdAt:_,lastLoginAt:w});return M&&Array.isArray(M)&&(k.providerData=M.map(m=>Object.assign({},m))),x&&(k._redirectEventId=x),k}static async _fromIdTokenResponse(e,n,r=!1){const i=new _a;i.updateFromServerResponse(n);const s=new li({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await cf(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];de(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?gP(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new _a;a.updateFromIdToken(r);const l=new li({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new sv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT=new Map;function ui(t){Ii(t instanceof Function,"Expected a class definition");let e=mT.get(t);return e?(Ii(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,mT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}yP.type="NONE";const gT=yP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zd(t,e,n){return`firebase:${t}:${e}:${n}`}class wa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Zd(this.userKey,i.apiKey,s),this.fullPersistenceKey=Zd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?li._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new wa(ui(gT),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||ui(gT);const o=Zd(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){const h=li._fromJSON(e,d);c!==s&&(a=h),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new wa(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new wa(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(EP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(vP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(CP(e))return"Blackberry";if(TP(e))return"Webos";if(_P(e))return"Safari";if((e.includes("chrome/")||wP(e))&&!e.includes("edge/"))return"Chrome";if(SP(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function vP(t=gn()){return/firefox\//i.test(t)}function _P(t=gn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wP(t=gn()){return/crios\//i.test(t)}function EP(t=gn()){return/iemobile/i.test(t)}function SP(t=gn()){return/android/i.test(t)}function CP(t=gn()){return/blackberry/i.test(t)}function TP(t=gn()){return/webos/i.test(t)}function H0(t=gn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function R5(t=gn()){var e;return H0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function k5(){return RM()&&document.documentMode===10}function IP(t=gn()){return H0(t)||SP(t)||TP(t)||CP(t)||/windows phone/i.test(t)||EP(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bP(t,e=[]){let n;switch(t){case"Browser":n=yT(gn());break;case"Worker":n=`${yT(gn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Eo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A5(t,e={}){return sl(t,"GET","/v2/passwordPolicy",z0(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N5=6;class O5{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:N5,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D5{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vT(this),this.idTokenSubscription=new vT(this),this.beforeStateQueue=new P5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ui(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await wa.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await mP(this,{idToken:e}),r=await li._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Zi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await cf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=m5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zi(this.app))return Promise.reject(no(this));const n=e?Pt(e):null;return n&&de(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zi(this.app)?Promise.reject(no(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zi(this.app)?Promise.reject(no(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ui(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await A5(this),n=new O5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new pc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await x5(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ui(e)||this._popupRedirectResolver;de(n,this,"argument-error"),this.redirectPersistenceManager=await wa.create(this,[ui(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&h5(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function q0(t){return Pt(t)}class vT{constructor(e){this.auth=e,this.observer=null,this.addObserver=FM(n=>this.observer=n)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let K0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function M5(t){K0=t}function L5(t){return K0.loadJS(t)}function V5(){return K0.gapiScript}function F5(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $5(t,e){const n=Qf(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Lh(s,e??{}))return i;Ti(i,"already-initialized")}return n.initialize({options:e})}function j5(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ui);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function U5(t,e,n){const r=q0(t);de(r._canInitEmulator,r,"emulator-config-failed"),de(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=xP(e),{host:o,port:a}=B5(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),z5()}function xP(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function B5(t){const e=xP(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:_T(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:_T(o)}}}function _T(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function z5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ai("not implemented")}_getIdTokenResponse(e){return ai("not implemented")}_linkToIdToken(e,n){return ai("not implemented")}_getReauthenticationResolver(e){return ai("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ea(t,e){return v5(t,"POST","/v1/accounts:signInWithIdp",z0(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W5="http://localhost";class go extends RP{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new go(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ti("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=j0(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new go(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ea(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ea(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ea(e,n)}buildRequest(){const e={requestUri:W5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ja(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc extends kP{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends Rc{constructor(){super("facebook.com")}static credential(e){return go._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ki.credential(e.oauthAccessToken)}catch{return null}}}Ki.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ki.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends Rc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return go._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Gi.credential(n,r)}catch{return null}}}Gi.GOOGLE_SIGN_IN_METHOD="google.com";Gi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends Rc{constructor(){super("github.com")}static credential(e){return go._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qi.credential(e.oauthAccessToken)}catch{return null}}}Qi.GITHUB_SIGN_IN_METHOD="github.com";Qi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends Rc{constructor(){super("twitter.com")}static credential(e,n){return go._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Yi.credential(n,r)}catch{return null}}}Yi.TWITTER_SIGN_IN_METHOD="twitter.com";Yi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await li._fromIdTokenResponse(e,r,i),o=wT(r);return new Ba({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=wT(r);return new Ba({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function wT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df extends Ai{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,df.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new df(e,n,r,i)}}function PP(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?df._fromErrorAndOperation(t,s,e,r):s})}async function H5(t,e,n=!1){const r=await tc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ba._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q5(t,e,n=!1){const{auth:r}=t;if(Zi(r.app))return Promise.reject(no(r));const i="reauthenticate";try{const s=await tc(t,PP(r,i,e,t),n);de(s.idToken,r,"internal-error");const o=W0(s.idToken);de(o,r,"internal-error");const{sub:a}=o;return de(t.uid===a,r,"user-mismatch"),Ba._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ti(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K5(t,e,n=!1){if(Zi(t.app))return Promise.reject(no(t));const r="signIn",i=await PP(t,r,e),s=await Ba._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function G5(t,e,n,r){return Pt(t).onIdTokenChanged(e,n,r)}function Q5(t,e,n){return Pt(t).beforeAuthStateChanged(e,n)}const hf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(hf,"1"),this.storage.removeItem(hf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y5=1e3,X5=10;class NP extends AP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=IP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);k5()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,X5):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Y5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}NP.type="LOCAL";const J5=NP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP extends AP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}OP.type="SESSION";const DP=OP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z5(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Ep(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await Z5(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ep.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=G0("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(){return window}function tB(t){qr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MP(){return typeof qr().WorkerGlobalScope<"u"&&typeof qr().importScripts=="function"}async function nB(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rB(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function iB(){return MP()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP="firebaseLocalStorageDb",sB=1,ff="firebaseLocalStorage",VP="fbase_key";class kc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Sp(t,e){return t.transaction([ff],e?"readwrite":"readonly").objectStore(ff)}function oB(){const t=indexedDB.deleteDatabase(LP);return new kc(t).toPromise()}function ov(){const t=indexedDB.open(LP,sB);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ff,{keyPath:VP})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ff)?e(r):(r.close(),await oB(),e(await ov()))})})}async function ET(t,e,n){const r=Sp(t,!0).put({[VP]:e,value:n});return new kc(r).toPromise()}async function aB(t,e){const n=Sp(t,!1).get(e),r=await new kc(n).toPromise();return r===void 0?null:r.value}function ST(t,e){const n=Sp(t,!0).delete(e);return new kc(n).toPromise()}const lB=800,uB=3;class FP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ov(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>uB)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return MP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ep._getInstance(iB()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await nB(),!this.activeServiceWorker)return;this.sender=new eB(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||rB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ov();return await ET(e,hf,"1"),await ST(e,hf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>ET(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>aB(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ST(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Sp(i,!1).getAll();return new kc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}FP.type="LOCAL";const cB=FP;new xc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dB(t,e){return e?ui(e):(de(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0 extends RP{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ea(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ea(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ea(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function hB(t){return K5(t.auth,new Q0(t),t.bypassAuthState)}function fB(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),q5(n,new Q0(t),t.bypassAuthState)}async function pB(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),H5(n,new Q0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hB;case"linkViaPopup":case"linkViaRedirect":return pB;case"reauthViaPopup":case"reauthViaRedirect":return fB;default:Ti(this.auth,"internal-error")}}resolve(e){Ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mB=new xc(2e3,1e4);class aa extends $P{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,aa.currentPopupAction&&aa.currentPopupAction.cancel(),aa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return de(e,this.auth,"internal-error"),e}async onExecution(){Ii(this.filter.length===1,"Popup operations only handle one event");const e=G0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Hr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Hr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,aa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,mB.get())};e()}}aa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gB="pendingRedirect",eh=new Map;class yB extends $P{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=eh.get(this.auth._key());if(!e){try{const r=await vB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}eh.set(this.auth._key(),e)}return this.bypassAuthState||eh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vB(t,e){const n=EB(e),r=wB(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function _B(t,e){eh.set(t._key(),e)}function wB(t){return ui(t._redirectPersistence)}function EB(t){return Zd(gB,t.config.apiKey,t.name)}async function SB(t,e,n=!1){if(Zi(t.app))return Promise.reject(no(t));const r=q0(t),i=dB(r,e),o=await new yB(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CB=10*60*1e3;class TB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!IB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!jP(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Hr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=CB&&this.cachedEventUids.clear(),this.cachedEventUids.has(CT(e))}saveEventToCache(e){this.cachedEventUids.add(CT(e)),this.lastProcessedEventTime=Date.now()}}function CT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function jP({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function IB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jP(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bB(t,e={}){return sl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,RB=/^https?/;async function kB(t){if(t.config.emulator)return;const{authorizedDomains:e}=await bB(t);for(const n of e)try{if(PB(n))return}catch{}Ti(t,"unauthorized-domain")}function PB(t){const e=iv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!RB.test(n))return!1;if(xB.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AB=new xc(3e4,6e4);function TT(){const t=qr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function NB(t){return new Promise((e,n)=>{var r,i,s;function o(){TT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{TT(),n(Hr(t,"network-request-failed"))},timeout:AB.get()})}if(!((i=(r=qr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=qr().gapi)===null||s===void 0)&&s.load)o();else{const a=F5("iframefcb");return qr()[a]=()=>{gapi.load?o():n(Hr(t,"network-request-failed"))},L5(`${V5()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw th=null,e})}let th=null;function OB(t){return th=th||NB(t),th}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB=new xc(5e3,15e3),MB="__/auth/iframe",LB="emulator/auth/iframe",VB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $B(t){const e=t.config;de(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?B0(e,LB):`https://${t.config.authDomain}/${MB}`,r={apiKey:e.apiKey,appName:t.name,v:Eo},i=FB.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ja(r).slice(1)}`}async function jB(t){const e=await OB(t),n=qr().gapi;return de(n,t,"internal-error"),e.open({where:document.body,url:$B(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VB,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Hr(t,"network-request-failed"),a=qr().setTimeout(()=>{s(o)},DB.get());function l(){qr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},BB=500,zB=600,WB="_blank",HB="http://localhost";class IT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qB(t,e,n,r=BB,i=zB){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},UB),{width:r.toString(),height:i.toString(),top:s,left:o}),c=gn().toLowerCase();n&&(a=wP(c)?WB:n),vP(c)&&(e=e||HB,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[g,v])=>`${f}${g}=${v},`,"");if(R5(c)&&a!=="_self")return KB(e||"",a),new IT(null);const h=window.open(e||"",a,d);de(h,t,"popup-blocked");try{h.focus()}catch{}return new IT(h)}function KB(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GB="__/auth/handler",QB="emulator/auth/handler",YB=encodeURIComponent("fac");async function bT(t,e,n,r,i,s){de(t.config.authDomain,t,"auth-domain-config-required"),de(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Eo,eventId:i};if(e instanceof kP){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Sy(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof Rc){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${YB}=${encodeURIComponent(l)}`:"";return`${XB(t)}?${Ja(a).slice(1)}${c}`}function XB({config:t}){return t.emulator?B0(t,QB):`https://${t.authDomain}/${GB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg="webStorageSupport";class JB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=DP,this._completeRedirectFn=SB,this._overrideRedirectResult=_B}async _openPopup(e,n,r,i){var s;Ii((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await bT(e,n,r,iv(),i);return qB(e,o,G0())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await bT(e,n,r,iv(),i);return tB(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ii(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await jB(e),r=new TB(e);return n.register("authEvent",i=>(de(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(mg,{type:mg},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[mg];o!==void 0&&n(!!o),Ti(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=kB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return IP()||_P()||H0()}}const ZB=JB;var xT="@firebase/auth",RT="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function n3(t){lo(new ys("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;de(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bP(t)},c=new D5(r,i,s,l);return j5(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),lo(new ys("auth-internal",e=>{const n=q0(e.getProvider("auth").getImmediate());return(r=>new e3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ur(xT,RT,t3(t)),Ur(xT,RT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r3=5*60,i3=fx("authIdTokenMaxAge")||r3;let kT=null;const s3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>i3)return;const i=n==null?void 0:n.token;kT!==i&&(kT=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function o3(t=R_()){const e=Qf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=$5(t,{popupRedirectResolver:ZB,persistence:[cB,J5,DP]}),r=fx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=s3(s.toString());Q5(n,o,()=>o(n.currentUser)),G5(n,a=>o(a))}}const i=cx("auth");return i&&U5(n,`http://${i}`),n}function a3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}M5({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Hr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",a3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});n3("Browser");const l3={apiKey:"AIzaSyDd1oiuWIqyvUoXgISpRG241Uvlvv5iOFg",authDomain:"one-finger-on-election.firebaseapp.com",projectId:"one-finger-on-election",storageBucket:"one-finger-on-election.firebasestorage.app",messagingSenderId:"187016973698",appId:"1:187016973698:web:406a73850e7542d5d6139b",measurementId:"G-WCWEQD0DZX",databaseURL:"https://one-finger-on-election-default-rtdb.asia-southeast1.firebasedatabase.app/"},Y0=Ex(l3);o3(Y0);const St=U4(Y0);$0(Y0);const u3=()=>{const[t,e]=S.useState(""),[n,r]=S.useState(!1),[i,s]=S.useState(!1),[o,a]=S.useState(""),[l,c]=S.useState(!1),[d,h]=S.useState({}),[f,g]=S.useState([]),[v,T]=S.useState(""),[x,_]=S.useState(""),[w,E]=S.useState({surnamePrefix:"Mr.",firstName:"",lastName:"",dob:"",gender:"",address:"",pinCode:"",imageUrl:"",email:""}),P=Ya();S.useEffect(()=>{const C=$0(),O=aP(C,"Lok Sabha");lP(O,N=>{const W=N.val();W&&h(W)})},[]),S.useEffect(()=>{var C;v&&((C=d[v])!=null&&C.seats)?g(d[v].seats):g([])},[v,d]);const D=async()=>{if(!t||t.length!==4){alert("Enter the last four digits of your Aadhaar.");return}try{const C=wn(St,"electors"),O=Bn(C,kn("aadhaar","==",t));(await Si(O)).empty?(r(!1),s(!0)):(r(!0),s(!1))}catch(C){console.error("Error checking Aadhaar:",C)}},M=async C=>{const O=wn(St,"electors"),N=Bn(O,kn("email","==",C));return!(await Si(N)).empty},R=async C=>{C.preventDefault();try{const{dob:O,email:N,surnamePrefix:W,firstName:z,lastName:j}=w;if(new Date().getFullYear()-new Date(O).getFullYear()<18)throw new Error("You must be at least 18 years old to register.");if(await M(N)){a("This email is already registered.");return}const H=`${W} ${z} ${j}`;await zR(wn(St,"electors"),{aadhaar:t,name:H,dob:O,gender:w.gender,address:w.address,pinCode:w.pinCode,imageUrl:w.imageUrl,email:N,state:v,seat:x}),c(!0),a(""),b()}catch(O){alert(O.message)}},b=()=>{E({surnamePrefix:"Mr.",firstName:"",lastName:"",dob:"",gender:"",address:"",pinCode:"",imageUrl:"",email:""}),e(""),T(""),_("")},k=()=>{c(!1),P("/FinalYearProject/")},m=C=>{C.key==="Enter"&&(C.preventDefault(),D())};return I.jsxs("div",{className:"container1",children:[i?I.jsxs("form",{onSubmit:R,className:"form",children:[I.jsx("h2",{className:"heading",children:"Register in Electoral Roll.."}),I.jsxs("select",{value:w.surnamePrefix,onChange:C=>E({...w,surnamePrefix:C.target.value}),className:"select",required:!0,children:[I.jsx("option",{value:"Mr.",children:"Mr."}),I.jsx("option",{value:"Miss",children:"Miss"}),I.jsx("option",{value:"Mrs.",children:"Mrs."})]}),I.jsx("input",{type:"text",placeholder:"First Name",value:w.firstName,onChange:C=>E({...w,firstName:C.target.value.toUpperCase()}),required:!0,className:"input"}),I.jsx("input",{type:"text",placeholder:"Last Name",value:w.lastName,onChange:C=>E({...w,lastName:C.target.value.toUpperCase()}),className:"input"}),I.jsx("input",{type:"date",placeholder:"Date of Birth",value:w.dob,onChange:C=>E({...w,dob:C.target.value}),required:!0,className:"input"}),I.jsxs("select",{value:w.gender,onChange:C=>E({...w,gender:C.target.value}),className:"select",required:!0,children:[I.jsx("option",{value:"",children:"Select Gender"}),I.jsx("option",{value:"Male",children:"Male"}),I.jsx("option",{value:"Female",children:"Female"}),I.jsx("option",{value:"Other",children:"Other"})]}),I.jsx("textarea",{placeholder:"Address",value:w.address,onChange:C=>E({...w,address:C.target.value}),required:!0,className:"textarea"}),I.jsx("input",{type:"text",placeholder:"Pin Code (6 digits)",value:w.pinCode,onChange:C=>E({...w,pinCode:C.target.value.replace(/\D/,"")}),minLength:"6",maxLength:"6",required:!0,className:"input"}),I.jsx("input",{type:"url",placeholder:"Profile Image URL",value:w.imageUrl,onChange:C=>E({...w,imageUrl:C.target.value}),className:"input"}),I.jsx("input",{type:"email",placeholder:"Email",value:w.email,onChange:C=>E({...w,email:C.target.value}),required:!0,className:"input"}),o&&I.jsx("p",{className:"error-text",children:o}),I.jsxs("div",{className:"select-container",children:[I.jsx("label",{children:"Select State:"}),I.jsxs("select",{value:v,onChange:C=>T(C.target.value),className:"select",required:!0,children:[I.jsx("option",{value:"",children:"Select State"}),Object.keys(d).map(C=>I.jsx("option",{value:C,children:d[C].name},C))]})]}),f.length>0&&I.jsxs("div",{className:"select-container",children:[I.jsx("label",{children:"Select Seat:"}),I.jsxs("select",{value:x,onChange:C=>_(C.target.value),className:"select",required:!0,children:[I.jsx("option",{value:"",children:"Select Seat"}),f.map((C,O)=>I.jsx("option",{value:C,children:C},O))]})]}),I.jsx("button",{type:"submit",className:"button",children:"Register"})]}):I.jsxs("div",{className:"aadhaar-container",children:[I.jsx("h2",{className:"heading",children:"Register in Electoral Roll.."}),I.jsx("h3",{children:"Check Aadhaar"}),I.jsx("input",{type:"text",placeholder:"Last 4 digits of Aadhaar",value:t,onChange:C=>{/^\d{0,4}$/.test(C.target.value)&&e(C.target.value)},onKeyPress:m,maxLength:"4",className:"input"}),I.jsx("button",{onClick:D,className:"button",children:"Check Aadhaar"}),n&&I.jsx("p",{className:"error-text",children:"Aadhaar is already registered!"})]}),l&&I.jsxs("div",{className:"popup",children:[I.jsx("p",{className:"popup-text",children:"Registration Successful!"}),I.jsx("button",{onClick:k,className:"close-button",children:"Close"})]})]})},c3=()=>{const[t,e]=S.useState(""),[n,r]=S.useState({firstName:"",lastName:"",dob:"",gender:"",address:"",pinCode:"",imageUrl:"",key:""}),i=async o=>{o.preventDefault();try{const a=`${n.surnamePrefix} ${n.firstName} ${n.lastName}`,l=to(St,"electors",t);await ma(l,{name:a,dob:n.dob,gender:n.gender,address:n.address,pinCode:n.pinCode,imageUrl:n.imageUrl,key:n.key}),alert("Elector data updated successfully!")}catch(a){alert(a.message)}},s=o=>{r({...n,[o.target.name]:o.target.value})};return I.jsxs("form",{onSubmit:i,style:{maxWidth:"600px",margin:"0 auto",padding:"20px",border:"1px solid #ccc",borderRadius:"8px",backgroundColor:"#fff",marginTop:"100px"},children:[I.jsx("h2",{style:{textAlign:"center",color:"#0056b3"},children:"Update Elector Data"}),I.jsx("input",{type:"text",placeholder:"User ID",value:t,onChange:o=>e(o.target.value),required:!0,style:Cd}),I.jsx("input",{type:"text",name:"firstName",placeholder:"First Name",value:n.firstName,onChange:s,required:!0,style:Cd}),I.jsx("input",{type:"text",name:"lastName",placeholder:"Last Name",value:n.lastName,onChange:s,required:!0,style:Cd}),I.jsx("button",{type:"submit",style:{...Cd,backgroundColor:"#007BFF",color:"white",border:"none"},children:"Update"})]})},Cd={width:"100%",padding:"10px",margin:"10px 0",borderRadius:"4px",border:"1px solid #ccc"},d3=()=>{const[t,e]=S.useState(""),[n,r]=S.useState(!1),[i,s]=S.useState(!1),[o,a]=S.useState(""),[l,c]=S.useState(!1),[d,h]=S.useState({}),[f,g]=S.useState([]),[v,T]=S.useState(""),[x,_]=S.useState(""),[w,E]=S.useState({surnamePrefix:"Mr.",firstName:"",lastName:"",dob:"",gender:"",address:"",pinCode:"",imageUrl:"",email:"",partyName:""}),P=Ya();S.useEffect(()=>{const C=$0(),O=aP(C,"Lok Sabha");lP(O,N=>{const W=N.val();W&&h(W)})},[]),S.useEffect(()=>{var C;v&&((C=d[v])!=null&&C.seats)?g(d[v].seats):g([])},[v,d]);const D=async()=>{if(!t||t.length!==4){alert("Enter the last four digits of your Aadhaar.");return}try{const C=wn(St,"parties"),O=Bn(C,kn("aadhaar","==",t));(await Si(O)).empty?(r(!1),s(!0)):(r(!0),s(!1))}catch(C){console.error("Error checking Aadhaar:",C)}},M=async C=>{const O=wn(St,"parties"),N=Bn(O,kn("email","==",C));return!(await Si(N)).empty},R=async C=>{C.preventDefault();try{const{dob:O,email:N,surnamePrefix:W,firstName:z,lastName:j,pinCode:Q,partyName:F}=w;if(!F.trim())throw new Error("Party name is required.");if(!/^\d{6}$/.test(Q))throw new Error("Pin code must be exactly 6 digits.");if(new Date().getFullYear()-new Date(O).getFullYear()<18)throw new Error("You must be at least 18 years old to register.");if(await M(N)){a("This email is already registered.");return}const ne=`${W} ${z} ${j}`;await zR(wn(St,"parties"),{aadhaar:t,name:ne,partyName:F,dob:O,gender:w.gender,address:w.address,pinCode:w.pinCode,imageUrl:w.imageUrl,email:N,state:v,seat:x}),c(!0),a(""),b()}catch(O){alert(O.message)}},b=()=>{E({surnamePrefix:"Mr.",firstName:"",lastName:"",dob:"",gender:"",address:"",pinCode:"",imageUrl:"",email:"",partyName:""}),e(""),T(""),_("")},k=()=>{c(!1),P("/")},m=C=>{C.key==="Enter"&&(C.preventDefault(),D())};return I.jsxs("div",{className:"container1",children:[i?I.jsxs("form",{onSubmit:R,className:"form",children:[I.jsx("h2",{className:"heading",children:"Political Parties Registration Page.."}),I.jsxs("select",{value:w.surnamePrefix,onChange:C=>E({...w,surnamePrefix:C.target.value}),className:"select",required:!0,children:[I.jsx("option",{value:"Mr.",children:"Mr."}),I.jsx("option",{value:"Miss",children:"Miss"}),I.jsx("option",{value:"Mrs.",children:"Mrs."})]}),I.jsx("input",{type:"text",placeholder:"First Name",value:w.firstName,onChange:C=>E({...w,firstName:C.target.value.toUpperCase()}),required:!0,className:"input"}),I.jsx("input",{type:"text",placeholder:"Last Name",value:w.lastName,onChange:C=>E({...w,lastName:C.target.value.toUpperCase()}),className:"input"}),I.jsx("input",{type:"date",placeholder:"Date of Birth",value:w.dob,onChange:C=>E({...w,dob:C.target.value}),required:!0,className:"input"}),I.jsxs("select",{value:w.gender,onChange:C=>E({...w,gender:C.target.value}),className:"select",required:!0,children:[I.jsx("option",{value:"",children:"Select Gender"}),I.jsx("option",{value:"Male",children:"Male"}),I.jsx("option",{value:"Female",children:"Female"}),I.jsx("option",{value:"Other",children:"Other"})]}),I.jsx("textarea",{placeholder:"Address",value:w.address,onChange:C=>E({...w,address:C.target.value}),required:!0,className:"textarea"}),I.jsx("input",{type:"text",placeholder:"Pin Code (6 digits)",value:w.pinCode,onChange:C=>E({...w,pinCode:C.target.value.replace(/\D/,"")}),minLength:"6",maxLength:"6",required:!0,className:"input"}),I.jsx("input",{type:"text",placeholder:"Party Name",value:w.partyName,onChange:C=>E({...w,partyName:C.target.value.toUpperCase()}),required:!0,className:"input"}),I.jsx("input",{type:"url",placeholder:"Party Logo URL",value:w.imageUrl,onChange:C=>E({...w,imageUrl:C.target.value}),className:"input"}),I.jsx("input",{type:"email",placeholder:"Email",value:w.email,onChange:C=>E({...w,email:C.target.value}),required:!0,className:"input"}),o&&I.jsx("p",{className:"error-text",children:o}),I.jsxs("div",{className:"select-container",children:[I.jsx("label",{children:"Select State:"}),I.jsxs("select",{value:v,onChange:C=>T(C.target.value),className:"select",required:!0,children:[I.jsx("option",{value:"",children:"Select State"}),Object.keys(d).map(C=>I.jsx("option",{value:C,children:d[C].name},C))]})]}),f.length>0&&I.jsxs("div",{className:"select-container",children:[I.jsx("label",{children:"Select Seat:"}),I.jsxs("select",{value:x,onChange:C=>_(C.target.value),className:"select",required:!0,children:[I.jsx("option",{value:"",children:"Select Seat"}),f.map((C,O)=>I.jsx("option",{value:C,children:C},O))]})]}),I.jsx("button",{type:"submit",className:"button",children:"Register"})]}):I.jsxs("div",{className:"aadhaar-container",children:[I.jsx("h2",{className:"heading",children:"Political Parties Registration Page.."}),I.jsx("h3",{children:"Check Aadhaar"}),I.jsx("input",{type:"text",placeholder:"Last 4 digits of Aadhaar",value:t,onChange:C=>{/^\d{0,4}$/.test(C.target.value)&&e(C.target.value)},onKeyPress:m,maxLength:"4",className:"input"}),I.jsx("button",{onClick:D,className:"button",children:"Check Aadhaar"}),n&&I.jsx("p",{className:"error-text",children:"Aadhaar is already registered!"})]}),l&&I.jsxs("div",{className:"popup",children:[I.jsx("p",{className:"popup-text",children:"Registration Successful!"}),I.jsx("button",{onClick:k,className:"close-button",children:"Close"})]})]})},h3=()=>{const[t,e]=S.useState([]),[n,r]=S.useState([]),[i,s]=S.useState(""),[o,a]=S.useState(null),[l,c]=S.useState(!1),[d,h]=S.useState(!1),[f,g]=S.useState("");S.useEffect(()=>{(async()=>{if(!f)return;const _=Bn(wn(St,"parties"),kn("key","==",f)),w=await Si(_);e(w.docs.map(D=>({id:D.id,...D.data()})));const E=Bn(wn(St,"electors"),kn("key","==",f)),P=await Si(E);r(P.docs.map(D=>({id:D.id,...D.data()})))})()},[f]);const v=async x=>{var P;const _=x.target.value;if(s(_),!n.find(D=>D.id===_)){a(null);return}const E=await AC(to(St,"electors",_));E.exists()?(a(E.data()),c(((P=E.data())==null?void 0:P.hasVote)||!1)):a(null)},T=async x=>{if(l){alert("You have already voted. You can only vote once.");return}if(!o){alert("Somthing Wrong!");return}try{const _=to(St,"parties",x),E=(await AC(_)).data().votes||0;await ma(_,{votes:E+1});const P=to(St,"electors",i);await ma(P,{hasVote:!0}),c(!0),h(!0),setTimeout(()=>{h(!1),s(""),a(null),c(!1)},3e3)}catch(_){alert("Error casting vote: "+_.message)}};return I.jsxs("div",{className:"vote-box",children:[I.jsx("h2",{children:"Vote for Your Preferred Party"}),I.jsxs("div",{children:[I.jsx("label",{htmlFor:"electionKey",children:"Enter Election Key:"}),I.jsx("input",{type:"password",id:"electionKey",value:f,onChange:x=>g(x.target.value),required:!0})]}),f&&I.jsxs("div",{children:[I.jsx("label",{htmlFor:"electorId",children:"Enter Your Elector ID:"}),I.jsx("input",{type:"text",id:"electorId",value:i,onChange:v,required:!0})]}),o?I.jsxs("div",{className:"elector-profile",children:[I.jsx("img",{src:o.imageUrl,alt:o.name,width:"110",height:"110"}),I.jsxs("div",{className:"elector-details",children:[I.jsx("h3",{children:o.name}),I.jsxs("p",{children:["DOB: ",o.dob]}),I.jsxs("p",{children:["Seat: ",o.seat]}),I.jsxs("p",{className:"status1",children:["Status: ",l?"You have already voted!":"You can vote now."]})]})]}):i&&I.jsx("p",{className:"error1",children:"Somthing Wrong!... Check."}),o&&!l&&I.jsxs("div",{className:"party-list",children:[I.jsx("h3",{children:"Select a Party to Vote For:"}),t.map(x=>I.jsxs("div",{className:"party-cards",children:[I.jsx("img",{src:x.imageUrl,alt:x.name,width:"70",height:"70"}),I.jsxs("div",{className:"card-mid",children:[I.jsx("h4",{children:x.name}),I.jsxs("p",{children:["Party: ",x.partyName]})]}),I.jsx("button",{onClick:()=>T(x.id),disabled:l,children:"Vote"})]},x.id))]}),d&&I.jsx("div",{className:"popups",children:I.jsxs("div",{className:"popup-content",children:[I.jsx("h3",{children:"Vote Successful!"}),I.jsx("p",{children:"Thank you for casting your vote. The page will reset now."})]})})]})},f3=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(""),[i,s]=S.useState(!0),[o,a]=S.useState(null);S.useEffect(()=>{if(!n){e([]),s(!1);return}const f=(()=>{const g=Bn(wn(St,"parties"),kn("key","==",n));return WR(g,T=>{const x=T.docs.map(_=>({id:_.id,..._.data()}));e(x),s(!1)},T=>{s(!1),a("Failed to fetch parties. Please try again.")})})();return()=>f()},[n]);const l=t.reduce((h,f)=>h+(f.votes||0),0),c=[...t].sort((h,f)=>(f.votes||0)-(h.votes||0)),d=h=>{const f=Math.max(...c.map(g=>g.votes||0));return h===f&&h>0?"green-card":h===0?"white-card":"red-card"};return I.jsxs("div",{className:"vote-container",children:[I.jsx("h2",{className:"vote-title",children:"Political Party Vote Counts"}),I.jsxs("div",{className:"vote-input-container",children:[I.jsx("label",{htmlFor:"electionKey",children:"Enter Election Key:"}),I.jsx("input",{type:"password",id:"electionKey",value:n,onChange:h=>r(h.target.value),placeholder:"Enter Election Key to see vote counts",required:!0,className:"vote-input"})]}),i?I.jsx("p",{className:"loading-text",children:"Loading..."}):o?I.jsx("p",{className:"error-text",children:o}):c.length>0?I.jsxs(I.Fragment,{children:[c.map(h=>I.jsxs("div",{className:`vote-party-cardo ${d(h.votes)}`,children:[I.jsx("img",{src:h.imageUrl,alt:h.name,className:"vote-imag"}),I.jsx("h3",{className:"vote-party-name",children:h.name}),I.jsxs("p",{className:"vote-party-texta",children:["Party: ",h.partyName]}),I.jsxs("p",{className:"vote-party-text",children:["Votes: ",h.votes||0]})]},h.id)),I.jsxs("div",{className:"vote-total fade-in",children:["Total Votes: ",l]})]}):I.jsx("p",{className:"request",children:n?"No parties found for this election key.":"Enter an election key to see vote counts."})]})},nc={black:"#000",white:"#fff"},Mo={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Lo={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Vo={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Fo={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},$o={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Ll={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},p3={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function bi(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${t}; visit ${n} for the full message.`}const Cp="$$material";function pf(){return pf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pf.apply(null,arguments)}function UP(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var m3=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,g3=UP(function(t){return m3.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),y3=!1;function v3(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function _3(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var w3=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!y3:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(_3(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=v3(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),an="-ms-",mf="-moz-",Me="-webkit-",BP="comm",X0="rule",J0="decl",E3="@import",zP="@keyframes",S3="@layer",C3=Math.abs,Tp=String.fromCharCode,T3=Object.assign;function I3(t,e){return Qt(t,0)^45?(((e<<2^Qt(t,0))<<2^Qt(t,1))<<2^Qt(t,2))<<2^Qt(t,3):0}function WP(t){return t.trim()}function b3(t,e){return(t=e.exec(t))?t[0]:t}function Le(t,e,n){return t.replace(e,n)}function av(t,e){return t.indexOf(e)}function Qt(t,e){return t.charCodeAt(e)|0}function rc(t,e,n){return t.slice(e,n)}function Mr(t){return t.length}function Z0(t){return t.length}function Td(t,e){return e.push(t),t}function x3(t,e){return t.map(e).join("")}var Ip=1,za=1,HP=0,$n=0,xt=0,ol="";function bp(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Ip,column:za,length:o,return:""}}function Vl(t,e){return T3(bp("",null,null,"",null,null,0),t,{length:-t.length},e)}function R3(){return xt}function k3(){return xt=$n>0?Qt(ol,--$n):0,za--,xt===10&&(za=1,Ip--),xt}function Gn(){return xt=$n<HP?Qt(ol,$n++):0,za++,xt===10&&(za=1,Ip++),xt}function Kr(){return Qt(ol,$n)}function nh(){return $n}function Pc(t,e){return rc(ol,t,e)}function ic(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function qP(t){return Ip=za=1,HP=Mr(ol=t),$n=0,[]}function KP(t){return ol="",t}function rh(t){return WP(Pc($n-1,lv(t===91?t+2:t===40?t+1:t)))}function P3(t){for(;(xt=Kr())&&xt<33;)Gn();return ic(t)>2||ic(xt)>3?"":" "}function A3(t,e){for(;--e&&Gn()&&!(xt<48||xt>102||xt>57&&xt<65||xt>70&&xt<97););return Pc(t,nh()+(e<6&&Kr()==32&&Gn()==32))}function lv(t){for(;Gn();)switch(xt){case t:return $n;case 34:case 39:t!==34&&t!==39&&lv(xt);break;case 40:t===41&&lv(t);break;case 92:Gn();break}return $n}function N3(t,e){for(;Gn()&&t+xt!==57;)if(t+xt===84&&Kr()===47)break;return"/*"+Pc(e,$n-1)+"*"+Tp(t===47?t:Gn())}function O3(t){for(;!ic(Kr());)Gn();return Pc(t,$n)}function D3(t){return KP(ih("",null,null,null,[""],t=qP(t),0,[0],t))}function ih(t,e,n,r,i,s,o,a,l){for(var c=0,d=0,h=o,f=0,g=0,v=0,T=1,x=1,_=1,w=0,E="",P=i,D=s,M=r,R=E;x;)switch(v=w,w=Gn()){case 40:if(v!=108&&Qt(R,h-1)==58){av(R+=Le(rh(w),"&","&\f"),"&\f")!=-1&&(_=-1);break}case 34:case 39:case 91:R+=rh(w);break;case 9:case 10:case 13:case 32:R+=P3(v);break;case 92:R+=A3(nh()-1,7);continue;case 47:switch(Kr()){case 42:case 47:Td(M3(N3(Gn(),nh()),e,n),l);break;default:R+="/"}break;case 123*T:a[c++]=Mr(R)*_;case 125*T:case 59:case 0:switch(w){case 0:case 125:x=0;case 59+d:_==-1&&(R=Le(R,/\f/g,"")),g>0&&Mr(R)-h&&Td(g>32?AT(R+";",r,n,h-1):AT(Le(R," ","")+";",r,n,h-2),l);break;case 59:R+=";";default:if(Td(M=PT(R,e,n,c,d,i,a,E,P=[],D=[],h),s),w===123)if(d===0)ih(R,e,M,M,P,s,h,a,D);else switch(f===99&&Qt(R,3)===110?100:f){case 100:case 108:case 109:case 115:ih(t,M,M,r&&Td(PT(t,M,M,0,0,i,a,E,i,P=[],h),D),i,D,h,a,r?P:D);break;default:ih(R,M,M,M,[""],D,0,a,D)}}c=d=g=0,T=_=1,E=R="",h=o;break;case 58:h=1+Mr(R),g=v;default:if(T<1){if(w==123)--T;else if(w==125&&T++==0&&k3()==125)continue}switch(R+=Tp(w),w*T){case 38:_=d>0?1:(R+="\f",-1);break;case 44:a[c++]=(Mr(R)-1)*_,_=1;break;case 64:Kr()===45&&(R+=rh(Gn())),f=Kr(),d=h=Mr(E=R+=O3(nh())),w++;break;case 45:v===45&&Mr(R)==2&&(T=0)}}return s}function PT(t,e,n,r,i,s,o,a,l,c,d){for(var h=i-1,f=i===0?s:[""],g=Z0(f),v=0,T=0,x=0;v<r;++v)for(var _=0,w=rc(t,h+1,h=C3(T=o[v])),E=t;_<g;++_)(E=WP(T>0?f[_]+" "+w:Le(w,/&\f/g,f[_])))&&(l[x++]=E);return bp(t,e,n,i===0?X0:a,l,c,d)}function M3(t,e,n){return bp(t,e,n,BP,Tp(R3()),rc(t,2,-2),0)}function AT(t,e,n,r){return bp(t,e,n,J0,rc(t,0,r),rc(t,r+1,-1),r)}function Sa(t,e){for(var n="",r=Z0(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function L3(t,e,n,r){switch(t.type){case S3:if(t.children.length)break;case E3:case J0:return t.return=t.return||t.value;case BP:return"";case zP:return t.return=t.value+"{"+Sa(t.children,r)+"}";case X0:t.value=t.props.join(",")}return Mr(n=Sa(t.children,r))?t.return=t.value+"{"+n+"}":""}function V3(t){var e=Z0(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function F3(t){return function(e){e.root||(e=e.return)&&t(e)}}var $3=function(e,n,r){for(var i=0,s=0;i=s,s=Kr(),i===38&&s===12&&(n[r]=1),!ic(s);)Gn();return Pc(e,$n)},j3=function(e,n){var r=-1,i=44;do switch(ic(i)){case 0:i===38&&Kr()===12&&(n[r]=1),e[r]+=$3($n-1,n,r);break;case 2:e[r]+=rh(i);break;case 4:if(i===44){e[++r]=Kr()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Tp(i)}while(i=Gn());return e},U3=function(e,n){return KP(j3(qP(e),n))},NT=new WeakMap,B3=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!NT.get(r))&&!i){NT.set(e,!0);for(var s=[],o=U3(n,s),a=r.props,l=0,c=0;l<o.length;l++)for(var d=0;d<a.length;d++,c++)e.props[c]=s[l]?o[l].replace(/&\f/g,a[d]):a[d]+" "+o[l]}}},z3=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function GP(t,e){switch(I3(t,e)){case 5103:return Me+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Me+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Me+t+mf+t+an+t+t;case 6828:case 4268:return Me+t+an+t+t;case 6165:return Me+t+an+"flex-"+t+t;case 5187:return Me+t+Le(t,/(\w+).+(:[^]+)/,Me+"box-$1$2"+an+"flex-$1$2")+t;case 5443:return Me+t+an+"flex-item-"+Le(t,/flex-|-self/,"")+t;case 4675:return Me+t+an+"flex-line-pack"+Le(t,/align-content|flex-|-self/,"")+t;case 5548:return Me+t+an+Le(t,"shrink","negative")+t;case 5292:return Me+t+an+Le(t,"basis","preferred-size")+t;case 6060:return Me+"box-"+Le(t,"-grow","")+Me+t+an+Le(t,"grow","positive")+t;case 4554:return Me+Le(t,/([^-])(transform)/g,"$1"+Me+"$2")+t;case 6187:return Le(Le(Le(t,/(zoom-|grab)/,Me+"$1"),/(image-set)/,Me+"$1"),t,"")+t;case 5495:case 3959:return Le(t,/(image-set\([^]*)/,Me+"$1$`$1");case 4968:return Le(Le(t,/(.+:)(flex-)?(.*)/,Me+"box-pack:$3"+an+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Me+t+t;case 4095:case 3583:case 4068:case 2532:return Le(t,/(.+)-inline(.+)/,Me+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Mr(t)-1-e>6)switch(Qt(t,e+1)){case 109:if(Qt(t,e+4)!==45)break;case 102:return Le(t,/(.+:)(.+)-([^]+)/,"$1"+Me+"$2-$3$1"+mf+(Qt(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~av(t,"stretch")?GP(Le(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Qt(t,e+1)!==115)break;case 6444:switch(Qt(t,Mr(t)-3-(~av(t,"!important")&&10))){case 107:return Le(t,":",":"+Me)+t;case 101:return Le(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Me+(Qt(t,14)===45?"inline-":"")+"box$3$1"+Me+"$2$3$1"+an+"$2box$3")+t}break;case 5936:switch(Qt(t,e+11)){case 114:return Me+t+an+Le(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Me+t+an+Le(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Me+t+an+Le(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Me+t+an+t+t}return t}var W3=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case J0:e.return=GP(e.value,e.length);break;case zP:return Sa([Vl(e,{value:Le(e.value,"@","@"+Me)})],i);case X0:if(e.length)return x3(e.props,function(s){switch(b3(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Sa([Vl(e,{props:[Le(s,/:(read-\w+)/,":"+mf+"$1")]})],i);case"::placeholder":return Sa([Vl(e,{props:[Le(s,/:(plac\w+)/,":"+Me+"input-$1")]}),Vl(e,{props:[Le(s,/:(plac\w+)/,":"+mf+"$1")]}),Vl(e,{props:[Le(s,/:(plac\w+)/,an+"input-$1")]})],i)}return""})}},H3=[W3],q3=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(T){var x=T.getAttribute("data-emotion");x.indexOf(" ")!==-1&&(document.head.appendChild(T),T.setAttribute("data-s",""))})}var i=e.stylisPlugins||H3,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(T){for(var x=T.getAttribute("data-emotion").split(" "),_=1;_<x.length;_++)s[x[_]]=!0;a.push(T)});var l,c=[B3,z3];{var d,h=[L3,F3(function(T){d.insert(T)})],f=V3(c.concat(i,h)),g=function(x){return Sa(D3(x),f)};l=function(x,_,w,E){d=w,g(x?x+"{"+_.styles+"}":_.styles),E&&(v.inserted[_.name]=!0)}}var v={key:n,sheet:new w3({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return v.sheet.hydrate(a),v},QP={exports:{}},ze={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qt=typeof Symbol=="function"&&Symbol.for,ew=qt?Symbol.for("react.element"):60103,tw=qt?Symbol.for("react.portal"):60106,xp=qt?Symbol.for("react.fragment"):60107,Rp=qt?Symbol.for("react.strict_mode"):60108,kp=qt?Symbol.for("react.profiler"):60114,Pp=qt?Symbol.for("react.provider"):60109,Ap=qt?Symbol.for("react.context"):60110,nw=qt?Symbol.for("react.async_mode"):60111,Np=qt?Symbol.for("react.concurrent_mode"):60111,Op=qt?Symbol.for("react.forward_ref"):60112,Dp=qt?Symbol.for("react.suspense"):60113,K3=qt?Symbol.for("react.suspense_list"):60120,Mp=qt?Symbol.for("react.memo"):60115,Lp=qt?Symbol.for("react.lazy"):60116,G3=qt?Symbol.for("react.block"):60121,Q3=qt?Symbol.for("react.fundamental"):60117,Y3=qt?Symbol.for("react.responder"):60118,X3=qt?Symbol.for("react.scope"):60119;function Jn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case ew:switch(t=t.type,t){case nw:case Np:case xp:case kp:case Rp:case Dp:return t;default:switch(t=t&&t.$$typeof,t){case Ap:case Op:case Lp:case Mp:case Pp:return t;default:return e}}case tw:return e}}}function YP(t){return Jn(t)===Np}ze.AsyncMode=nw;ze.ConcurrentMode=Np;ze.ContextConsumer=Ap;ze.ContextProvider=Pp;ze.Element=ew;ze.ForwardRef=Op;ze.Fragment=xp;ze.Lazy=Lp;ze.Memo=Mp;ze.Portal=tw;ze.Profiler=kp;ze.StrictMode=Rp;ze.Suspense=Dp;ze.isAsyncMode=function(t){return YP(t)||Jn(t)===nw};ze.isConcurrentMode=YP;ze.isContextConsumer=function(t){return Jn(t)===Ap};ze.isContextProvider=function(t){return Jn(t)===Pp};ze.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===ew};ze.isForwardRef=function(t){return Jn(t)===Op};ze.isFragment=function(t){return Jn(t)===xp};ze.isLazy=function(t){return Jn(t)===Lp};ze.isMemo=function(t){return Jn(t)===Mp};ze.isPortal=function(t){return Jn(t)===tw};ze.isProfiler=function(t){return Jn(t)===kp};ze.isStrictMode=function(t){return Jn(t)===Rp};ze.isSuspense=function(t){return Jn(t)===Dp};ze.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===xp||t===Np||t===kp||t===Rp||t===Dp||t===K3||typeof t=="object"&&t!==null&&(t.$$typeof===Lp||t.$$typeof===Mp||t.$$typeof===Pp||t.$$typeof===Ap||t.$$typeof===Op||t.$$typeof===Q3||t.$$typeof===Y3||t.$$typeof===X3||t.$$typeof===G3)};ze.typeOf=Jn;QP.exports=ze;var J3=QP.exports,XP=J3,Z3={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},e6={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},JP={};JP[XP.ForwardRef]=Z3;JP[XP.Memo]=e6;var t6=!0;function n6(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var ZP=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||t6===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},eA=function(e,n,r){ZP(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function r6(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var i6={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},s6=!1,o6=/[A-Z]|^ms/g,a6=/_EMO_([^_]+?)_([^]*?)_EMO_/g,tA=function(e){return e.charCodeAt(1)===45},OT=function(e){return e!=null&&typeof e!="boolean"},gg=UP(function(t){return tA(t)?t:t.replace(o6,"-$&").toLowerCase()}),DT=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(a6,function(r,i,s){return Lr={name:i,styles:s,next:Lr},i})}return i6[e]!==1&&!tA(e)&&typeof n=="number"&&n!==0?n+"px":n},l6="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function sc(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return Lr={name:i.name,styles:i.styles,next:Lr},i.name;var s=n;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)Lr={name:o.name,styles:o.styles,next:Lr},o=o.next;var a=s.styles+";";return a}return u6(t,e,n)}case"function":{if(t!==void 0){var l=Lr,c=n(t);return Lr=l,sc(t,e,c)}break}}var d=n;if(e==null)return d;var h=e[d];return h!==void 0?h:d}function u6(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=sc(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object"){var a=o;e!=null&&e[a]!==void 0?r+=s+"{"+e[a]+"}":OT(a)&&(r+=gg(s)+":"+DT(s,a)+";")}else{if(s==="NO_COMPONENT_SELECTOR"&&s6)throw new Error(l6);if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var l=0;l<o.length;l++)OT(o[l])&&(r+=gg(s)+":"+DT(s,o[l])+";");else{var c=sc(t,e,o);switch(s){case"animation":case"animationName":{r+=gg(s)+":"+c+";";break}default:r+=s+"{"+c+"}"}}}}return r}var MT=/label:\s*([^\s;{]+)\s*(;|$)/g,Lr;function Vp(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";Lr=void 0;var s=t[0];if(s==null||s.raw===void 0)r=!1,i+=sc(n,e,s);else{var o=s;i+=o[0]}for(var a=1;a<t.length;a++)if(i+=sc(n,e,t[a]),r){var l=s;i+=l[a]}MT.lastIndex=0;for(var c="",d;(d=MT.exec(i))!==null;)c+="-"+d[1];var h=r6(i)+c;return{name:h,styles:i,next:Lr}}var c6=function(e){return e()},nA=bg.useInsertionEffect?bg.useInsertionEffect:!1,d6=nA||c6,LT=nA||S.useLayoutEffect,rA=S.createContext(typeof HTMLElement<"u"?q3({key:"css"}):null);rA.Provider;var iA=function(e){return S.forwardRef(function(n,r){var i=S.useContext(rA);return e(n,i,r)})},rw=S.createContext({}),h6=iA(function(t,e){var n=t.styles,r=Vp([n],void 0,S.useContext(rw)),i=S.useRef();return LT(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),i.current=[o,a],function(){o.flush()}},[e]),LT(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&eA(e,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function iw(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Vp(e)}var Ac=function(){var e=iw.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},f6=g3,p6=function(e){return e!=="theme"},VT=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?f6:p6},FT=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},m6=!1,g6=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return ZP(n,r,i),d6(function(){return eA(n,r,i)}),null},y6=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=FT(e,n,r),l=a||VT(i),c=!l("as");return function(){var d=arguments,h=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&h.push("label:"+s+";"),d[0]==null||d[0].raw===void 0)h.push.apply(h,d);else{h.push(d[0][0]);for(var f=d.length,g=1;g<f;g++)h.push(d[g],d[0][g])}var v=iA(function(T,x,_){var w=c&&T.as||i,E="",P=[],D=T;if(T.theme==null){D={};for(var M in T)D[M]=T[M];D.theme=S.useContext(rw)}typeof T.className=="string"?E=n6(x.registered,P,T.className):T.className!=null&&(E=T.className+" ");var R=Vp(h.concat(P),x.registered,D);E+=x.key+"-"+R.name,o!==void 0&&(E+=" "+o);var b=c&&a===void 0?VT(w):l,k={};for(var m in T)c&&m==="as"||b(m)&&(k[m]=T[m]);return k.className=E,_&&(k.ref=_),S.createElement(S.Fragment,null,S.createElement(g6,{cache:x,serialized:R,isStringTag:typeof w=="string"}),S.createElement(w,k))});return v.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",v.defaultProps=e.defaultProps,v.__emotion_real=v,v.__emotion_base=i,v.__emotion_styles=h,v.__emotion_forwardProp=a,Object.defineProperty(v,"toString",{value:function(){return o===void 0&&m6?"NO_COMPONENT_SELECTOR":"."+o}}),v.withComponent=function(T,x){return t(T,pf({},n,x,{shouldForwardProp:FT(v,x,!0)})).apply(void 0,h)},v}},v6=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],uv=y6.bind();v6.forEach(function(t){uv[t]=uv(t)});function _6(t){return t==null||Object.keys(t).length===0}function w6(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(_6(i)?n:i):e;return I.jsx(h6,{styles:r})}/**
 * @mui/styled-engine v6.1.7
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function sA(t,e){return uv(t,e)}function E6(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const $T=[];function jT(t){return $T[0]=t,Vp($T)}function Fr(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function oA(t){if(!Fr(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=oA(t[n])}),e}function pn(t,e,n={clone:!0}){const r=n.clone?{...t}:t;return Fr(t)&&Fr(e)&&Object.keys(e).forEach(i=>{Fr(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&Fr(t[i])?r[i]=pn(t[i],e[i],n):n.clone?r[i]=Fr(e[i])?oA(e[i]):e[i]:r[i]=e[i]}),r}const S6=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function C6(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=t,s=S6(e),o=Object.keys(s);function a(f){return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${n})`}function l(f){return`@media (max-width:${(typeof e[f]=="number"?e[f]:f)-r/100}${n})`}function c(f,g){const v=o.indexOf(g);return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${n}) and (max-width:${(v!==-1&&typeof e[o[v]]=="number"?e[o[v]]:g)-r/100}${n})`}function d(f){return o.indexOf(f)+1<o.length?c(f,o[o.indexOf(f)+1]):a(f)}function h(f){const g=o.indexOf(f);return g===0?a(o[1]):g===o.length-1?l(o[g]):c(f,o[o.indexOf(f)+1]).replace("@media","@media not all and")}return{keys:o,values:s,up:a,down:l,between:c,only:d,not:h,unit:n,...i}}function T6(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var o,a;const s=/min-width:\s*([0-9.]+)/;return+(((o=r.match(s))==null?void 0:o[1])||0)-+(((a=i.match(s))==null?void 0:a[1])||0)});return n.length?n.reduce((r,i)=>{const s=e[i];return delete r[i],r[i]=s,r},{...e}):e}function I6(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function b6(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,s=Number.isNaN(+r)?r||0:+r;return t.containerQueries(i).up(s)}function x6(t){const e=(s,o)=>s.replace("@media",o?`@container ${o}`:"@container");function n(s,o){s.up=(...a)=>e(t.breakpoints.up(...a),o),s.down=(...a)=>e(t.breakpoints.down(...a),o),s.between=(...a)=>e(t.breakpoints.between(...a),o),s.only=(...a)=>e(t.breakpoints.only(...a),o),s.not=(...a)=>{const l=e(t.breakpoints.not(...a),o);return l.includes("not all and")?l.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):l}}const r={},i=s=>(n(r,s),r);return n(i),{...t,containerQueries:i}}const R6={borderRadius:4};function _u(t,e){return e?pn(t,e,{clone:!1}):t}const Fp={xs:0,sm:600,md:900,lg:1200,xl:1536},UT={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${Fp[t]}px)`},k6={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:Fp[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function xi(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||UT;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||UT;return Object.keys(e).reduce((o,a)=>{if(I6(s.keys,a)){const l=b6(r.containerQueries?r:k6,a);l&&(o[l]=n(e[a],a))}else if(Object.keys(s.values||Fp).includes(a)){const l=s.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function P6(t={}){var n;return((n=t.keys)==null?void 0:n.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function A6(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function le(t){if(typeof t!="string")throw new Error(bi(7));return t.charAt(0).toUpperCase()+t.slice(1)}function $p(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function gf(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=$p(t,n)||r,e&&(i=e(i,r,t)),i}function Tt(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,c=$p(l,r)||{};return xi(o,a,h=>{let f=gf(c,i,h);return h===f&&typeof h=="string"&&(f=gf(c,i,`${e}${h==="default"?"":le(h)}`,h)),n===!1?f:{[n]:f}})};return s.propTypes={},s.filterProps=[e],s}function N6(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const O6={m:"margin",p:"padding"},D6={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},BT={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},M6=N6(t=>{if(t.length>2)if(BT[t])t=BT[t];else return[t];const[e,n]=t.split(""),r=O6[e],i=D6[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),sw=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],ow=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...sw,...ow];function Nc(t,e,n,r){const i=$p(t,e,!0)??n;return typeof i=="number"||typeof i=="string"?s=>typeof s=="string"?s:typeof i=="string"?`calc(${s} * ${i})`:i*s:Array.isArray(i)?s=>{if(typeof s=="string")return s;const o=Math.abs(s),a=i[o];return s>=0?a:typeof a=="number"?-a:`-${a}`}:typeof i=="function"?i:()=>{}}function aw(t){return Nc(t,"spacing",8)}function Oc(t,e){return typeof e=="string"||e==null?e:t(e)}function L6(t,e){return n=>t.reduce((r,i)=>(r[i]=Oc(e,n),r),{})}function V6(t,e,n,r){if(!e.includes(n))return null;const i=M6(n),s=L6(i,r),o=t[n];return xi(t,o,s)}function aA(t,e){const n=aw(t.theme);return Object.keys(t).map(r=>V6(t,e,r,n)).reduce(_u,{})}function mt(t){return aA(t,sw)}mt.propTypes={};mt.filterProps=sw;function gt(t){return aA(t,ow)}gt.propTypes={};gt.filterProps=ow;function lA(t=8,e=aw({spacing:t})){if(t.mui)return t;const n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function jp(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?_u(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function rr(t){return typeof t!="number"?t:`${t}px solid`}function lr(t,e){return Tt({prop:t,themeKey:"borders",transform:e})}const F6=lr("border",rr),$6=lr("borderTop",rr),j6=lr("borderRight",rr),U6=lr("borderBottom",rr),B6=lr("borderLeft",rr),z6=lr("borderColor"),W6=lr("borderTopColor"),H6=lr("borderRightColor"),q6=lr("borderBottomColor"),K6=lr("borderLeftColor"),G6=lr("outline",rr),Q6=lr("outlineColor"),Up=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Nc(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:Oc(e,r)});return xi(t,t.borderRadius,n)}return null};Up.propTypes={};Up.filterProps=["borderRadius"];jp(F6,$6,j6,U6,B6,z6,W6,H6,q6,K6,Up,G6,Q6);const Bp=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Nc(t.theme,"spacing",8),n=r=>({gap:Oc(e,r)});return xi(t,t.gap,n)}return null};Bp.propTypes={};Bp.filterProps=["gap"];const zp=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Nc(t.theme,"spacing",8),n=r=>({columnGap:Oc(e,r)});return xi(t,t.columnGap,n)}return null};zp.propTypes={};zp.filterProps=["columnGap"];const Wp=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Nc(t.theme,"spacing",8),n=r=>({rowGap:Oc(e,r)});return xi(t,t.rowGap,n)}return null};Wp.propTypes={};Wp.filterProps=["rowGap"];const Y6=Tt({prop:"gridColumn"}),X6=Tt({prop:"gridRow"}),J6=Tt({prop:"gridAutoFlow"}),Z6=Tt({prop:"gridAutoColumns"}),ez=Tt({prop:"gridAutoRows"}),tz=Tt({prop:"gridTemplateColumns"}),nz=Tt({prop:"gridTemplateRows"}),rz=Tt({prop:"gridTemplateAreas"}),iz=Tt({prop:"gridArea"});jp(Bp,zp,Wp,Y6,X6,J6,Z6,ez,tz,nz,rz,iz);function Ca(t,e){return e==="grey"?e:t}const sz=Tt({prop:"color",themeKey:"palette",transform:Ca}),oz=Tt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Ca}),az=Tt({prop:"backgroundColor",themeKey:"palette",transform:Ca});jp(sz,oz,az);function zn(t){return t<=1&&t!==0?`${t*100}%`:t}const lz=Tt({prop:"width",transform:zn}),lw=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var i,s,o,a,l;const r=((o=(s=(i=t.theme)==null?void 0:i.breakpoints)==null?void 0:s.values)==null?void 0:o[n])||Fp[n];return r?((l=(a=t.theme)==null?void 0:a.breakpoints)==null?void 0:l.unit)!=="px"?{maxWidth:`${r}${t.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:zn(n)}};return xi(t,t.maxWidth,e)}return null};lw.filterProps=["maxWidth"];const uz=Tt({prop:"minWidth",transform:zn}),cz=Tt({prop:"height",transform:zn}),dz=Tt({prop:"maxHeight",transform:zn}),hz=Tt({prop:"minHeight",transform:zn});Tt({prop:"size",cssProperty:"width",transform:zn});Tt({prop:"size",cssProperty:"height",transform:zn});const fz=Tt({prop:"boxSizing"});jp(lz,lw,uz,cz,dz,hz,fz);const Dc={border:{themeKey:"borders",transform:rr},borderTop:{themeKey:"borders",transform:rr},borderRight:{themeKey:"borders",transform:rr},borderBottom:{themeKey:"borders",transform:rr},borderLeft:{themeKey:"borders",transform:rr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:rr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Up},color:{themeKey:"palette",transform:Ca},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Ca},backgroundColor:{themeKey:"palette",transform:Ca},p:{style:gt},pt:{style:gt},pr:{style:gt},pb:{style:gt},pl:{style:gt},px:{style:gt},py:{style:gt},padding:{style:gt},paddingTop:{style:gt},paddingRight:{style:gt},paddingBottom:{style:gt},paddingLeft:{style:gt},paddingX:{style:gt},paddingY:{style:gt},paddingInline:{style:gt},paddingInlineStart:{style:gt},paddingInlineEnd:{style:gt},paddingBlock:{style:gt},paddingBlockStart:{style:gt},paddingBlockEnd:{style:gt},m:{style:mt},mt:{style:mt},mr:{style:mt},mb:{style:mt},ml:{style:mt},mx:{style:mt},my:{style:mt},margin:{style:mt},marginTop:{style:mt},marginRight:{style:mt},marginBottom:{style:mt},marginLeft:{style:mt},marginX:{style:mt},marginY:{style:mt},marginInline:{style:mt},marginInlineStart:{style:mt},marginInlineEnd:{style:mt},marginBlock:{style:mt},marginBlockStart:{style:mt},marginBlockEnd:{style:mt},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Bp},rowGap:{style:Wp},columnGap:{style:zp},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:zn},maxWidth:{style:lw},minWidth:{transform:zn},height:{transform:zn},maxHeight:{transform:zn},minHeight:{transform:zn},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function pz(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function mz(t,e){return typeof t=="function"?t(e):t}function gz(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:d,style:h}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const f=$p(i,c)||{};return h?h(o):xi(o,r,v=>{let T=gf(f,d,v);return v===T&&typeof v=="string"&&(T=gf(f,d,`${n}${v==="default"?"":le(v)}`,v)),l===!1?T:{[l]:T}})}function e(n){const{sx:r,theme:i={}}=n||{};if(!r)return null;const s=i.unstable_sxConfig??Dc;function o(a){let l=a;if(typeof a=="function")l=a(i);else if(typeof a!="object")return a;if(!l)return null;const c=P6(i.breakpoints),d=Object.keys(c);let h=c;return Object.keys(l).forEach(f=>{const g=mz(l[f],i);if(g!=null)if(typeof g=="object")if(s[f])h=_u(h,t(f,g,i,s));else{const v=xi({theme:i},g,T=>({[f]:T}));pz(v,g)?h[f]=e({sx:g,theme:i}):h=_u(h,v)}else h=_u(h,t(f,g,i,s))}),T6(i,A6(d,h))}return Array.isArray(r)?r.map(o):o(r)}return e}const yo=gz();yo.filterProps=["sx"];function yz(t,e){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[t])||typeof n.getColorSchemeSelector!="function")return{};let i=n.getColorSchemeSelector(t);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return n.palette.mode===t?e:{}}function uw(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={},...o}=t,a=C6(n),l=lA(i);let c=pn({breakpoints:a,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:l,shape:{...R6,...s}},o);return c=x6(c),c.applyStyles=yz,c=e.reduce((d,h)=>pn(d,h),c),c.unstable_sxConfig={...Dc,...o==null?void 0:o.unstable_sxConfig},c.unstable_sx=function(h){return yo({sx:h,theme:this})},c}function vz(t){return Object.keys(t).length===0}function _z(t=null){const e=S.useContext(rw);return!e||vz(e)?t:e}const wz=uw();function cw(t=wz){return _z(t)}function Ez({styles:t,themeId:e,defaultTheme:n={}}){const r=cw(n),i=typeof t=="function"?t(e&&r[e]||r):t;return I.jsx(w6,{styles:i})}const Sz=t=>{var r;const e={systemProps:{},otherProps:{}},n=((r=t==null?void 0:t.theme)==null?void 0:r.unstable_sxConfig)??Dc;return Object.keys(t).forEach(i=>{n[i]?e.systemProps[i]=t[i]:e.otherProps[i]=t[i]}),e};function uA(t){const{sx:e,...n}=t,{systemProps:r,otherProps:i}=Sz(n);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return Fr(a)?{...r,...a}:r}:s={...r,...e},{...i,sx:s}}const zT=t=>t,Cz=()=>{let t=zT;return{configure(e){t=e},generate(e){return t(e)},reset(){t=zT}}},cA=Cz();function dA(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=dA(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function fe(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=dA(t))&&(r&&(r+=" "),r+=e);return r}function Tz(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,s=sA("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(yo);return S.forwardRef(function(l,c){const d=cw(n),{className:h,component:f="div",...g}=uA(l);return I.jsx(s,{as:f,ref:c,className:fe(h,i?i(r):r),theme:e&&d[e]||d,...g})})}const Iz={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Oe(t,e,n="Mui"){const r=Iz[e];return r?`${n}-${r}`:`${cA.generate(t)}-${e}`}function Te(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=Oe(t,i,n)}),r}function hA(t){const{variants:e,...n}=t,r={variants:e,style:jT(n),isProcessed:!0};return r.style===n||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=jT(i.style))}),r}const bz=uw();function yg(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function xz(t){return t?(e,n)=>n[t]:null}function Rz(t,e,n){t.theme=Az(t.theme)?n:t.theme[e]||t.theme}function sh(t,e){const n=typeof e=="function"?e(t):e;if(Array.isArray(n))return n.flatMap(r=>sh(t,r));if(Array.isArray(n==null?void 0:n.variants)){let r;if(n.isProcessed)r=n.style;else{const{variants:i,...s}=n;r=s}return fA(t,n.variants,[r])}return n!=null&&n.isProcessed?n.style:n}function fA(t,e,n=[]){var i;let r;e:for(let s=0;s<e.length;s+=1){const o=e[s];if(typeof o.props=="function"){if(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),!o.props(r))continue}else for(const a in o.props)if(t[a]!==o.props[a]&&((i=t.ownerState)==null?void 0:i[a])!==o.props[a])continue e;typeof o.style=="function"?(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),n.push(o.style(r))):n.push(o.style)}return n}function kz(t={}){const{themeId:e,defaultTheme:n=bz,rootShouldForwardProp:r=yg,slotShouldForwardProp:i=yg}=t;function s(a){Rz(a,e,n)}return(a,l={})=>{E6(a,D=>D.filter(M=>M!==yo));const{name:c,slot:d,skipVariantsResolver:h,skipSx:f,overridesResolver:g=xz(Oz(d)),...v}=l,T=h!==void 0?h:d&&d!=="Root"&&d!=="root"||!1,x=f||!1;let _=yg;d==="Root"||d==="root"?_=r:d?_=i:Nz(a)&&(_=void 0);const w=sA(a,{shouldForwardProp:_,label:Pz(),...v}),E=D=>{if(typeof D=="function"&&D.__emotion_real!==D)return function(R){return sh(R,D)};if(Fr(D)){const M=hA(D);return M.variants?function(b){return sh(b,M)}:M.style}return D},P=(...D)=>{const M=[],R=D.map(E),b=[];if(M.push(s),c&&g&&b.push(function(O){var j,Q;const W=(Q=(j=O.theme.components)==null?void 0:j[c])==null?void 0:Q.styleOverrides;if(!W)return null;const z={};for(const F in W)z[F]=sh(O,W[F]);return g(O,z)}),c&&!T&&b.push(function(O){var z,j;const N=O.theme,W=(j=(z=N==null?void 0:N.components)==null?void 0:z[c])==null?void 0:j.variants;return W?fA(O,W):null}),x||b.push(yo),Array.isArray(R[0])){const C=R.shift(),O=new Array(M.length).fill(""),N=new Array(b.length).fill("");let W;W=[...O,...C,...N],W.raw=[...O,...C.raw,...N],M.unshift(W)}const k=[...M,...R,...b],m=w(...k);return a.muiName&&(m.muiName=a.muiName),m};return w.withConfig&&(P.withConfig=w.withConfig),P}}function Pz(t,e){return void 0}function Az(t){for(const e in t)return!1;return!0}function Nz(t){return typeof t=="string"&&t.charCodeAt(0)>96}function Oz(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}function yf(t,e){const n={...e};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const i=r;if(i==="components"||i==="slots")n[i]={...t[i],...n[i]};else if(i==="componentsProps"||i==="slotProps"){const s=t[i],o=e[i];if(!o)n[i]=s||{};else if(!s)n[i]=o;else{n[i]={...o};for(const a in s)if(Object.prototype.hasOwnProperty.call(s,a)){const l=a;n[i][l]=yf(s[l],o[l])}}}else n[i]===void 0&&(n[i]=t[i])}return n}const Is=typeof window<"u"?S.useLayoutEffect:S.useEffect;function Dz(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}function dw(t,e=0,n=1){return Dz(t,e,n)}function Mz(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function bs(t){if(t.type)return t;if(t.charAt(0)==="#")return bs(Mz(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(bi(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(bi(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const Lz=t=>{const e=bs(t);return e.values.slice(0,3).map((n,r)=>e.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},Xl=(t,e)=>{try{return Lz(t)}catch{return t}};function Hp(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.includes("rgb")?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function pA(t){t=bs(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(c,d=(c+n/30)%12)=>i-s*Math.max(Math.min(d-3,9-d,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),Hp({type:a,values:l})}function cv(t){t=bs(t);let e=t.type==="hsl"||t.type==="hsla"?bs(pA(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function Vz(t,e){const n=cv(t),r=cv(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function fn(t,e){return t=bs(t),e=dw(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Hp(t)}function Id(t,e,n){try{return fn(t,e)}catch{return t}}function qp(t,e){if(t=bs(t),e=dw(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return Hp(t)}function Ke(t,e,n){try{return qp(t,e)}catch{return t}}function Kp(t,e){if(t=bs(t),e=dw(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return Hp(t)}function Ge(t,e,n){try{return Kp(t,e)}catch{return t}}function mA(t,e=.15){return cv(t)>.5?qp(t,e):Kp(t,e)}function bd(t,e,n){try{return mA(t,e)}catch{return t}}function WT(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function gA(t,e=166){let n;function r(...i){const s=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(s,e)}return r.clear=()=>{clearTimeout(n)},r}function vg(t,e){var n,r,i;return S.isValidElement(t)&&e.indexOf(t.type.muiName??((i=(r=(n=t.type)==null?void 0:n._payload)==null?void 0:r.value)==null?void 0:i.muiName))!==-1}function Vn(t){return t&&t.ownerDocument||document}function Ri(t){return Vn(t).defaultView||window}function dv(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let HT=0;function Fz(t){const[e,n]=S.useState(t),r=t||e;return S.useEffect(()=>{e==null&&(HT+=1,n(`mui-${HT}`))},[e]),r}const $z={...bg},qT=$z.useId;function yA(t){if(qT!==void 0){const e=qT();return t??e}return Fz(t)}function KT({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=S.useRef(t!==void 0),[s,o]=S.useState(e),a=i?t:s,l=S.useCallback(c=>{i||o(c)},[]);return[a,l]}function ci(t){const e=S.useRef(t);return Is(()=>{e.current=t}),S.useRef((...n)=>(0,e.current)(...n)).current}function Ht(...t){return S.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{dv(n,e)})},t)}const GT={};function vA(t,e){const n=S.useRef(GT);return n.current===GT&&(n.current=t(e)),n}const jz=[];function Uz(t){S.useEffect(t,jz)}class hw{constructor(){Sl(this,"currentId",null);Sl(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});Sl(this,"disposeEffect",()=>this.clear)}static create(){return new hw}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function fw(){const t=vA(hw.create).current;return Uz(t.disposeEffect),t}function QT(t){try{return t.matches(":focus-visible")}catch{}return!1}function _A(t=window){const e=t.document.documentElement.clientWidth;return t.innerWidth-e}function Fe(t,e,n=void 0){const r={};for(const i in t){const s=t[i];let o="",a=!0;for(let l=0;l<s.length;l+=1){const c=s[l];c&&(o+=(a===!0?"":" ")+e(c),a=!1,n&&n[c]&&(o+=" "+n[c]))}r[i]=o}return r}function Bz(t){return typeof t=="string"}function wA(t,e,n){return t===void 0||Bz(t)?e:{...e,ownerState:{...e.ownerState,...n}}}function vf(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function YT(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function EA(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=t;if(!e){const g=fe(n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),v={...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},T={...n,...i,...r};return g.length>0&&(T.className=g),Object.keys(v).length>0&&(T.style=v),{props:T,internalRef:void 0}}const o=vf({...i,...r}),a=YT(r),l=YT(i),c=e(o),d=fe(c==null?void 0:c.className,n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),h={...c==null?void 0:c.style,...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},f={...c,...n,...l,...a};return d.length>0&&(f.className=d),Object.keys(h).length>0&&(f.style=h),{props:f,internalRef:c.ref}}function SA(t,e,n){return typeof t=="function"?t(e,n):t}function hv(t){var h;const{elementType:e,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:i=!1,...s}=t,o=i?{}:SA(n,r),{props:a,internalRef:l}=EA({...s,externalSlotProps:o}),c=Ht(l,o==null?void 0:o.ref,(h=t.additionalProps)==null?void 0:h.ref);return wA(e,{...a,ref:c},r)}function al(t){var e;return parseInt(S.version,10)>=19?((e=t==null?void 0:t.props)==null?void 0:e.ref)||null:(t==null?void 0:t.ref)||null}const zz=S.createContext(),Wz=()=>S.useContext(zz)??!1,Hz=S.createContext(void 0);function qz(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?yf(i.defaultProps,r):!i.styleOverrides&&!i.variants?yf(i,r):r}function Kz({props:t,name:e}){const n=S.useContext(Hz);return qz({props:t,name:e,theme:{components:n}})}const XT={theme:void 0};function Gz(t){let e,n;return function(i){let s=e;return(s===void 0||i.theme!==n)&&(XT.theme=i.theme,s=hA(t(XT)),e=s,n=i.theme),s}}function Qz(t=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${t?`${t}-`:""}${r}${e(...i)})`}const JT=(t,e,n,r=[])=>{let i=t;e.forEach((s,o)=>{o===e.length-1?Array.isArray(i)?i[Number(s)]=n:i&&typeof i=="object"&&(i[s]=n):i&&typeof i=="object"&&(i[s]||(i[s]=r.includes(s)?[]:{}),i=i[s])})},Yz=(t,e,n)=>{function r(i,s=[],o=[]){Object.entries(i).forEach(([a,l])=>{(!n||n&&!n([...s,a]))&&l!=null&&(typeof l=="object"&&Object.keys(l).length>0?r(l,[...s,a],Array.isArray(l)?[...o,a]:o):e([...s,a],l,o))})}r(t)},Xz=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>t.includes(r))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function _g(t,e){const{prefix:n,shouldSkipGeneratingVar:r}=e||{},i={},s={},o={};return Yz(t,(a,l,c)=>{if((typeof l=="string"||typeof l=="number")&&(!r||!r(a,l))){const d=`--${n?`${n}-`:""}${a.join("-")}`,h=Xz(a,l);Object.assign(i,{[d]:h}),JT(s,a,`var(${d})`,c),JT(o,a,`var(${d}, ${h})`,c)}},a=>a[0]==="vars"),{css:i,vars:s,varsWithDefaults:o}}function Jz(t,e={}){const{getSelector:n=x,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:s={},components:o,defaultColorScheme:a="light",...l}=t,{vars:c,css:d,varsWithDefaults:h}=_g(l,e);let f=h;const g={},{[a]:v,...T}=s;if(Object.entries(T||{}).forEach(([E,P])=>{const{vars:D,css:M,varsWithDefaults:R}=_g(P,e);f=pn(f,R),g[E]={css:M,vars:D}}),v){const{css:E,vars:P,varsWithDefaults:D}=_g(v,e);f=pn(f,D),g[a]={css:E,vars:P}}function x(E,P){var M,R;let D=i;if(i==="class"&&(D=".%s"),i==="data"&&(D="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(D=`[${i}="%s"]`),E){if(D==="media")return t.defaultColorScheme===E?":root":{[`@media (prefers-color-scheme: ${((R=(M=s[E])==null?void 0:M.palette)==null?void 0:R.mode)||E})`]:{":root":P}};if(D)return t.defaultColorScheme===E?`:root, ${D.replace("%s",String(E))}`:D.replace("%s",String(E))}return":root"}return{vars:f,generateThemeVars:()=>{let E={...c};return Object.entries(g).forEach(([,{vars:P}])=>{E=pn(E,P)}),E},generateStyleSheets:()=>{var b,k;const E=[],P=t.defaultColorScheme||"light";function D(m,C){Object.keys(C).length&&E.push(typeof m=="string"?{[m]:{...C}}:m)}D(n(void 0,{...d}),d);const{[P]:M,...R}=g;if(M){const{css:m}=M,C=(k=(b=s[P])==null?void 0:b.palette)==null?void 0:k.mode,O=!r&&C?{colorScheme:C,...m}:{...m};D(n(P,{...O}),O)}return Object.entries(R).forEach(([m,{css:C}])=>{var W,z;const O=(z=(W=s[m])==null?void 0:W.palette)==null?void 0:z.mode,N=!r&&O?{colorScheme:O,...C}:{...C};D(n(m,{...N}),N)}),E}}}function Zz(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}function CA(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:nc.white,default:nc.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const e9=CA();function TA(){return{text:{primary:nc.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:nc.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const ZT=TA();function eI(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=Kp(t.main,i):e==="dark"&&(t.dark=qp(t.main,s)))}function t9(t="light"){return t==="dark"?{main:Vo[200],light:Vo[50],dark:Vo[400]}:{main:Vo[700],light:Vo[400],dark:Vo[800]}}function n9(t="light"){return t==="dark"?{main:Lo[200],light:Lo[50],dark:Lo[400]}:{main:Lo[500],light:Lo[300],dark:Lo[700]}}function r9(t="light"){return t==="dark"?{main:Mo[500],light:Mo[300],dark:Mo[700]}:{main:Mo[700],light:Mo[400],dark:Mo[800]}}function i9(t="light"){return t==="dark"?{main:Fo[400],light:Fo[300],dark:Fo[700]}:{main:Fo[700],light:Fo[500],dark:Fo[900]}}function s9(t="light"){return t==="dark"?{main:$o[400],light:$o[300],dark:$o[700]}:{main:$o[800],light:$o[500],dark:$o[900]}}function o9(t="light"){return t==="dark"?{main:Ll[400],light:Ll[300],dark:Ll[700]}:{main:"#ed6c02",light:Ll[500],dark:Ll[900]}}function pw(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2,...i}=t,s=t.primary||t9(e),o=t.secondary||n9(e),a=t.error||r9(e),l=t.info||i9(e),c=t.success||s9(e),d=t.warning||o9(e);function h(T){return Vz(T,ZT.text.primary)>=n?ZT.text.primary:e9.text.primary}const f=({color:T,name:x,mainShade:_=500,lightShade:w=300,darkShade:E=700})=>{if(T={...T},!T.main&&T[_]&&(T.main=T[_]),!T.hasOwnProperty("main"))throw new Error(bi(11,x?` (${x})`:"",_));if(typeof T.main!="string")throw new Error(bi(12,x?` (${x})`:"",JSON.stringify(T.main)));return eI(T,"light",w,r),eI(T,"dark",E,r),T.contrastText||(T.contrastText=h(T.main)),T};let g;return e==="light"?g=CA():e==="dark"&&(g=TA()),pn({common:{...nc},mode:e,primary:f({color:s,name:"primary"}),secondary:f({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:f({color:a,name:"error"}),warning:f({color:d,name:"warning"}),info:f({color:l,name:"info"}),success:f({color:c,name:"success"}),grey:p3,contrastThreshold:n,getContrastText:h,augmentColor:f,tonalOffset:r,...g},i)}function a9(t){const e={};return Object.entries(t).forEach(r=>{const[i,s]=r;typeof s=="object"&&(e[i]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),e}function l9(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function u9(t){return Math.round(t*1e5)/1e5}const tI={textTransform:"uppercase"},nI='"Roboto", "Helvetica", "Arial", sans-serif';function c9(t,e){const{fontFamily:n=nI,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:s=400,fontWeightMedium:o=500,fontWeightBold:a=700,htmlFontSize:l=16,allVariants:c,pxToRem:d,...h}=typeof e=="function"?e(t):e,f=r/14,g=d||(x=>`${x/l*f}rem`),v=(x,_,w,E,P)=>({fontFamily:n,fontWeight:x,fontSize:g(_),lineHeight:w,...n===nI?{letterSpacing:`${u9(E/_)}em`}:{},...P,...c}),T={h1:v(i,96,1.167,-1.5),h2:v(i,60,1.2,-.5),h3:v(s,48,1.167,0),h4:v(s,34,1.235,.25),h5:v(s,24,1.334,0),h6:v(o,20,1.6,.15),subtitle1:v(s,16,1.75,.15),subtitle2:v(o,14,1.57,.1),body1:v(s,16,1.5,.15),body2:v(s,14,1.43,.15),button:v(o,14,1.75,.4,tI),caption:v(s,12,1.66,.4),overline:v(s,12,2.66,1,tI),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return pn({htmlFontSize:l,pxToRem:g,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:s,fontWeightMedium:o,fontWeightBold:a,...T},h,{clone:!1})}const d9=.2,h9=.14,f9=.12;function ot(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${d9})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${h9})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${f9})`].join(",")}const p9=["none",ot(0,2,1,-1,0,1,1,0,0,1,3,0),ot(0,3,1,-2,0,2,2,0,0,1,5,0),ot(0,3,3,-2,0,3,4,0,0,1,8,0),ot(0,2,4,-1,0,4,5,0,0,1,10,0),ot(0,3,5,-1,0,5,8,0,0,1,14,0),ot(0,3,5,-1,0,6,10,0,0,1,18,0),ot(0,4,5,-2,0,7,10,1,0,2,16,1),ot(0,5,5,-3,0,8,10,1,0,3,14,2),ot(0,5,6,-3,0,9,12,1,0,3,16,2),ot(0,6,6,-3,0,10,14,1,0,4,18,3),ot(0,6,7,-4,0,11,15,1,0,4,20,3),ot(0,7,8,-4,0,12,17,2,0,5,22,4),ot(0,7,8,-4,0,13,19,2,0,5,24,4),ot(0,7,9,-4,0,14,21,2,0,5,26,4),ot(0,8,9,-5,0,15,22,2,0,6,28,5),ot(0,8,10,-5,0,16,24,2,0,6,30,5),ot(0,8,11,-5,0,17,26,2,0,6,32,5),ot(0,9,11,-5,0,18,28,2,0,7,34,6),ot(0,9,12,-6,0,19,29,2,0,7,36,6),ot(0,10,13,-6,0,20,31,3,0,8,38,7),ot(0,10,13,-6,0,21,33,3,0,8,40,7),ot(0,10,14,-6,0,22,35,3,0,8,42,7),ot(0,11,14,-7,0,23,36,3,0,9,44,8),ot(0,11,15,-7,0,24,38,3,0,9,46,8)],m9={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},g9={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function rI(t){return`${Math.round(t)}ms`}function y9(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function v9(t){const e={...m9,...t.easing},n={...g9,...t.duration};return{getAutoHeightDuration:y9,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0,...c}=s;return(Array.isArray(i)?i:[i]).map(d=>`${d} ${typeof o=="string"?o:rI(o)} ${a} ${typeof l=="string"?l:rI(l)}`).join(",")},...t,easing:e,duration:n}}const _9={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function w9(t){return Fr(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function IA(t={}){const e={...t};function n(r){const i=Object.entries(r);for(let s=0;s<i.length;s++){const[o,a]=i[s];!w9(a)||o.startsWith("unstable_")?delete r[o]:Fr(a)&&(r[o]={...a},n(r[o]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function fv(t={},...e){const{breakpoints:n,mixins:r={},spacing:i,palette:s={},transitions:o={},typography:a={},shape:l,...c}=t;if(t.vars)throw new Error(bi(20));const d=pw(s),h=uw(t);let f=pn(h,{mixins:l9(h.breakpoints,r),palette:d,shadows:p9.slice(),typography:c9(d,a),transitions:v9(o),zIndex:{..._9}});return f=pn(f,c),f=e.reduce((g,v)=>pn(g,v),f),f.unstable_sxConfig={...Dc,...c==null?void 0:c.unstable_sxConfig},f.unstable_sx=function(v){return yo({sx:v,theme:this})},f.toRuntimeSource=IA,f}function pv(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const E9=[...Array(25)].map((t,e)=>{if(e===0)return"none";const n=pv(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function bA(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function xA(t){return t==="dark"?E9:[]}function S9(t){const{palette:e={mode:"light"},opacity:n,overlays:r,...i}=t,s=pw(e);return{palette:s,opacity:{...bA(s.mode),...n},overlays:r||xA(s.mode),...i}}function C9(t){var e;return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!((e=t[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const T9=t=>[...[...Array(25)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],I9=t=>(e,n)=>{const r=t.rootSelector||":root",i=t.colorSchemeSelector;let s=i;if(i==="class"&&(s=".%s"),i==="data"&&(s="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(s=`[${i}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const o={};return T9(t.cssVarPrefix).forEach(a=>{o[a]=n[a],delete n[a]}),s==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:o}}:s?{[s.replace("%s",e)]:o,[`${r}, ${s.replace("%s",e)}`]:n}:{[r]:{...n,...o}}}if(s&&s!=="media")return`${r}, ${s.replace("%s",String(e))}`}else if(e){if(s==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:n}};if(s)return s.replace("%s",String(e))}return r};function b9(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function $(t,e,n){!t[e]&&n&&(t[e]=n)}function Jl(t){return!t||!t.startsWith("hsl")?t:pA(t)}function ei(t,e){`${e}Channel`in t||(t[`${e}Channel`]=Xl(Jl(t[e]),`MUI: Can't create \`palette.${e}Channel\` because \`palette.${e}\` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color().
To suppress this warning, you need to explicitly provide the \`palette.${e}Channel\` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.`))}function x9(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const Nr=t=>{try{return t()}catch{}},R9=(t="mui")=>Qz(t);function wg(t,e,n,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!n){t[r]=S9({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:s,...o}=fv({...n,palette:{mode:i,...e==null?void 0:e.palette}});return t[r]={...e,palette:s,opacity:{...bA(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||xA(i)},o}function k9(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:s="mui",shouldSkipGeneratingVar:o=C9,colorSchemeSelector:a=n.light&&n.dark?"media":void 0,rootSelector:l=":root",...c}=t,d=Object.keys(n)[0],h=r||(n.light&&d!=="light"?"light":d),f=R9(s),{[h]:g,light:v,dark:T,...x}=n,_={...x};let w=g;if((h==="dark"&&!("dark"in n)||h==="light"&&!("light"in n))&&(w=!0),!w)throw new Error(bi(21,h));const E=wg(_,w,c,h);v&&!_.light&&wg(_,v,void 0,"light"),T&&!_.dark&&wg(_,T,void 0,"dark");let P={defaultColorScheme:h,...E,cssVarPrefix:s,colorSchemeSelector:a,rootSelector:l,getCssVar:f,colorSchemes:_,font:{...a9(E.typography),...E.font},spacing:x9(c.spacing)};Object.keys(P.colorSchemes).forEach(k=>{const m=P.colorSchemes[k].palette,C=O=>{const N=O.split("-"),W=N[1],z=N[2];return f(O,m[W][z])};if(m.mode==="light"&&($(m.common,"background","#fff"),$(m.common,"onBackground","#000")),m.mode==="dark"&&($(m.common,"background","#000"),$(m.common,"onBackground","#fff")),b9(m,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),m.mode==="light"){$(m.Alert,"errorColor",Ke(m.error.light,.6)),$(m.Alert,"infoColor",Ke(m.info.light,.6)),$(m.Alert,"successColor",Ke(m.success.light,.6)),$(m.Alert,"warningColor",Ke(m.warning.light,.6)),$(m.Alert,"errorFilledBg",C("palette-error-main")),$(m.Alert,"infoFilledBg",C("palette-info-main")),$(m.Alert,"successFilledBg",C("palette-success-main")),$(m.Alert,"warningFilledBg",C("palette-warning-main")),$(m.Alert,"errorFilledColor",Nr(()=>m.getContrastText(m.error.main))),$(m.Alert,"infoFilledColor",Nr(()=>m.getContrastText(m.info.main))),$(m.Alert,"successFilledColor",Nr(()=>m.getContrastText(m.success.main))),$(m.Alert,"warningFilledColor",Nr(()=>m.getContrastText(m.warning.main))),$(m.Alert,"errorStandardBg",Ge(m.error.light,.9)),$(m.Alert,"infoStandardBg",Ge(m.info.light,.9)),$(m.Alert,"successStandardBg",Ge(m.success.light,.9)),$(m.Alert,"warningStandardBg",Ge(m.warning.light,.9)),$(m.Alert,"errorIconColor",C("palette-error-main")),$(m.Alert,"infoIconColor",C("palette-info-main")),$(m.Alert,"successIconColor",C("palette-success-main")),$(m.Alert,"warningIconColor",C("palette-warning-main")),$(m.AppBar,"defaultBg",C("palette-grey-100")),$(m.Avatar,"defaultBg",C("palette-grey-400")),$(m.Button,"inheritContainedBg",C("palette-grey-300")),$(m.Button,"inheritContainedHoverBg",C("palette-grey-A100")),$(m.Chip,"defaultBorder",C("palette-grey-400")),$(m.Chip,"defaultAvatarColor",C("palette-grey-700")),$(m.Chip,"defaultIconColor",C("palette-grey-700")),$(m.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),$(m.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),$(m.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),$(m.LinearProgress,"primaryBg",Ge(m.primary.main,.62)),$(m.LinearProgress,"secondaryBg",Ge(m.secondary.main,.62)),$(m.LinearProgress,"errorBg",Ge(m.error.main,.62)),$(m.LinearProgress,"infoBg",Ge(m.info.main,.62)),$(m.LinearProgress,"successBg",Ge(m.success.main,.62)),$(m.LinearProgress,"warningBg",Ge(m.warning.main,.62)),$(m.Skeleton,"bg",`rgba(${C("palette-text-primaryChannel")} / 0.11)`),$(m.Slider,"primaryTrack",Ge(m.primary.main,.62)),$(m.Slider,"secondaryTrack",Ge(m.secondary.main,.62)),$(m.Slider,"errorTrack",Ge(m.error.main,.62)),$(m.Slider,"infoTrack",Ge(m.info.main,.62)),$(m.Slider,"successTrack",Ge(m.success.main,.62)),$(m.Slider,"warningTrack",Ge(m.warning.main,.62));const O=bd(m.background.default,.8);$(m.SnackbarContent,"bg",O),$(m.SnackbarContent,"color",Nr(()=>m.getContrastText(O))),$(m.SpeedDialAction,"fabHoverBg",bd(m.background.paper,.15)),$(m.StepConnector,"border",C("palette-grey-400")),$(m.StepContent,"border",C("palette-grey-400")),$(m.Switch,"defaultColor",C("palette-common-white")),$(m.Switch,"defaultDisabledColor",C("palette-grey-100")),$(m.Switch,"primaryDisabledColor",Ge(m.primary.main,.62)),$(m.Switch,"secondaryDisabledColor",Ge(m.secondary.main,.62)),$(m.Switch,"errorDisabledColor",Ge(m.error.main,.62)),$(m.Switch,"infoDisabledColor",Ge(m.info.main,.62)),$(m.Switch,"successDisabledColor",Ge(m.success.main,.62)),$(m.Switch,"warningDisabledColor",Ge(m.warning.main,.62)),$(m.TableCell,"border",Ge(Id(m.divider,1),.88)),$(m.Tooltip,"bg",Id(m.grey[700],.92))}if(m.mode==="dark"){$(m.Alert,"errorColor",Ge(m.error.light,.6)),$(m.Alert,"infoColor",Ge(m.info.light,.6)),$(m.Alert,"successColor",Ge(m.success.light,.6)),$(m.Alert,"warningColor",Ge(m.warning.light,.6)),$(m.Alert,"errorFilledBg",C("palette-error-dark")),$(m.Alert,"infoFilledBg",C("palette-info-dark")),$(m.Alert,"successFilledBg",C("palette-success-dark")),$(m.Alert,"warningFilledBg",C("palette-warning-dark")),$(m.Alert,"errorFilledColor",Nr(()=>m.getContrastText(m.error.dark))),$(m.Alert,"infoFilledColor",Nr(()=>m.getContrastText(m.info.dark))),$(m.Alert,"successFilledColor",Nr(()=>m.getContrastText(m.success.dark))),$(m.Alert,"warningFilledColor",Nr(()=>m.getContrastText(m.warning.dark))),$(m.Alert,"errorStandardBg",Ke(m.error.light,.9)),$(m.Alert,"infoStandardBg",Ke(m.info.light,.9)),$(m.Alert,"successStandardBg",Ke(m.success.light,.9)),$(m.Alert,"warningStandardBg",Ke(m.warning.light,.9)),$(m.Alert,"errorIconColor",C("palette-error-main")),$(m.Alert,"infoIconColor",C("palette-info-main")),$(m.Alert,"successIconColor",C("palette-success-main")),$(m.Alert,"warningIconColor",C("palette-warning-main")),$(m.AppBar,"defaultBg",C("palette-grey-900")),$(m.AppBar,"darkBg",C("palette-background-paper")),$(m.AppBar,"darkColor",C("palette-text-primary")),$(m.Avatar,"defaultBg",C("palette-grey-600")),$(m.Button,"inheritContainedBg",C("palette-grey-800")),$(m.Button,"inheritContainedHoverBg",C("palette-grey-700")),$(m.Chip,"defaultBorder",C("palette-grey-700")),$(m.Chip,"defaultAvatarColor",C("palette-grey-300")),$(m.Chip,"defaultIconColor",C("palette-grey-300")),$(m.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),$(m.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),$(m.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),$(m.LinearProgress,"primaryBg",Ke(m.primary.main,.5)),$(m.LinearProgress,"secondaryBg",Ke(m.secondary.main,.5)),$(m.LinearProgress,"errorBg",Ke(m.error.main,.5)),$(m.LinearProgress,"infoBg",Ke(m.info.main,.5)),$(m.LinearProgress,"successBg",Ke(m.success.main,.5)),$(m.LinearProgress,"warningBg",Ke(m.warning.main,.5)),$(m.Skeleton,"bg",`rgba(${C("palette-text-primaryChannel")} / 0.13)`),$(m.Slider,"primaryTrack",Ke(m.primary.main,.5)),$(m.Slider,"secondaryTrack",Ke(m.secondary.main,.5)),$(m.Slider,"errorTrack",Ke(m.error.main,.5)),$(m.Slider,"infoTrack",Ke(m.info.main,.5)),$(m.Slider,"successTrack",Ke(m.success.main,.5)),$(m.Slider,"warningTrack",Ke(m.warning.main,.5));const O=bd(m.background.default,.98);$(m.SnackbarContent,"bg",O),$(m.SnackbarContent,"color",Nr(()=>m.getContrastText(O))),$(m.SpeedDialAction,"fabHoverBg",bd(m.background.paper,.15)),$(m.StepConnector,"border",C("palette-grey-600")),$(m.StepContent,"border",C("palette-grey-600")),$(m.Switch,"defaultColor",C("palette-grey-300")),$(m.Switch,"defaultDisabledColor",C("palette-grey-600")),$(m.Switch,"primaryDisabledColor",Ke(m.primary.main,.55)),$(m.Switch,"secondaryDisabledColor",Ke(m.secondary.main,.55)),$(m.Switch,"errorDisabledColor",Ke(m.error.main,.55)),$(m.Switch,"infoDisabledColor",Ke(m.info.main,.55)),$(m.Switch,"successDisabledColor",Ke(m.success.main,.55)),$(m.Switch,"warningDisabledColor",Ke(m.warning.main,.55)),$(m.TableCell,"border",Ke(Id(m.divider,1),.68)),$(m.Tooltip,"bg",Id(m.grey[700],.92))}ei(m.background,"default"),ei(m.background,"paper"),ei(m.common,"background"),ei(m.common,"onBackground"),ei(m,"divider"),Object.keys(m).forEach(O=>{const N=m[O];N&&typeof N=="object"&&(N.main&&$(m[O],"mainChannel",Xl(Jl(N.main))),N.light&&$(m[O],"lightChannel",Xl(Jl(N.light))),N.dark&&$(m[O],"darkChannel",Xl(Jl(N.dark))),N.contrastText&&$(m[O],"contrastTextChannel",Xl(Jl(N.contrastText))),O==="text"&&(ei(m[O],"primary"),ei(m[O],"secondary")),O==="action"&&(N.active&&ei(m[O],"active"),N.selected&&ei(m[O],"selected")))})}),P=e.reduce((k,m)=>pn(k,m),P);const D={prefix:s,disableCssColorScheme:i,shouldSkipGeneratingVar:o,getSelector:I9(P)},{vars:M,generateThemeVars:R,generateStyleSheets:b}=Jz(P,D);return P.vars=M,Object.entries(P.colorSchemes[P.defaultColorScheme]).forEach(([k,m])=>{P[k]=m}),P.generateThemeVars=R,P.generateStyleSheets=b,P.generateSpacing=function(){return lA(c.spacing,aw(this))},P.getColorSchemeSelector=Zz(a),P.spacing=P.generateSpacing(),P.shouldSkipGeneratingVar=o,P.unstable_sxConfig={...Dc,...c==null?void 0:c.unstable_sxConfig},P.unstable_sx=function(m){return yo({sx:m,theme:this})},P.toRuntimeSource=IA,P}function iI(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:pw({...n===!0?{}:n.palette,mode:e})})}function RA(t={},...e){const{palette:n,cssVariables:r=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:s=n==null?void 0:n.mode,...o}=t,a=s||"light",l=i==null?void 0:i[a],c={...i,...n?{[a]:{...typeof l!="boolean"&&l,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in t))return fv(t,...e);let d=n;"palette"in t||c[a]&&(c[a]!==!0?d=c[a].palette:a==="dark"&&(d={mode:"dark"}));const h=fv({...t,palette:d},...e);return h.defaultColorScheme=a,h.colorSchemes=c,h.palette.mode==="light"&&(h.colorSchemes.light={...c.light!==!0&&c.light,palette:h.palette},iI(h,"dark",c.dark)),h.palette.mode==="dark"&&(h.colorSchemes.dark={...c.dark!==!0&&c.dark,palette:h.palette},iI(h,"light",c.light)),h}return!n&&!("light"in c)&&a==="light"&&(c.light=!0),k9({...o,colorSchemes:c,defaultColorScheme:a,...typeof r!="boolean"&&r},...e)}const mw=RA();function Gp(){const t=cw(mw);return t[Cp]||t}function kA(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const ur=t=>kA(t)&&t!=="classes",te=kz({themeId:Cp,defaultTheme:mw,rootShouldForwardProp:ur});function P9(t){return I.jsx(Ez,{...t,defaultTheme:mw,themeId:Cp})}function A9(t){return function(n){return I.jsx(P9,{styles:typeof t=="function"?r=>t({theme:r,...n}):t})}}function N9(){return uA}const et=Gz;function $e(t){return Kz(t)}function O9(t){return Oe("MuiSvgIcon",t)}Te("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const D9=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${le(e)}`,`fontSize${le(n)}`]};return Fe(i,O9,r)},M9=te("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${le(n.color)}`],e[`fontSize${le(n.fontSize)}`]]}})(et(({theme:t})=>{var e,n,r,i,s,o,a,l,c,d,h,f,g,v;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(e=t.transitions)==null?void 0:e.create)==null?void 0:i.call(e,"fill",{duration:(r=(n=(t.vars??t).transitions)==null?void 0:n.duration)==null?void 0:r.shorter}),variants:[{props:T=>!T.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((o=(s=t.typography)==null?void 0:s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((l=(a=t.typography)==null?void 0:a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((d=(c=t.typography)==null?void 0:c.pxToRem)==null?void 0:d.call(c,35))||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,T])=>T&&T.main).map(([T])=>{var x,_;return{props:{color:T},style:{color:(_=(x=(t.vars??t).palette)==null?void 0:x[T])==null?void 0:_.main}}}),{props:{color:"action"},style:{color:(f=(h=(t.vars??t).palette)==null?void 0:h.action)==null?void 0:f.active}},{props:{color:"disabled"},style:{color:(v=(g=(t.vars??t).palette)==null?void 0:g.action)==null?void 0:v.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),_f=S.forwardRef(function(e,n){const r=$e({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:d=!1,titleAccess:h,viewBox:f="0 0 24 24",...g}=r,v=S.isValidElement(i)&&i.type==="svg",T={...r,color:o,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:d,viewBox:f,hasSvgAsChild:v},x={};d||(x.viewBox=f);const _=D9(T);return I.jsxs(M9,{as:a,className:fe(_.root,s),focusable:"false",color:c,"aria-hidden":h?void 0:!0,role:h?"img":void 0,ref:n,...x,...g,...v&&i.props,ownerState:T,children:[v?i.props.children:i,h?I.jsx("title",{children:h}):null]})});_f&&(_f.muiName="SvgIcon");function L9(t,e){function n(r,i){return I.jsx(_f,{"data-testid":`${e}Icon`,ref:i,...r,children:t})}return n.muiName=_f.muiName,S.memo(S.forwardRef(n))}var He={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gw=Symbol.for("react.element"),yw=Symbol.for("react.portal"),Qp=Symbol.for("react.fragment"),Yp=Symbol.for("react.strict_mode"),Xp=Symbol.for("react.profiler"),Jp=Symbol.for("react.provider"),Zp=Symbol.for("react.context"),V9=Symbol.for("react.server_context"),em=Symbol.for("react.forward_ref"),tm=Symbol.for("react.suspense"),nm=Symbol.for("react.suspense_list"),rm=Symbol.for("react.memo"),im=Symbol.for("react.lazy"),F9=Symbol.for("react.offscreen"),PA;PA=Symbol.for("react.module.reference");function cr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case gw:switch(t=t.type,t){case Qp:case Xp:case Yp:case tm:case nm:return t;default:switch(t=t&&t.$$typeof,t){case V9:case Zp:case em:case im:case rm:case Jp:return t;default:return e}}case yw:return e}}}He.ContextConsumer=Zp;He.ContextProvider=Jp;He.Element=gw;He.ForwardRef=em;He.Fragment=Qp;He.Lazy=im;He.Memo=rm;He.Portal=yw;He.Profiler=Xp;He.StrictMode=Yp;He.Suspense=tm;He.SuspenseList=nm;He.isAsyncMode=function(){return!1};He.isConcurrentMode=function(){return!1};He.isContextConsumer=function(t){return cr(t)===Zp};He.isContextProvider=function(t){return cr(t)===Jp};He.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===gw};He.isForwardRef=function(t){return cr(t)===em};He.isFragment=function(t){return cr(t)===Qp};He.isLazy=function(t){return cr(t)===im};He.isMemo=function(t){return cr(t)===rm};He.isPortal=function(t){return cr(t)===yw};He.isProfiler=function(t){return cr(t)===Xp};He.isStrictMode=function(t){return cr(t)===Yp};He.isSuspense=function(t){return cr(t)===tm};He.isSuspenseList=function(t){return cr(t)===nm};He.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Qp||t===Xp||t===Yp||t===tm||t===nm||t===F9||typeof t=="object"&&t!==null&&(t.$$typeof===im||t.$$typeof===rm||t.$$typeof===Jp||t.$$typeof===Zp||t.$$typeof===em||t.$$typeof===PA||t.getModuleId!==void 0)};He.typeOf=cr;function AA(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function mv(t,e){return mv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},mv(t,e)}function NA(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,mv(t,e)}const sI={disabled:!1},wf=Er.createContext(null);var $9=function(e){return e.scrollTop},Zl="unmounted",zs="exited",Ws="entering",qo="entered",gv="exiting",Yr=function(t){NA(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=zs,s.appearStatus=Ws):l=qo:r.unmountOnExit||r.mountOnEnter?l=Zl:l=zs,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===Zl?{status:zs}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==Ws&&o!==qo&&(s=Ws):(o===Ws||o===qo)&&(s=gv)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===Ws){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:fd.findDOMNode(this);o&&$9(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===zs&&this.setState({status:Zl})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[fd.findDOMNode(this),a],c=l[0],d=l[1],h=this.getTimeouts(),f=a?h.appear:h.enter;if(!i&&!o||sI.disabled){this.safeSetState({status:qo},function(){s.props.onEntered(c)});return}this.props.onEnter(c,d),this.safeSetState({status:Ws},function(){s.props.onEntering(c,d),s.onTransitionEnd(f,function(){s.safeSetState({status:qo},function(){s.props.onEntered(c,d)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:fd.findDOMNode(this);if(!s||sI.disabled){this.safeSetState({status:zs},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:gv},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:zs},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:fd.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=l[0],d=l[1];this.props.addEndListener(c,d)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Zl)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=AA(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Er.createElement(wf.Provider,{value:null},typeof o=="function"?o(i,a):Er.cloneElement(Er.Children.only(o),a))},e}(Er.Component);Yr.contextType=wf;Yr.propTypes={};function jo(){}Yr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:jo,onEntering:jo,onEntered:jo,onExit:jo,onExiting:jo,onExited:jo};Yr.UNMOUNTED=Zl;Yr.EXITED=zs;Yr.ENTERING=Ws;Yr.ENTERED=qo;Yr.EXITING=gv;function j9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vw(t,e){var n=function(s){return e&&S.isValidElement(s)?e(s):s},r=Object.create(null);return t&&S.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function U9(t,e){t=t||{},e=e||{};function n(d){return d in e?e[d]:t[d]}var r=Object.create(null),i=[];for(var s in t)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var l in e){if(r[l])for(o=0;o<r[l].length;o++){var c=r[l][o];a[r[l][o]]=n(c)}a[l]=n(l)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function Xs(t,e,n){return n[e]!=null?n[e]:t.props[e]}function B9(t,e){return vw(t.children,function(n){return S.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:Xs(n,"appear",t),enter:Xs(n,"enter",t),exit:Xs(n,"exit",t)})})}function z9(t,e,n){var r=vw(t.children),i=U9(e,r);return Object.keys(i).forEach(function(s){var o=i[s];if(S.isValidElement(o)){var a=s in e,l=s in r,c=e[s],d=S.isValidElement(c)&&!c.props.in;l&&(!a||d)?i[s]=S.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:Xs(o,"exit",t),enter:Xs(o,"enter",t)}):!l&&a&&!d?i[s]=S.cloneElement(o,{in:!1}):l&&a&&S.isValidElement(c)&&(i[s]=S.cloneElement(o,{onExited:n.bind(null,o),in:c.props.in,exit:Xs(o,"exit",t),enter:Xs(o,"enter",t)}))}}),i}var W9=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},H9={component:"div",childFactory:function(e){return e}},_w=function(t){NA(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=s.handleExited.bind(j9(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?B9(i,a):z9(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=vw(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var l=pf({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=AA(i,["component","childFactory"]),l=this.state.contextValue,c=W9(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?Er.createElement(wf.Provider,{value:l},c):Er.createElement(wf.Provider,{value:l},Er.createElement(s,a,c))},e}(Er.Component);_w.propTypes={};_w.defaultProps=H9;const OA=t=>t.scrollTop;function Ef(t,e){const{timeout:n,easing:r,style:i={}}=t;return{duration:i.transitionDuration??(typeof n=="number"?n:n[e.mode]||0),easing:i.transitionTimingFunction??(typeof r=="object"?r[e.mode]:r),delay:i.transitionDelay}}function q9(t){return Oe("MuiPaper",t)}Te("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const K9=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,s={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return Fe(s,q9,i)},G9=te("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(et(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(t.vars||t).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),ww=S.forwardRef(function(e,n){var g;const r=$e({props:e,name:"MuiPaper"}),i=Gp(),{className:s,component:o="div",elevation:a=1,square:l=!1,variant:c="elevation",...d}=r,h={...r,component:o,elevation:a,square:l,variant:c},f=K9(h);return I.jsx(G9,{as:o,ownerState:h,className:fe(f.root,s),ref:n,...d,style:{...c==="elevation"&&{"--Paper-shadow":(i.vars||i).shadows[a],...i.vars&&{"--Paper-overlay":(g=i.vars.overlays)==null?void 0:g[a]},...!i.vars&&i.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${fn("#fff",pv(a))}, ${fn("#fff",pv(a))})`}},...d.style}})});function wr(t,e){const{className:n,elementType:r,ownerState:i,externalForwardedProps:s,getSlotOwnerState:o,internalForwardedProps:a,...l}=e,{component:c,slots:d={[t]:void 0},slotProps:h={[t]:void 0},...f}=s,g=d[t]||r,v=SA(h[t],i),{props:{component:T,...x},internalRef:_}=EA({className:n,...l,externalForwardedProps:t==="root"?f:void 0,externalSlotProps:v}),w=Ht(_,v==null?void 0:v.ref,e.ref),E=o?o(x):{},P={...i,...E},D=t==="root"?T||c:T,M=wA(g,{...t==="root"&&!c&&!d[t]&&a,...t!=="root"&&!d[t]&&a,...x,...D&&{as:D},ref:w},P);return Object.keys(E).forEach(R=>{delete M[R]}),[g,M]}class Sf{constructor(){Sl(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new Sf}static use(){const e=vA(Sf.create).current,[n,r]=S.useState(!1);return e.shouldMount=n,e.setShouldMount=r,S.useEffect(e.mountEffect,[n]),e}mount(){return this.mounted||(this.mounted=Y9(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.start(...e)})}stop(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.stop(...e)})}pulsate(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.pulsate(...e)})}}function Q9(){return Sf.use()}function Y9(){let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n}function X9(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:o,in:a,onExited:l,timeout:c}=t,[d,h]=S.useState(!1),f=fe(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),g={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},v=fe(n.child,d&&n.childLeaving,r&&n.childPulsate);return!a&&!d&&h(!0),S.useEffect(()=>{if(!a&&l!=null){const T=setTimeout(l,c);return()=>{clearTimeout(T)}}},[l,a,c]),I.jsx("span",{className:f,style:g,children:I.jsx("span",{className:v})})}const er=Te("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),yv=550,J9=80,Z9=Ac`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,eW=Ac`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,tW=Ac`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,nW=te("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),rW=te(X9,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${er.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${Z9};
    animation-duration: ${yv}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  &.${er.ripplePulsate} {
    animation-duration: ${({theme:t})=>t.transitions.duration.shorter}ms;
  }

  & .${er.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${er.childLeaving} {
    opacity: 0;
    animation-name: ${eW};
    animation-duration: ${yv}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  & .${er.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${tW};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,iW=S.forwardRef(function(e,n){const r=$e({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o,...a}=r,[l,c]=S.useState([]),d=S.useRef(0),h=S.useRef(null);S.useEffect(()=>{h.current&&(h.current(),h.current=null)},[l]);const f=S.useRef(!1),g=fw(),v=S.useRef(null),T=S.useRef(null),x=S.useCallback(P=>{const{pulsate:D,rippleX:M,rippleY:R,rippleSize:b,cb:k}=P;c(m=>[...m,I.jsx(rW,{classes:{ripple:fe(s.ripple,er.ripple),rippleVisible:fe(s.rippleVisible,er.rippleVisible),ripplePulsate:fe(s.ripplePulsate,er.ripplePulsate),child:fe(s.child,er.child),childLeaving:fe(s.childLeaving,er.childLeaving),childPulsate:fe(s.childPulsate,er.childPulsate)},timeout:yv,pulsate:D,rippleX:M,rippleY:R,rippleSize:b},d.current)]),d.current+=1,h.current=k},[s]),_=S.useCallback((P={},D={},M=()=>{})=>{const{pulsate:R=!1,center:b=i||D.pulsate,fakeElement:k=!1}=D;if((P==null?void 0:P.type)==="mousedown"&&f.current){f.current=!1;return}(P==null?void 0:P.type)==="touchstart"&&(f.current=!0);const m=k?null:T.current,C=m?m.getBoundingClientRect():{width:0,height:0,left:0,top:0};let O,N,W;if(b||P===void 0||P.clientX===0&&P.clientY===0||!P.clientX&&!P.touches)O=Math.round(C.width/2),N=Math.round(C.height/2);else{const{clientX:z,clientY:j}=P.touches&&P.touches.length>0?P.touches[0]:P;O=Math.round(z-C.left),N=Math.round(j-C.top)}if(b)W=Math.sqrt((2*C.width**2+C.height**2)/3),W%2===0&&(W+=1);else{const z=Math.max(Math.abs((m?m.clientWidth:0)-O),O)*2+2,j=Math.max(Math.abs((m?m.clientHeight:0)-N),N)*2+2;W=Math.sqrt(z**2+j**2)}P!=null&&P.touches?v.current===null&&(v.current=()=>{x({pulsate:R,rippleX:O,rippleY:N,rippleSize:W,cb:M})},g.start(J9,()=>{v.current&&(v.current(),v.current=null)})):x({pulsate:R,rippleX:O,rippleY:N,rippleSize:W,cb:M})},[i,x,g]),w=S.useCallback(()=>{_({},{pulsate:!0})},[_]),E=S.useCallback((P,D)=>{if(g.clear(),(P==null?void 0:P.type)==="touchend"&&v.current){v.current(),v.current=null,g.start(0,()=>{E(P,D)});return}v.current=null,c(M=>M.length>0?M.slice(1):M),h.current=D},[g]);return S.useImperativeHandle(n,()=>({pulsate:w,start:_,stop:E}),[w,_,E]),I.jsx(nW,{className:fe(er.root,s.root,o),ref:T,...a,children:I.jsx(_w,{component:null,exit:!0,children:l})})});function sW(t){return Oe("MuiButtonBase",t)}const oW=Te("MuiButtonBase",["root","disabled","focusVisible"]),aW=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,o=Fe({root:["root",e&&"disabled",n&&"focusVisible"]},sW,i);return n&&r&&(o.root+=` ${r}`),o},lW=te("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${oW.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),DA=S.forwardRef(function(e,n){const r=$e({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:a,component:l="button",disabled:c=!1,disableRipple:d=!1,disableTouchRipple:h=!1,focusRipple:f=!1,focusVisibleClassName:g,LinkComponent:v="a",onBlur:T,onClick:x,onContextMenu:_,onDragLeave:w,onFocus:E,onFocusVisible:P,onKeyDown:D,onKeyUp:M,onMouseDown:R,onMouseLeave:b,onMouseUp:k,onTouchEnd:m,onTouchMove:C,onTouchStart:O,tabIndex:N=0,TouchRippleProps:W,touchRippleRef:z,type:j,...Q}=r,F=S.useRef(null),H=Q9(),Y=Ht(H.ref,z),[ne,re]=S.useState(!1);c&&ne&&re(!1),S.useImperativeHandle(i,()=>({focusVisible:()=>{re(!0),F.current.focus()}}),[]);const ee=H.shouldMount&&!d&&!c;S.useEffect(()=>{ne&&f&&!d&&H.pulsate()},[d,f,ne,H]);function ce(ie,wt,Oi=h){return ci(Ye=>(wt&&wt(Ye),Oi||H[ie](Ye),!0))}const xe=ce("start",R),Pe=ce("stop",_),Ae=ce("stop",w),en=ce("stop",k),lt=ce("stop",ie=>{ne&&ie.preventDefault(),b&&b(ie)}),me=ce("start",O),Ie=ce("stop",m),ge=ce("stop",C),_t=ce("stop",ie=>{QT(ie.target)||re(!1),T&&T(ie)},!1),Se=ci(ie=>{F.current||(F.current=ie.currentTarget),QT(ie.target)&&(re(!0),P&&P(ie)),E&&E(ie)}),De=()=>{const ie=F.current;return l&&l!=="button"&&!(ie.tagName==="A"&&ie.href)},yn=ci(ie=>{f&&!ie.repeat&&ne&&ie.key===" "&&H.stop(ie,()=>{H.start(ie)}),ie.target===ie.currentTarget&&De()&&ie.key===" "&&ie.preventDefault(),D&&D(ie),ie.target===ie.currentTarget&&De()&&ie.key==="Enter"&&!c&&(ie.preventDefault(),x&&x(ie))}),In=ci(ie=>{f&&ie.key===" "&&ne&&!ie.defaultPrevented&&H.stop(ie,()=>{H.pulsate(ie)}),M&&M(ie),x&&ie.target===ie.currentTarget&&De()&&ie.key===" "&&!ie.defaultPrevented&&x(ie)});let Nt=l;Nt==="button"&&(Q.href||Q.to)&&(Nt=v);const It={};Nt==="button"?(It.type=j===void 0?"button":j,It.disabled=c):(!Q.href&&!Q.to&&(It.role="button"),c&&(It["aria-disabled"]=c));const bn=Ht(n,F),We={...r,centerRipple:s,component:l,disabled:c,disableRipple:d,disableTouchRipple:h,focusRipple:f,tabIndex:N,focusVisible:ne},dr=aW(We);return I.jsxs(lW,{as:Nt,className:fe(dr.root,a),ownerState:We,onBlur:_t,onClick:x,onContextMenu:Pe,onFocus:Se,onKeyDown:yn,onKeyUp:In,onMouseDown:xe,onMouseLeave:lt,onMouseUp:en,onDragLeave:Ae,onTouchEnd:Ie,onTouchMove:ge,onTouchStart:me,ref:bn,tabIndex:c?-1:N,type:j,...It,...Q,children:[o,ee?I.jsx(iW,{ref:Y,center:s,...W}):null]})});function uW(t){return typeof t.main=="string"}function cW(t,e=[]){if(!uW(t))return!1;for(const n of e)if(!t.hasOwnProperty(n)||typeof t[n]!="string")return!1;return!0}function xo(t=[]){return([,e])=>e&&cW(e,t)}function dW(t){return Oe("MuiTypography",t)}Te("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const hW={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},fW=N9(),pW=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:s,classes:o}=t,a={root:["root",s,t.align!=="inherit"&&`align${le(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return Fe(a,dW,o)},mW=te("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${le(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(et(({theme:t})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([n,r])=>n!=="inherit"&&r&&typeof r=="object").map(([n,r])=>({props:{variant:n},style:r})),...Object.entries(t.palette).filter(xo()).map(([n])=>({props:{color:n},style:{color:(t.vars||t).palette[n].main}})),...Object.entries(((e=t.palette)==null?void 0:e.text)||{}).filter(([,n])=>typeof n=="string").map(([n])=>({props:{color:`text${le(n)}`},style:{color:(t.vars||t).palette.text[n]}})),{props:({ownerState:n})=>n.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:n})=>n.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:n})=>n.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:n})=>n.paragraph,style:{marginBottom:16}}]}})),oI={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},aI=S.forwardRef(function(e,n){const{color:r,...i}=$e({props:e,name:"MuiTypography"}),s=!hW[r],o=fW({...i,...s&&{color:r}}),{align:a="inherit",className:l,component:c,gutterBottom:d=!1,noWrap:h=!1,paragraph:f=!1,variant:g="body1",variantMapping:v=oI,...T}=o,x={...o,align:a,color:r,className:l,component:c,gutterBottom:d,noWrap:h,paragraph:f,variant:g,variantMapping:v},_=c||(f?"p":v[g]||oI[g])||"span",w=pW(x);return I.jsx(mW,{as:_,ref:n,className:fe(w.root,l),...T,ownerState:x,style:{...a!=="inherit"&&{"--Typography-textAlign":a},...T.style}})});function gW(t){return typeof t=="function"?t():t}const yW=S.forwardRef(function(e,n){const{children:r,container:i,disablePortal:s=!1}=e,[o,a]=S.useState(null),l=Ht(S.isValidElement(r)?al(r):null,n);if(Is(()=>{s||a(gW(i)||document.body)},[i,s]),Is(()=>{if(o&&!s)return dv(n,o),()=>{dv(n,null)}},[n,o,s]),s){if(S.isValidElement(r)){const c={ref:l};return S.cloneElement(r,c)}return I.jsx(S.Fragment,{children:r})}return I.jsx(S.Fragment,{children:o&&y_.createPortal(r,o)})});function xd(t){return parseInt(t,10)||0}const vW={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function _W(t){return t==null||Object.keys(t).length===0||t.outerHeightStyle===0&&!t.overflowing}const wW=S.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:s=1,style:o,value:a,...l}=e,{current:c}=S.useRef(a!=null),d=S.useRef(null),h=Ht(n,d),f=S.useRef(null),g=S.useRef(null),v=S.useCallback(()=>{const _=d.current,E=Ri(_).getComputedStyle(_);if(E.width==="0px")return{outerHeightStyle:0,overflowing:!1};const P=g.current;P.style.width=E.width,P.value=_.value||e.placeholder||"x",P.value.slice(-1)===`
`&&(P.value+=" ");const D=E.boxSizing,M=xd(E.paddingBottom)+xd(E.paddingTop),R=xd(E.borderBottomWidth)+xd(E.borderTopWidth),b=P.scrollHeight;P.value="x";const k=P.scrollHeight;let m=b;s&&(m=Math.max(Number(s)*k,m)),i&&(m=Math.min(Number(i)*k,m)),m=Math.max(m,k);const C=m+(D==="border-box"?M+R:0),O=Math.abs(m-b)<=1;return{outerHeightStyle:C,overflowing:O}},[i,s,e.placeholder]),T=S.useCallback(()=>{const _=v();if(_W(_))return;const w=_.outerHeightStyle,E=d.current;f.current!==w&&(f.current=w,E.style.height=`${w}px`),E.style.overflow=_.overflowing?"hidden":""},[v]);Is(()=>{const _=()=>{T()};let w;const E=gA(_),P=d.current,D=Ri(P);D.addEventListener("resize",E);let M;return typeof ResizeObserver<"u"&&(M=new ResizeObserver(_),M.observe(P)),()=>{E.clear(),cancelAnimationFrame(w),D.removeEventListener("resize",E),M&&M.disconnect()}},[v,T]),Is(()=>{T()});const x=_=>{c||T(),r&&r(_)};return I.jsxs(S.Fragment,{children:[I.jsx("textarea",{value:a,onChange:x,ref:h,rows:s,style:o,...l}),I.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:g,tabIndex:-1,style:{...vW.shadow,...o,paddingTop:0,paddingBottom:0}})]})});function vv(t){return typeof t=="string"}function ll({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const Ew=S.createContext(void 0);function ul(){return S.useContext(Ew)}function lI(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function Cf(t,e=!1){return t&&(lI(t.value)&&t.value!==""||e&&lI(t.defaultValue)&&t.defaultValue!=="")}function EW(t){return t.startAdornment}function SW(t){return Oe("MuiInputBase",t)}const Wa=Te("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var uI;const sm=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${le(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},om=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},CW=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:s,focused:o,formControl:a,fullWidth:l,hiddenLabel:c,multiline:d,readOnly:h,size:f,startAdornment:g,type:v}=t,T={root:["root",`color${le(n)}`,r&&"disabled",i&&"error",l&&"fullWidth",o&&"focused",a&&"formControl",f&&f!=="medium"&&`size${le(f)}`,d&&"multiline",g&&"adornedStart",s&&"adornedEnd",c&&"hiddenLabel",h&&"readOnly"],input:["input",r&&"disabled",v==="search"&&"inputTypeSearch",d&&"inputMultiline",f==="small"&&"inputSizeSmall",c&&"inputHiddenLabel",g&&"inputAdornedStart",s&&"inputAdornedEnd",h&&"readOnly"]};return Fe(T,SW,e)},am=te("div",{name:"MuiInputBase",slot:"Root",overridesResolver:sm})(et(({theme:t})=>({...t.typography.body1,color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Wa.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:n})=>e.multiline&&n==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),lm=te("input",{name:"MuiInputBase",slot:"Input",overridesResolver:om})(et(({theme:t})=>{const e=t.palette.mode==="light",n={color:"currentColor",...t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})},r={opacity:"0 !important"},i=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Wa.formControl} &`]:{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${Wa.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},variants:[{props:({ownerState:s})=>!s.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:s})=>s.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),cI=A9({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),Sw=S.forwardRef(function(e,n){const r=$e({props:e,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:s,autoFocus:o,className:a,color:l,components:c={},componentsProps:d={},defaultValue:h,disabled:f,disableInjectingGlobalStyles:g,endAdornment:v,error:T,fullWidth:x=!1,id:_,inputComponent:w="input",inputProps:E={},inputRef:P,margin:D,maxRows:M,minRows:R,multiline:b=!1,name:k,onBlur:m,onChange:C,onClick:O,onFocus:N,onKeyDown:W,onKeyUp:z,placeholder:j,readOnly:Q,renderSuffix:F,rows:H,size:Y,slotProps:ne={},slots:re={},startAdornment:ee,type:ce="text",value:xe,...Pe}=r,Ae=E.value!=null?E.value:xe,{current:en}=S.useRef(Ae!=null),lt=S.useRef(),me=S.useCallback(Xe=>{},[]),Ie=Ht(lt,P,E.ref,me),[ge,_t]=S.useState(!1),Se=ul(),De=ll({props:r,muiFormControl:Se,states:["color","disabled","error","hiddenLabel","size","required","filled"]});De.focused=Se?Se.focused:ge,S.useEffect(()=>{!Se&&f&&ge&&(_t(!1),m&&m())},[Se,f,ge,m]);const yn=Se&&Se.onFilled,In=Se&&Se.onEmpty,Nt=S.useCallback(Xe=>{Cf(Xe)?yn&&yn():In&&In()},[yn,In]);Is(()=>{en&&Nt({value:Ae})},[Ae,Nt,en]);const It=Xe=>{N&&N(Xe),E.onFocus&&E.onFocus(Xe),Se&&Se.onFocus?Se.onFocus(Xe):_t(!0)},bn=Xe=>{m&&m(Xe),E.onBlur&&E.onBlur(Xe),Se&&Se.onBlur?Se.onBlur(Xe):_t(!1)},We=(Xe,...fr)=>{if(!en){const Di=Xe.target||lt.current;if(Di==null)throw new Error(bi(1));Nt({value:Di.value})}E.onChange&&E.onChange(Xe,...fr),C&&C(Xe,...fr)};S.useEffect(()=>{Nt(lt.current)},[]);const dr=Xe=>{lt.current&&Xe.currentTarget===Xe.target&&lt.current.focus(),O&&O(Xe)};let ie=w,wt=E;b&&ie==="input"&&(H?wt={type:void 0,minRows:H,maxRows:H,...wt}:wt={type:void 0,maxRows:M,minRows:R,...wt},ie=wW);const Oi=Xe=>{Nt(Xe.animationName==="mui-auto-fill-cancel"?lt.current:{value:"x"})};S.useEffect(()=>{Se&&Se.setAdornedStart(!!ee)},[Se,ee]);const Ye={...r,color:De.color||"primary",disabled:De.disabled,endAdornment:v,error:De.error,focused:De.focused,formControl:Se,fullWidth:x,hiddenLabel:De.hiddenLabel,multiline:b,size:De.size,startAdornment:ee,type:ce},ut=CW(Ye),Pr=re.root||c.Root||am,hr=ne.root||d.root||{},Xr=re.input||c.Input||lm;return wt={...wt,...ne.input??d.input},I.jsxs(S.Fragment,{children:[!g&&typeof cI=="function"&&(uI||(uI=I.jsx(cI,{}))),I.jsxs(Pr,{...hr,ref:n,onClick:dr,...Pe,...!vv(Pr)&&{ownerState:{...Ye,...hr.ownerState}},className:fe(ut.root,hr.className,a,Q&&"MuiInputBase-readOnly"),children:[ee,I.jsx(Ew.Provider,{value:null,children:I.jsx(Xr,{"aria-invalid":De.error,"aria-describedby":i,autoComplete:s,autoFocus:o,defaultValue:h,disabled:De.disabled,id:_,onAnimationStart:Oi,name:k,placeholder:j,readOnly:Q,required:De.required,rows:H,value:Ae,onKeyDown:W,onKeyUp:z,type:ce,...wt,...!vv(Xr)&&{as:ie,ownerState:{...Ye,...wt.ownerState}},ref:Ie,className:fe(ut.input,wt.className,Q&&"MuiInputBase-readOnly"),onBlur:bn,onChange:We,onFocus:It})}),v,F?F({...De,startAdornment:ee}):null]})]})});function TW(t){return Oe("MuiInput",t)}const Fl={...Wa,...Te("MuiInput",["root","underline","input"])};function IW(t){return Oe("MuiOutlinedInput",t)}const Or={...Wa,...Te("MuiOutlinedInput",["root","notchedOutline","input"])};function bW(t){return Oe("MuiFilledInput",t)}const Fs={...Wa,...Te("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},xW=L9(I.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),RW={entering:{opacity:1},entered:{opacity:1}},kW=S.forwardRef(function(e,n){const r=Gp(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:a,easing:l,in:c,onEnter:d,onEntered:h,onEntering:f,onExit:g,onExited:v,onExiting:T,style:x,timeout:_=i,TransitionComponent:w=Yr,...E}=e,P=S.useRef(null),D=Ht(P,al(a),n),M=W=>z=>{if(W){const j=P.current;z===void 0?W(j):W(j,z)}},R=M(f),b=M((W,z)=>{OA(W);const j=Ef({style:x,timeout:_,easing:l},{mode:"enter"});W.style.webkitTransition=r.transitions.create("opacity",j),W.style.transition=r.transitions.create("opacity",j),d&&d(W,z)}),k=M(h),m=M(T),C=M(W=>{const z=Ef({style:x,timeout:_,easing:l},{mode:"exit"});W.style.webkitTransition=r.transitions.create("opacity",z),W.style.transition=r.transitions.create("opacity",z),g&&g(W)}),O=M(v),N=W=>{s&&s(P.current,W)};return I.jsx(w,{appear:o,in:c,nodeRef:P,onEnter:b,onEntered:k,onEntering:R,onExit:C,onExited:O,onExiting:m,addEndListener:N,timeout:_,...E,children:(W,z)=>S.cloneElement(a,{style:{opacity:0,visibility:W==="exited"&&!c?"hidden":void 0,...RW[W],...x,...a.props.style},ref:D,...z})})});function PW(t){return Oe("MuiBackdrop",t)}Te("MuiBackdrop",["root","invisible"]);const AW=t=>{const{ownerState:e,...n}=t;return n},NW=t=>{const{classes:e,invisible:n}=t;return Fe({root:["root",n&&"invisible"]},PW,e)},OW=te("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),DW=S.forwardRef(function(e,n){const r=$e({props:e,name:"MuiBackdrop"}),{children:i,className:s,component:o="div",invisible:a=!1,open:l,components:c={},componentsProps:d={},slotProps:h={},slots:f={},TransitionComponent:g,transitionDuration:v,...T}=r,x={...r,component:o,invisible:a},_=NW(x),w={transition:g,root:c.Root,...f},E={...d,...h},P={slots:w,slotProps:E},[D,M]=wr("root",{elementType:OW,externalForwardedProps:P,className:fe(_.root,s),ownerState:x}),[R,b]=wr("transition",{elementType:kW,externalForwardedProps:P,ownerState:x}),k=AW(b);return I.jsx(R,{in:l,timeout:v,...T,...k,children:I.jsx(D,{"aria-hidden":!0,...M,classes:_,ref:n,children:i})})}),MW=Te("MuiBox",["root"]),LW=RA(),Rd=Tz({themeId:Cp,defaultTheme:LW,defaultClassName:MW.root,generateClassName:cA.generate});function VW(t){return Oe("MuiButton",t)}const Uo=Te("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),FW=S.createContext({}),$W=S.createContext(void 0),jW=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:s,classes:o}=t,a={root:["root",s,`${s}${le(e)}`,`size${le(i)}`,`${s}Size${le(i)}`,`color${le(e)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${le(i)}`],endIcon:["icon","endIcon",`iconSize${le(i)}`]},l=Fe(a,VW,o);return{...o,...l}},MA=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],UW=te(DA,{shouldForwardProp:t=>ur(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${le(n.color)}`],e[`size${le(n.size)}`],e[`${n.variant}Size${le(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth]}})(et(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],n=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return{...t.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${Uo.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(t.vars||t).shadows[2],"&:hover":{boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2]}},"&:active":{boxShadow:(t.vars||t).shadows[8]},[`&.${Uo.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},[`&.${Uo.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${Uo.disabled}`]:{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(t.palette).filter(xo()).map(([r])=>({props:{color:r},style:{"--variant-textColor":(t.vars||t).palette[r].main,"--variant-outlinedColor":(t.vars||t).palette[r].main,"--variant-outlinedBorder":t.vars?`rgba(${t.vars.palette[r].mainChannel} / 0.5)`:fn(t.palette[r].main,.5),"--variant-containedColor":(t.vars||t).palette[r].contrastText,"--variant-containedBg":(t.vars||t).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(t.vars||t).palette[r].dark,"--variant-textBg":t.vars?`rgba(${t.vars.palette[r].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:fn(t.palette[r].main,t.palette.action.hoverOpacity),"--variant-outlinedBorder":(t.vars||t).palette[r].main,"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette[r].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:fn(t.palette[r].main,t.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:fn(t.palette.text.primary,t.palette.action.hoverOpacity),"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:fn(t.palette.text.primary,t.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Uo.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Uo.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}}]}})),BW=te("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,e[`iconSize${le(n.size)}`]]}})({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},...MA]}),zW=te("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,e[`iconSize${le(n.size)}`]]}})({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},...MA]}),kd=S.forwardRef(function(e,n){const r=S.useContext(FW),i=S.useContext($W),s=yf(r,e),o=$e({props:s,name:"MuiButton"}),{children:a,color:l="primary",component:c="button",className:d,disabled:h=!1,disableElevation:f=!1,disableFocusRipple:g=!1,endIcon:v,focusVisibleClassName:T,fullWidth:x=!1,size:_="medium",startIcon:w,type:E,variant:P="text",...D}=o,M={...o,color:l,component:c,disabled:h,disableElevation:f,disableFocusRipple:g,fullWidth:x,size:_,type:E,variant:P},R=jW(M),b=w&&I.jsx(BW,{className:R.startIcon,ownerState:M,children:w}),k=v&&I.jsx(zW,{className:R.endIcon,ownerState:M,children:v}),m=i||"";return I.jsxs(UW,{ownerState:M,className:fe(r.className,R.root,d,m),component:c,disabled:h,focusRipple:!g,focusVisibleClassName:fe(R.focusVisible,T),ref:n,type:E,...D,classes:R,children:[b,a,k]})});function WW(t){return Oe("MuiCircularProgress",t)}Te("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Ui=44,_v=Ac`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,wv=Ac`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`,HW=typeof _v!="string"?iw`
        animation: ${_v} 1.4s linear infinite;
      `:null,qW=typeof wv!="string"?iw`
        animation: ${wv} 1.4s ease-in-out infinite;
      `:null,KW=t=>{const{classes:e,variant:n,color:r,disableShrink:i}=t,s={root:["root",n,`color${le(r)}`],svg:["svg"],circle:["circle",`circle${le(n)}`,i&&"circleDisableShrink"]};return Fe(s,WW,e)},GW=te("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${le(n.color)}`]]}})(et(({theme:t})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:HW||{animation:`${_v} 1.4s linear infinite`}},...Object.entries(t.palette).filter(xo()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}}))]}))),QW=te("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),YW=te("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${le(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(et(({theme:t})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:qW||{animation:`${wv} 1.4s ease-in-out infinite`}}]}))),XW=S.forwardRef(function(e,n){const r=$e({props:e,name:"MuiCircularProgress"}),{className:i,color:s="primary",disableShrink:o=!1,size:a=40,style:l,thickness:c=3.6,value:d=0,variant:h="indeterminate",...f}=r,g={...r,color:s,disableShrink:o,size:a,thickness:c,value:d,variant:h},v=KW(g),T={},x={},_={};if(h==="determinate"){const w=2*Math.PI*((Ui-c)/2);T.strokeDasharray=w.toFixed(3),_["aria-valuenow"]=Math.round(d),T.strokeDashoffset=`${((100-d)/100*w).toFixed(3)}px`,x.transform="rotate(-90deg)"}return I.jsx(GW,{className:fe(v.root,i),style:{width:a,height:a,...x,...l},ownerState:g,ref:n,role:"progressbar",..._,...f,children:I.jsx(QW,{className:v.svg,ownerState:g,viewBox:`${Ui/2} ${Ui/2} ${Ui} ${Ui}`,children:I.jsx(YW,{className:v.circle,style:T,ownerState:g,cx:Ui,cy:Ui,r:(Ui-c)/2,fill:"none",strokeWidth:c})})})});function dI(t){return t.substring(2).toLowerCase()}function JW(t,e){return e.documentElement.clientWidth<t.clientX||e.documentElement.clientHeight<t.clientY}function ZW(t){const{children:e,disableReactTree:n=!1,mouseEvent:r="onClick",onClickAway:i,touchEvent:s="onTouchEnd"}=t,o=S.useRef(!1),a=S.useRef(null),l=S.useRef(!1),c=S.useRef(!1);S.useEffect(()=>(setTimeout(()=>{l.current=!0},0),()=>{l.current=!1}),[]);const d=Ht(al(e),a),h=ci(v=>{const T=c.current;c.current=!1;const x=Vn(a.current);if(!l.current||!a.current||"clientX"in v&&JW(v,x))return;if(o.current){o.current=!1;return}let _;v.composedPath?_=v.composedPath().includes(a.current):_=!x.documentElement.contains(v.target)||a.current.contains(v.target),!_&&(n||!T)&&i(v)}),f=v=>T=>{c.current=!0;const x=e.props[v];x&&x(T)},g={ref:d};return s!==!1&&(g[s]=f(s)),S.useEffect(()=>{if(s!==!1){const v=dI(s),T=Vn(a.current),x=()=>{o.current=!0};return T.addEventListener(v,h),T.addEventListener("touchmove",x),()=>{T.removeEventListener(v,h),T.removeEventListener("touchmove",x)}}},[h,s]),r!==!1&&(g[r]=f(r)),S.useEffect(()=>{if(r!==!1){const v=dI(r),T=Vn(a.current);return T.addEventListener(v,h),()=>{T.removeEventListener(v,h)}}},[h,r]),I.jsx(S.Fragment,{children:S.cloneElement(e,g)})}function eH(t){const e=Vn(t);return e.body===t?Ri(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function wu(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function hI(t){return parseInt(Ri(t).getComputedStyle(t).paddingRight,10)||0}function tH(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(t.tagName),r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function fI(t,e,n,r,i){const s=[e,n,...r];[].forEach.call(t.children,o=>{const a=!s.includes(o),l=!tH(o);a&&l&&wu(o,i)})}function Eg(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function nH(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(eH(r)){const o=_A(Ri(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${hI(r)+o}px`;const a=Vn(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${hI(l)+o}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=Vn(r).body;else{const o=r.parentElement,a=Ri(r);s=(o==null?void 0:o.nodeName)==="HTML"&&a.getComputedStyle(o).overflowY==="scroll"?o:r}n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{n.forEach(({value:s,el:o,property:a})=>{s?o.style.setProperty(a,s):o.style.removeProperty(a)})}}function rH(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class iH{constructor(){this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&wu(e.modalRef,!1);const i=rH(n);fI(n,e.mount,e.modalRef,i,!0);const s=Eg(this.containers,o=>o.container===n);return s!==-1?(this.containers[s].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=Eg(this.containers,s=>s.modals.includes(e)),i=this.containers[r];i.restore||(i.restore=nH(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=Eg(this.containers,o=>o.modals.includes(e)),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&wu(e.modalRef,n),fI(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const o=s.modals[s.modals.length-1];o.modalRef&&wu(o.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const sH=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function oH(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function aH(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function lH(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||aH(t))}function uH(t){const e=[],n=[];return Array.from(t.querySelectorAll(sH)).forEach((r,i)=>{const s=oH(r);s===-1||!lH(r)||(s===0?e.push(r):n.push({documentOrder:i,tabIndex:s,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function cH(){return!0}function dH(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=uH,isEnabled:o=cH,open:a}=t,l=S.useRef(!1),c=S.useRef(null),d=S.useRef(null),h=S.useRef(null),f=S.useRef(null),g=S.useRef(!1),v=S.useRef(null),T=Ht(al(e),v),x=S.useRef(null);S.useEffect(()=>{!a||!v.current||(g.current=!n)},[n,a]),S.useEffect(()=>{if(!a||!v.current)return;const E=Vn(v.current);return v.current.contains(E.activeElement)||(v.current.hasAttribute("tabIndex")||v.current.setAttribute("tabIndex","-1"),g.current&&v.current.focus()),()=>{i||(h.current&&h.current.focus&&(l.current=!0,h.current.focus()),h.current=null)}},[a]),S.useEffect(()=>{if(!a||!v.current)return;const E=Vn(v.current),P=R=>{x.current=R,!(r||!o()||R.key!=="Tab")&&E.activeElement===v.current&&R.shiftKey&&(l.current=!0,d.current&&d.current.focus())},D=()=>{var k,m;const R=v.current;if(R===null)return;if(!E.hasFocus()||!o()||l.current){l.current=!1;return}if(R.contains(E.activeElement)||r&&E.activeElement!==c.current&&E.activeElement!==d.current)return;if(E.activeElement!==f.current)f.current=null;else if(f.current!==null)return;if(!g.current)return;let b=[];if((E.activeElement===c.current||E.activeElement===d.current)&&(b=s(v.current)),b.length>0){const C=!!((k=x.current)!=null&&k.shiftKey&&((m=x.current)==null?void 0:m.key)==="Tab"),O=b[0],N=b[b.length-1];typeof O!="string"&&typeof N!="string"&&(C?N.focus():O.focus())}else R.focus()};E.addEventListener("focusin",D),E.addEventListener("keydown",P,!0);const M=setInterval(()=>{E.activeElement&&E.activeElement.tagName==="BODY"&&D()},50);return()=>{clearInterval(M),E.removeEventListener("focusin",D),E.removeEventListener("keydown",P,!0)}},[n,r,i,o,a,s]);const _=E=>{h.current===null&&(h.current=E.relatedTarget),g.current=!0,f.current=E.target;const P=e.props.onFocus;P&&P(E)},w=E=>{h.current===null&&(h.current=E.relatedTarget),g.current=!0};return I.jsxs(S.Fragment,{children:[I.jsx("div",{tabIndex:a?0:-1,onFocus:w,ref:c,"data-testid":"sentinelStart"}),S.cloneElement(e,{ref:T,onFocus:_}),I.jsx("div",{tabIndex:a?0:-1,onFocus:w,ref:d,"data-testid":"sentinelEnd"})]})}function hH(t){return typeof t=="function"?t():t}function fH(t){return t?t.props.hasOwnProperty("in"):!1}const Pd=new iH;function pH(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:i=!1,onTransitionEnter:s,onTransitionExited:o,children:a,onClose:l,open:c,rootRef:d}=t,h=S.useRef({}),f=S.useRef(null),g=S.useRef(null),v=Ht(g,d),[T,x]=S.useState(!c),_=fH(a);let w=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(w=!1);const E=()=>Vn(f.current),P=()=>(h.current.modalRef=g.current,h.current.mount=f.current,h.current),D=()=>{Pd.mount(P(),{disableScrollLock:r}),g.current&&(g.current.scrollTop=0)},M=ci(()=>{const z=hH(e)||E().body;Pd.add(P(),z),g.current&&D()}),R=()=>Pd.isTopModal(P()),b=ci(z=>{f.current=z,z&&(c&&R()?D():g.current&&wu(g.current,w))}),k=S.useCallback(()=>{Pd.remove(P(),w)},[w]);S.useEffect(()=>()=>{k()},[k]),S.useEffect(()=>{c?M():(!_||!i)&&k()},[c,k,_,i,M]);const m=z=>j=>{var Q;(Q=z.onKeyDown)==null||Q.call(z,j),!(j.key!=="Escape"||j.which===229||!R())&&(n||(j.stopPropagation(),l&&l(j,"escapeKeyDown")))},C=z=>j=>{var Q;(Q=z.onClick)==null||Q.call(z,j),j.target===j.currentTarget&&l&&l(j,"backdropClick")};return{getRootProps:(z={})=>{const j=vf(t);delete j.onTransitionEnter,delete j.onTransitionExited;const Q={...j,...z};return{role:"presentation",...Q,onKeyDown:m(Q),ref:v}},getBackdropProps:(z={})=>{const j=z;return{"aria-hidden":!0,...j,onClick:C(j),open:c}},getTransitionProps:()=>{const z=()=>{x(!1),s&&s()},j=()=>{x(!0),o&&o(),i&&k()};return{onEnter:WT(z,a==null?void 0:a.props.onEnter),onExited:WT(j,a==null?void 0:a.props.onExited)}},rootRef:v,portalRef:b,isTopModal:R,exited:T,hasTransition:_}}function mH(t){return Oe("MuiModal",t)}Te("MuiModal",["root","hidden","backdrop"]);const gH=t=>{const{open:e,exited:n,classes:r}=t;return Fe({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},mH,r)},yH=te("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(et(({theme:t})=>({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),vH=te(DW,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),_H=S.forwardRef(function(e,n){const r=$e({name:"MuiModal",props:e}),{BackdropComponent:i=vH,BackdropProps:s,classes:o,className:a,closeAfterTransition:l=!1,children:c,container:d,component:h,components:f={},componentsProps:g={},disableAutoFocus:v=!1,disableEnforceFocus:T=!1,disableEscapeKeyDown:x=!1,disablePortal:_=!1,disableRestoreFocus:w=!1,disableScrollLock:E=!1,hideBackdrop:P=!1,keepMounted:D=!1,onBackdropClick:M,onClose:R,onTransitionEnter:b,onTransitionExited:k,open:m,slotProps:C={},slots:O={},theme:N,...W}=r,z={...r,closeAfterTransition:l,disableAutoFocus:v,disableEnforceFocus:T,disableEscapeKeyDown:x,disablePortal:_,disableRestoreFocus:w,disableScrollLock:E,hideBackdrop:P,keepMounted:D},{getRootProps:j,getBackdropProps:Q,getTransitionProps:F,portalRef:H,isTopModal:Y,exited:ne,hasTransition:re}=pH({...z,rootRef:n}),ee={...z,exited:ne},ce=gH(ee),xe={};if(c.props.tabIndex===void 0&&(xe.tabIndex="-1"),re){const{onEnter:ge,onExited:_t}=F();xe.onEnter=ge,xe.onExited=_t}const Pe={...W,slots:{root:f.Root,backdrop:f.Backdrop,...O},slotProps:{...g,...C}},[Ae,en]=wr("root",{elementType:yH,externalForwardedProps:Pe,getSlotProps:j,additionalProps:{ref:n,as:h},ownerState:ee,className:fe(a,ce==null?void 0:ce.root,!ee.open&&ee.exited&&(ce==null?void 0:ce.hidden))}),[lt,me]=wr("backdrop",{elementType:i,externalForwardedProps:Pe,additionalProps:s,getSlotProps:ge=>Q({...ge,onClick:_t=>{M&&M(_t),ge!=null&&ge.onClick&&ge.onClick(_t)}}),className:fe(s==null?void 0:s.className,ce==null?void 0:ce.backdrop),ownerState:ee}),Ie=Ht(s==null?void 0:s.ref,me.ref);return!D&&!m&&(!re||ne)?null:I.jsx(yW,{ref:H,container:d,disablePortal:_,children:I.jsxs(Ae,{...en,children:[!P&&i?I.jsx(lt,{...me,ref:Ie}):null,I.jsx(dH,{disableEnforceFocus:T,disableAutoFocus:v,disableRestoreFocus:w,isEnabled:Y,open:m,children:S.cloneElement(c,xe)})]})})}),pI=Te("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),wH=t=>{const{classes:e,disableUnderline:n,startAdornment:r,endAdornment:i,size:s,hiddenLabel:o,multiline:a}=t,l={root:["root",!n&&"underline",r&&"adornedStart",i&&"adornedEnd",s==="small"&&`size${le(s)}`,o&&"hiddenLabel",a&&"multiline"],input:["input"]},c=Fe(l,bW,e);return{...e,...c}},EH=te(am,{shouldForwardProp:t=>ur(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...sm(t,e),!n.disableUnderline&&e.underline]}})(et(({theme:t})=>{const e=t.palette.mode==="light",n=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",s=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r}},[`&.${Fs.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r},[`&.${Fs.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:s},variants:[{props:({ownerState:o})=>!o.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Fs.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Fs.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Fs.disabled}, .${Fs.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${Fs.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(xo()).map(([o])=>{var a;return{props:{disableUnderline:!1,color:o},style:{"&::after":{borderBottom:`2px solid ${(a=(t.vars||t).palette[o])==null?void 0:a.main}`}}}}),{props:({ownerState:o})=>o.startAdornment,style:{paddingLeft:12}},{props:({ownerState:o})=>o.endAdornment,style:{paddingRight:12}},{props:({ownerState:o})=>o.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:o,size:a})=>o.multiline&&a==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:o})=>o.multiline&&o.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:o})=>o.multiline&&o.hiddenLabel&&o.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),SH=te(lm,{name:"MuiFilledInput",slot:"Input",overridesResolver:om})(et(({theme:t})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&e.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),Tf=S.forwardRef(function(e,n){const r=$e({props:e,name:"MuiFilledInput"}),{disableUnderline:i=!1,components:s={},componentsProps:o,fullWidth:a=!1,hiddenLabel:l,inputComponent:c="input",multiline:d=!1,slotProps:h,slots:f={},type:g="text",...v}=r,T={...r,disableUnderline:i,fullWidth:a,inputComponent:c,multiline:d,type:g},x=wH(r),_={root:{ownerState:T},input:{ownerState:T}},w=h??o?pn(_,h??o):_,E=f.root??s.Root??EH,P=f.input??s.Input??SH;return I.jsx(Sw,{slots:{root:E,input:P},componentsProps:w,fullWidth:a,inputComponent:c,multiline:d,ref:n,type:g,...v,classes:x})});Tf&&(Tf.muiName="Input");function CH(t){return Oe("MuiFormControl",t)}Te("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const TH=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${le(n)}`,r&&"fullWidth"]};return Fe(i,CH,e)},IH=te("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>({...e.root,...e[`margin${le(t.margin)}`],...t.fullWidth&&e.fullWidth})})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),oh=S.forwardRef(function(e,n){const r=$e({props:e,name:"MuiFormControl"}),{children:i,className:s,color:o="primary",component:a="div",disabled:l=!1,error:c=!1,focused:d,fullWidth:h=!1,hiddenLabel:f=!1,margin:g="none",required:v=!1,size:T="medium",variant:x="outlined",..._}=r,w={...r,color:o,component:a,disabled:l,error:c,fullWidth:h,hiddenLabel:f,margin:g,required:v,size:T,variant:x},E=TH(w),[P,D]=S.useState(()=>{let N=!1;return i&&S.Children.forEach(i,W=>{if(!vg(W,["Input","Select"]))return;const z=vg(W,["Select"])?W.props.input:W;z&&EW(z.props)&&(N=!0)}),N}),[M,R]=S.useState(()=>{let N=!1;return i&&S.Children.forEach(i,W=>{vg(W,["Input","Select"])&&(Cf(W.props,!0)||Cf(W.props.inputProps,!0))&&(N=!0)}),N}),[b,k]=S.useState(!1);l&&b&&k(!1);const m=d!==void 0&&!l?d:b;let C;S.useRef(!1);const O=S.useMemo(()=>({adornedStart:P,setAdornedStart:D,color:o,disabled:l,error:c,filled:M,focused:m,fullWidth:h,hiddenLabel:f,size:T,onBlur:()=>{k(!1)},onEmpty:()=>{R(!1)},onFilled:()=>{R(!0)},onFocus:()=>{k(!0)},registerEffect:C,required:v,variant:x}),[P,o,l,c,M,m,h,f,C,v,T,x]);return I.jsx(Ew.Provider,{value:O,children:I.jsx(IH,{as:a,ownerState:w,className:fe(E.root,s),ref:n,..._,children:i})})});function bH(t){return Oe("MuiFormHelperText",t)}const mI=Te("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var gI;const xH=t=>{const{classes:e,contained:n,size:r,disabled:i,error:s,filled:o,focused:a,required:l}=t,c={root:["root",i&&"disabled",s&&"error",r&&`size${le(r)}`,n&&"contained",a&&"focused",o&&"filled",l&&"required"]};return Fe(c,bH,e)},RH=te("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${le(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(et(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${mI.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${mI.error}`]:{color:(t.vars||t).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),kH=S.forwardRef(function(e,n){const r=$e({props:e,name:"MuiFormHelperText"}),{children:i,className:s,component:o="p",disabled:a,error:l,filled:c,focused:d,margin:h,required:f,variant:g,...v}=r,T=ul(),x=ll({props:r,muiFormControl:T,states:["variant","size","disabled","error","filled","focused","required"]}),_={...r,component:o,contained:x.variant==="filled"||x.variant==="outlined",variant:x.variant,size:x.size,disabled:x.disabled,error:x.error,filled:x.filled,focused:x.focused,required:x.required};delete _.ownerState;const w=xH(_);return I.jsx(RH,{as:o,className:fe(w.root,s),ref:n,...v,ownerState:_,children:i===" "?gI||(gI=I.jsx("span",{className:"notranslate",children:"​"})):i})});function PH(t){return Oe("MuiFormLabel",t)}const Eu=Te("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),AH=t=>{const{classes:e,color:n,focused:r,disabled:i,error:s,filled:o,required:a}=t,l={root:["root",`color${le(n)}`,i&&"disabled",s&&"error",o&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",s&&"error"]};return Fe(l,PH,e)},NH=te("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>({...e.root,...t.color==="secondary"&&e.colorSecondary,...t.filled&&e.filled})})(et(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(t.palette).filter(xo()).map(([e])=>({props:{color:e},style:{[`&.${Eu.focused}`]:{color:(t.vars||t).palette[e].main}}})),{props:{},style:{[`&.${Eu.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Eu.error}`]:{color:(t.vars||t).palette.error.main}}}]}))),OH=te("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(et(({theme:t})=>({[`&.${Eu.error}`]:{color:(t.vars||t).palette.error.main}}))),DH=S.forwardRef(function(e,n){const r=$e({props:e,name:"MuiFormLabel"}),{children:i,className:s,color:o,component:a="label",disabled:l,error:c,filled:d,focused:h,required:f,...g}=r,v=ul(),T=ll({props:r,muiFormControl:v,states:["color","required","focused","disabled","error","filled"]}),x={...r,color:T.color||"primary",component:a,disabled:T.disabled,error:T.error,filled:T.filled,focused:T.focused,required:T.required},_=AH(x);return I.jsxs(NH,{as:a,ownerState:x,className:fe(_.root,s),ref:n,...g,children:[i,T.required&&I.jsxs(OH,{ownerState:x,"aria-hidden":!0,className:_.asterisk,children:[" ","*"]})]})});function Ev(t){return`scale(${t}, ${t**2})`}const MH={entering:{opacity:1,transform:Ev(1)},entered:{opacity:1,transform:"none"}},Sg=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),If=S.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:s,easing:o,in:a,onEnter:l,onEntered:c,onEntering:d,onExit:h,onExited:f,onExiting:g,style:v,timeout:T="auto",TransitionComponent:x=Yr,..._}=e,w=fw(),E=S.useRef(),P=Gp(),D=S.useRef(null),M=Ht(D,al(s),n),R=z=>j=>{if(z){const Q=D.current;j===void 0?z(Q):z(Q,j)}},b=R(d),k=R((z,j)=>{OA(z);const{duration:Q,delay:F,easing:H}=Ef({style:v,timeout:T,easing:o},{mode:"enter"});let Y;T==="auto"?(Y=P.transitions.getAutoHeightDuration(z.clientHeight),E.current=Y):Y=Q,z.style.transition=[P.transitions.create("opacity",{duration:Y,delay:F}),P.transitions.create("transform",{duration:Sg?Y:Y*.666,delay:F,easing:H})].join(","),l&&l(z,j)}),m=R(c),C=R(g),O=R(z=>{const{duration:j,delay:Q,easing:F}=Ef({style:v,timeout:T,easing:o},{mode:"exit"});let H;T==="auto"?(H=P.transitions.getAutoHeightDuration(z.clientHeight),E.current=H):H=j,z.style.transition=[P.transitions.create("opacity",{duration:H,delay:Q}),P.transitions.create("transform",{duration:Sg?H:H*.666,delay:Sg?Q:Q||H*.333,easing:F})].join(","),z.style.opacity=0,z.style.transform=Ev(.75),h&&h(z)}),N=R(f),W=z=>{T==="auto"&&w.start(E.current||0,z),r&&r(D.current,z)};return I.jsx(x,{appear:i,in:a,nodeRef:D,onEnter:k,onEntered:m,onEntering:b,onExit:O,onExited:N,onExiting:C,addEndListener:W,timeout:T==="auto"?null:T,..._,children:(z,j)=>S.cloneElement(s,{style:{opacity:0,transform:Ev(.75),visibility:z==="exited"&&!a?"hidden":void 0,...MH[z],...v,...s.props.style},ref:M,...j})})});If&&(If.muiSupportAuto=!0);const LH=t=>{const{classes:e,disableUnderline:n}=t,i=Fe({root:["root",!n&&"underline"],input:["input"]},TW,e);return{...e,...i}},VH=te(am,{shouldForwardProp:t=>ur(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...sm(t,e),!n.disableUnderline&&e.underline]}})(et(({theme:t})=>{let n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(n=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:r})=>r.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:r})=>!r.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Fl.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Fl.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Fl.disabled}, .${Fl.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${Fl.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(xo()).map(([r])=>({props:{color:r,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[r].main}`}}}))]}})),FH=te(lm,{name:"MuiInput",slot:"Input",overridesResolver:om})({}),bf=S.forwardRef(function(e,n){const r=$e({props:e,name:"MuiInput"}),{disableUnderline:i=!1,components:s={},componentsProps:o,fullWidth:a=!1,inputComponent:l="input",multiline:c=!1,slotProps:d,slots:h={},type:f="text",...g}=r,v=LH(r),x={root:{ownerState:{disableUnderline:i}}},_=d??o?pn(d??o,x):x,w=h.root??s.Root??VH,E=h.input??s.Input??FH;return I.jsx(Sw,{slots:{root:w,input:E},slotProps:_,fullWidth:a,inputComponent:l,multiline:c,ref:n,type:f,...g,classes:v})});bf&&(bf.muiName="Input");function $H(t){return Oe("MuiInputLabel",t)}Te("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const jH=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:s,variant:o,required:a}=t,l={root:["root",n&&"formControl",!s&&"animated",i&&"shrink",r&&r!=="normal"&&`size${le(r)}`,o],asterisk:[a&&"asterisk"]},c=Fe(l,$H,e);return{...e,...c}},UH=te(DH,{shouldForwardProp:t=>ur(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Eu.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(et(({theme:t})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:n})=>e==="filled"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:n,size:r})=>e==="filled"&&n.shrink&&r==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:n})=>e==="outlined"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),ah=S.forwardRef(function(e,n){const r=$e({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,margin:s,shrink:o,variant:a,className:l,...c}=r,d=ul();let h=o;typeof h>"u"&&d&&(h=d.filled||d.focused||d.adornedStart);const f=ll({props:r,muiFormControl:d,states:["size","variant","required","focused"]}),g={...r,disableAnimation:i,formControl:d,shrink:h,size:f.size,variant:f.variant,required:f.required,focused:f.focused},v=jH(g);return I.jsx(UH,{"data-shrink":h,ref:n,className:fe(v.root,l),...c,ownerState:g,classes:v})}),Sv=S.createContext({});function BH(t){return Oe("MuiList",t)}Te("MuiList",["root","padding","dense","subheader"]);const zH=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return Fe({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},BH,e)},WH=te("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>t.subheader,style:{paddingTop:0}}]}),HH=S.forwardRef(function(e,n){const r=$e({props:e,name:"MuiList"}),{children:i,className:s,component:o="ul",dense:a=!1,disablePadding:l=!1,subheader:c,...d}=r,h=S.useMemo(()=>({dense:a}),[a]),f={...r,component:o,dense:a,disablePadding:l},g=zH(f);return I.jsx(Sv.Provider,{value:h,children:I.jsxs(WH,{as:o,className:fe(g.root,s),ref:n,ownerState:f,...d,children:[c,i]})})}),yI=Te("MuiListItemIcon",["root","alignItemsFlexStart"]),vI=Te("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function Cg(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function _I(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function LA(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.startsWith(e.keys.join(""))}function $l(t,e,n,r,i,s){let o=!1,a=i(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(o)return!1;o=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!LA(a,s)||l)a=i(t,a,n);else return a.focus(),!0}return!1}const qH=S.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:s=!1,children:o,className:a,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:d,variant:h="selectedMenu",...f}=e,g=S.useRef(null),v=S.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Is(()=>{i&&g.current.focus()},[i]),S.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(E,{direction:P})=>{const D=!g.current.style.width;if(E.clientHeight<g.current.clientHeight&&D){const M=`${_A(Ri(E))}px`;g.current.style[P==="rtl"?"paddingLeft":"paddingRight"]=M,g.current.style.width=`calc(100% + ${M})`}return g.current}}),[]);const T=E=>{const P=g.current,D=E.key;if(E.ctrlKey||E.metaKey||E.altKey){d&&d(E);return}const R=Vn(P).activeElement;if(D==="ArrowDown")E.preventDefault(),$l(P,R,c,l,Cg);else if(D==="ArrowUp")E.preventDefault(),$l(P,R,c,l,_I);else if(D==="Home")E.preventDefault(),$l(P,null,c,l,Cg);else if(D==="End")E.preventDefault(),$l(P,null,c,l,_I);else if(D.length===1){const b=v.current,k=D.toLowerCase(),m=performance.now();b.keys.length>0&&(m-b.lastTime>500?(b.keys=[],b.repeating=!0,b.previousKeyMatched=!0):b.repeating&&k!==b.keys[0]&&(b.repeating=!1)),b.lastTime=m,b.keys.push(k);const C=R&&!b.repeating&&LA(R,b);b.previousKeyMatched&&(C||$l(P,R,!1,l,Cg,b))?E.preventDefault():b.previousKeyMatched=!1}d&&d(E)},x=Ht(g,n);let _=-1;S.Children.forEach(o,(E,P)=>{if(!S.isValidElement(E)){_===P&&(_+=1,_>=o.length&&(_=-1));return}E.props.disabled||(h==="selectedMenu"&&E.props.selected||_===-1)&&(_=P),_===P&&(E.props.disabled||E.props.muiSkipListHighlight||E.type.muiSkipListHighlight)&&(_+=1,_>=o.length&&(_=-1))});const w=S.Children.map(o,(E,P)=>{if(P===_){const D={};return s&&(D.autoFocus=!0),E.props.tabIndex===void 0&&h==="selectedMenu"&&(D.tabIndex=0),S.cloneElement(E,D)}return E});return I.jsx(HH,{role:"menu",ref:x,className:a,onKeyDown:T,tabIndex:i?0:-1,...f,children:w})});function KH(t){return Oe("MuiPopover",t)}Te("MuiPopover",["root","paper"]);function wI(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function EI(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function SI(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function Tg(t){return typeof t=="function"?t():t}const GH=t=>{const{classes:e}=t;return Fe({root:["root"],paper:["paper"]},KH,e)},QH=te(_H,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),VA=te(ww,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),YH=S.forwardRef(function(e,n){const r=$e({props:e,name:"MuiPopover"}),{action:i,anchorEl:s,anchorOrigin:o={vertical:"top",horizontal:"left"},anchorPosition:a,anchorReference:l="anchorEl",children:c,className:d,container:h,elevation:f=8,marginThreshold:g=16,open:v,PaperProps:T={},slots:x={},slotProps:_={},transformOrigin:w={vertical:"top",horizontal:"left"},TransitionComponent:E=If,transitionDuration:P="auto",TransitionProps:{onEntering:D,...M}={},disableScrollLock:R=!1,...b}=r,k=(_==null?void 0:_.paper)??T,m=S.useRef(),C={...r,anchorOrigin:o,anchorReference:l,elevation:f,marginThreshold:g,externalPaperSlotProps:k,transformOrigin:w,TransitionComponent:E,transitionDuration:P,TransitionProps:M},O=GH(C),N=S.useCallback(()=>{if(l==="anchorPosition")return a;const me=Tg(s),ge=(me&&me.nodeType===1?me:Vn(m.current).body).getBoundingClientRect();return{top:ge.top+wI(ge,o.vertical),left:ge.left+EI(ge,o.horizontal)}},[s,o.horizontal,o.vertical,a,l]),W=S.useCallback(me=>({vertical:wI(me,w.vertical),horizontal:EI(me,w.horizontal)}),[w.horizontal,w.vertical]),z=S.useCallback(me=>{const Ie={width:me.offsetWidth,height:me.offsetHeight},ge=W(Ie);if(l==="none")return{top:null,left:null,transformOrigin:SI(ge)};const _t=N();let Se=_t.top-ge.vertical,De=_t.left-ge.horizontal;const yn=Se+Ie.height,In=De+Ie.width,Nt=Ri(Tg(s)),It=Nt.innerHeight-g,bn=Nt.innerWidth-g;if(g!==null&&Se<g){const We=Se-g;Se-=We,ge.vertical+=We}else if(g!==null&&yn>It){const We=yn-It;Se-=We,ge.vertical+=We}if(g!==null&&De<g){const We=De-g;De-=We,ge.horizontal+=We}else if(In>bn){const We=In-bn;De-=We,ge.horizontal+=We}return{top:`${Math.round(Se)}px`,left:`${Math.round(De)}px`,transformOrigin:SI(ge)}},[s,l,N,W,g]),[j,Q]=S.useState(v),F=S.useCallback(()=>{const me=m.current;if(!me)return;const Ie=z(me);Ie.top!==null&&me.style.setProperty("top",Ie.top),Ie.left!==null&&(me.style.left=Ie.left),me.style.transformOrigin=Ie.transformOrigin,Q(!0)},[z]);S.useEffect(()=>(R&&window.addEventListener("scroll",F),()=>window.removeEventListener("scroll",F)),[s,R,F]);const H=(me,Ie)=>{D&&D(me,Ie),F()},Y=()=>{Q(!1)};S.useEffect(()=>{v&&F()}),S.useImperativeHandle(i,()=>v?{updatePosition:()=>{F()}}:null,[v,F]),S.useEffect(()=>{if(!v)return;const me=gA(()=>{F()}),Ie=Ri(s);return Ie.addEventListener("resize",me),()=>{me.clear(),Ie.removeEventListener("resize",me)}},[s,v,F]);let ne=P;P==="auto"&&!E.muiSupportAuto&&(ne=void 0);const re=h||(s?Vn(Tg(s)).body:void 0),ee={slots:x,slotProps:{..._,paper:k}},[ce,xe]=wr("paper",{elementType:VA,externalForwardedProps:ee,additionalProps:{elevation:f,className:fe(O.paper,k==null?void 0:k.className),style:j?k.style:{...k.style,opacity:0}},ownerState:C}),[Pe,{slotProps:Ae,...en}]=wr("root",{elementType:QH,externalForwardedProps:ee,additionalProps:{slotProps:{backdrop:{invisible:!0}},container:re,open:v},ownerState:C,className:fe(O.root,d)}),lt=Ht(m,xe.ref);return I.jsx(Pe,{...en,...!vv(Pe)&&{slotProps:Ae,disableScrollLock:R},...b,ref:n,children:I.jsx(E,{appear:!0,in:v,onEntering:H,onExited:Y,timeout:ne,...M,children:I.jsx(ce,{...xe,ref:lt,children:c})})})});function XH(t){return Oe("MuiMenu",t)}Te("MuiMenu",["root","paper","list"]);const JH={vertical:"top",horizontal:"right"},ZH={vertical:"top",horizontal:"left"},e8=t=>{const{classes:e}=t;return Fe({root:["root"],paper:["paper"],list:["list"]},XH,e)},t8=te(YH,{shouldForwardProp:t=>ur(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),n8=te(VA,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),r8=te(qH,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),i8=S.forwardRef(function(e,n){const r=$e({props:e,name:"MuiMenu"}),{autoFocus:i=!0,children:s,className:o,disableAutoFocusItem:a=!1,MenuListProps:l={},onClose:c,open:d,PaperProps:h={},PopoverClasses:f,transitionDuration:g="auto",TransitionProps:{onEntering:v,...T}={},variant:x="selectedMenu",slots:_={},slotProps:w={},...E}=r,P=Wz(),D={...r,autoFocus:i,disableAutoFocusItem:a,MenuListProps:l,onEntering:v,PaperProps:h,transitionDuration:g,TransitionProps:T,variant:x},M=e8(D),R=i&&!a&&d,b=S.useRef(null),k=(j,Q)=>{b.current&&b.current.adjustStyleForScrollbar(j,{direction:P?"rtl":"ltr"}),v&&v(j,Q)},m=j=>{j.key==="Tab"&&(j.preventDefault(),c&&c(j,"tabKeyDown"))};let C=-1;S.Children.map(s,(j,Q)=>{S.isValidElement(j)&&(j.props.disabled||(x==="selectedMenu"&&j.props.selected||C===-1)&&(C=Q))});const O=_.paper??n8,N=w.paper??h,W=hv({elementType:_.root,externalSlotProps:w.root,ownerState:D,className:[M.root,o]}),z=hv({elementType:O,externalSlotProps:N,ownerState:D,className:M.paper});return I.jsx(t8,{onClose:c,anchorOrigin:{vertical:"bottom",horizontal:P?"right":"left"},transformOrigin:P?JH:ZH,slots:{paper:O,root:_.root},slotProps:{root:W,paper:z},open:d,ref:n,transitionDuration:g,TransitionProps:{onEntering:k,...T},ownerState:D,...E,classes:f,children:I.jsx(r8,{onKeyDown:m,actions:b,autoFocus:i&&(C===-1||a),autoFocusItem:R,variant:x,...l,className:fe(M.list,l.className),children:s})})});function s8(t){return Oe("MuiMenuItem",t)}const jl=Te("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),o8=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},a8=t=>{const{disabled:e,dense:n,divider:r,disableGutters:i,selected:s,classes:o}=t,l=Fe({root:["root",n&&"dense",e&&"disabled",!i&&"gutters",r&&"divider",s&&"selected"]},s8,o);return{...o,...l}},l8=te(DA,{shouldForwardProp:t=>ur(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:o8})(et(({theme:t})=>({...t.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${jl.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:fn(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${jl.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:fn(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${jl.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:fn(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:fn(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${jl.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${jl.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${pI.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${pI.inset}`]:{marginLeft:52},[`& .${vI.root}`]:{marginTop:0,marginBottom:0},[`& .${vI.inset}`]:{paddingLeft:36},[`& .${yI.root}`]:{minWidth:36},variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>!e.dense,style:{[t.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:e})=>e.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...t.typography.body2,[`& .${yI.root} svg`]:{fontSize:"1.25rem"}}}]}))),Ul=S.forwardRef(function(e,n){const r=$e({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:s="li",dense:o=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:c,role:d="menuitem",tabIndex:h,className:f,...g}=r,v=S.useContext(Sv),T=S.useMemo(()=>({dense:o||v.dense||!1,disableGutters:l}),[v.dense,o,l]),x=S.useRef(null);Is(()=>{i&&x.current&&x.current.focus()},[i]);const _={...r,dense:T.dense,divider:a,disableGutters:l},w=a8(r),E=Ht(x,n);let P;return r.disabled||(P=h!==void 0?h:-1),I.jsx(Sv.Provider,{value:T,children:I.jsx(l8,{ref:E,role:d,tabIndex:P,component:s,focusVisibleClassName:fe(w.focusVisible,c),className:fe(w.root,f),...g,ownerState:_,classes:w})})});function u8(t){return Oe("MuiNativeSelect",t)}const Cw=Te("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),c8=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:o}=t,a={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${le(n)}`,s&&"iconOpen",r&&"disabled"]};return Fe(a,u8,e)},FA=te("select")(({theme:t})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${Cw.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},variants:[{props:({ownerState:e})=>e.variant!=="filled"&&e.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}}]})),d8=te(FA,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:ur,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${Cw.multiple}`]:e.multiple}]}})({}),$A=te("svg")(({theme:t})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${Cw.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),h8=te($A,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${le(n.variant)}`],n.open&&e.iconOpen]}})({}),f8=S.forwardRef(function(e,n){const{className:r,disabled:i,error:s,IconComponent:o,inputRef:a,variant:l="standard",...c}=e,d={...e,disabled:i,variant:l,error:s},h=c8(d);return I.jsxs(S.Fragment,{children:[I.jsx(d8,{ownerState:d,className:fe(h.select,r),disabled:i,ref:a||n,...c}),e.multiple?null:I.jsx(h8,{as:o,ownerState:d,className:h.icon})]})});var CI;const p8=te("fieldset",{shouldForwardProp:ur})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),m8=te("legend",{shouldForwardProp:ur})(et(({theme:t})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]})));function g8(t){const{children:e,classes:n,className:r,label:i,notched:s,...o}=t,a=i!=null&&i!=="",l={...t,notched:s,withLabel:a};return I.jsx(p8,{"aria-hidden":!0,className:r,ownerState:l,...o,children:I.jsx(m8,{ownerState:l,children:a?I.jsx("span",{children:i}):CI||(CI=I.jsx("span",{className:"notranslate",children:"​"}))})})}const y8=t=>{const{classes:e}=t,r=Fe({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},IW,e);return{...e,...r}},v8=te(am,{shouldForwardProp:t=>ur(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:sm})(et(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Or.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Or.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}},[`&.${Or.focused} .${Or.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(t.palette).filter(xo()).map(([n])=>({props:{color:n},style:{[`&.${Or.focused} .${Or.notchedOutline}`]:{borderColor:(t.vars||t).palette[n].main}}})),{props:{},style:{[`&.${Or.error} .${Or.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${Or.disabled} .${Or.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}}},{props:({ownerState:n})=>n.startAdornment,style:{paddingLeft:14}},{props:({ownerState:n})=>n.endAdornment,style:{paddingRight:14}},{props:({ownerState:n})=>n.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:n,size:r})=>n.multiline&&r==="small",style:{padding:"8.5px 14px"}}]}})),_8=te(g8,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(et(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}})),w8=te(lm,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:om})(et(({theme:t})=>({padding:"16.5px 14px",...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),xf=S.forwardRef(function(e,n){var r;const i=$e({props:e,name:"MuiOutlinedInput"}),{components:s={},fullWidth:o=!1,inputComponent:a="input",label:l,multiline:c=!1,notched:d,slots:h={},type:f="text",...g}=i,v=y8(i),T=ul(),x=ll({props:i,muiFormControl:T,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),_={...i,color:x.color||"primary",disabled:x.disabled,error:x.error,focused:x.focused,formControl:T,fullWidth:o,hiddenLabel:x.hiddenLabel,multiline:c,size:x.size,type:f},w=h.root??s.Root??v8,E=h.input??s.Input??w8;return I.jsx(Sw,{slots:{root:w,input:E},renderSuffix:P=>I.jsx(_8,{ownerState:_,className:v.notchedOutline,label:l!=null&&l!==""&&x.required?r||(r=I.jsxs(S.Fragment,{children:[l," ","*"]})):l,notched:typeof d<"u"?d:!!(P.startAdornment||P.filled||P.focused)}),fullWidth:o,inputComponent:a,multiline:c,ref:n,type:f,...g,classes:{...v,notchedOutline:null}})});xf&&(xf.muiName="Input");function E8(t){return Oe("MuiSelect",t)}const Bl=Te("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var TI;const S8=te(FA,{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${Bl.select}`]:e.select},{[`&.${Bl.select}`]:e[n.variant]},{[`&.${Bl.error}`]:e.error},{[`&.${Bl.multiple}`]:e.multiple}]}})({[`&.${Bl.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),C8=te($A,{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${le(n.variant)}`],n.open&&e.iconOpen]}})({}),T8=te("input",{shouldForwardProp:t=>kA(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function II(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function I8(t){return t==null||typeof t=="string"&&!t.trim()}const b8=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:o}=t,a={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${le(n)}`,s&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return Fe(a,E8,e)},x8=S.forwardRef(function(e,n){var Di;const{"aria-describedby":r,"aria-label":i,autoFocus:s,autoWidth:o,children:a,className:l,defaultOpen:c,defaultValue:d,disabled:h,displayEmpty:f,error:g=!1,IconComponent:v,inputRef:T,labelId:x,MenuProps:_={},multiple:w,name:E,onBlur:P,onChange:D,onClose:M,onFocus:R,onOpen:b,open:k,readOnly:m,renderValue:C,SelectDisplayProps:O={},tabIndex:N,type:W,value:z,variant:j="standard",...Q}=e,[F,H]=KT({controlled:z,default:d,name:"Select"}),[Y,ne]=KT({controlled:k,default:c,name:"Select"}),re=S.useRef(null),ee=S.useRef(null),[ce,xe]=S.useState(null),{current:Pe}=S.useRef(k!=null),[Ae,en]=S.useState(),lt=Ht(n,T),me=S.useCallback(oe=>{ee.current=oe,oe&&xe(oe)},[]),Ie=ce==null?void 0:ce.parentNode;S.useImperativeHandle(lt,()=>({focus:()=>{ee.current.focus()},node:re.current,value:F}),[F]),S.useEffect(()=>{c&&Y&&ce&&!Pe&&(en(o?null:Ie.clientWidth),ee.current.focus())},[ce,o]),S.useEffect(()=>{s&&ee.current.focus()},[s]),S.useEffect(()=>{if(!x)return;const oe=Vn(ee.current).getElementById(x);if(oe){const Ue=()=>{getSelection().isCollapsed&&ee.current.focus()};return oe.addEventListener("click",Ue),()=>{oe.removeEventListener("click",Ue)}}},[x]);const ge=(oe,Ue)=>{oe?b&&b(Ue):M&&M(Ue),Pe||(en(o?null:Ie.clientWidth),ne(oe))},_t=oe=>{oe.button===0&&(oe.preventDefault(),ee.current.focus(),ge(!0,oe))},Se=oe=>{ge(!1,oe)},De=S.Children.toArray(a),yn=oe=>{const Ue=De.find(Ot=>Ot.props.value===oe.target.value);Ue!==void 0&&(H(Ue.props.value),D&&D(oe,Ue))},In=oe=>Ue=>{let Ot;if(Ue.currentTarget.hasAttribute("tabindex")){if(w){Ot=Array.isArray(F)?F.slice():[];const Mi=F.indexOf(oe.props.value);Mi===-1?Ot.push(oe.props.value):Ot.splice(Mi,1)}else Ot=oe.props.value;if(oe.props.onClick&&oe.props.onClick(Ue),F!==Ot&&(H(Ot),D)){const Mi=Ue.nativeEvent||Ue,Ro=new Mi.constructor(Mi.type,Mi);Object.defineProperty(Ro,"target",{writable:!0,value:{value:Ot,name:E}}),D(Ro,oe)}w||ge(!1,Ue)}},Nt=oe=>{m||[" ","ArrowUp","ArrowDown","Enter"].includes(oe.key)&&(oe.preventDefault(),ge(!0,oe))},It=ce!==null&&Y,bn=oe=>{!It&&P&&(Object.defineProperty(oe,"target",{writable:!0,value:{value:F,name:E}}),P(oe))};delete Q["aria-invalid"];let We,dr;const ie=[];let wt=!1;(Cf({value:F})||f)&&(C?We=C(F):wt=!0);const Oi=De.map(oe=>{if(!S.isValidElement(oe))return null;let Ue;if(w){if(!Array.isArray(F))throw new Error(bi(2));Ue=F.some(Ot=>II(Ot,oe.props.value)),Ue&&wt&&ie.push(oe.props.children)}else Ue=II(F,oe.props.value),Ue&&wt&&(dr=oe.props.children);return S.cloneElement(oe,{"aria-selected":Ue?"true":"false",onClick:In(oe),onKeyUp:Ot=>{Ot.key===" "&&Ot.preventDefault(),oe.props.onKeyUp&&oe.props.onKeyUp(Ot)},role:"option",selected:Ue,value:void 0,"data-value":oe.props.value})});wt&&(w?ie.length===0?We=null:We=ie.reduce((oe,Ue,Ot)=>(oe.push(Ue),Ot<ie.length-1&&oe.push(", "),oe),[]):We=dr);let Ye=Ae;!o&&Pe&&ce&&(Ye=Ie.clientWidth);let ut;typeof N<"u"?ut=N:ut=h?null:0;const Pr=O.id||(E?`mui-component-select-${E}`:void 0),hr={...e,variant:j,value:F,open:It,error:g},Xr=b8(hr),Xe={..._.PaperProps,...(Di=_.slotProps)==null?void 0:Di.paper},fr=yA();return I.jsxs(S.Fragment,{children:[I.jsx(S8,{as:"div",ref:me,tabIndex:ut,role:"combobox","aria-controls":fr,"aria-disabled":h?"true":void 0,"aria-expanded":It?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[x,Pr].filter(Boolean).join(" ")||void 0,"aria-describedby":r,onKeyDown:Nt,onMouseDown:h||m?null:_t,onBlur:bn,onFocus:R,...O,ownerState:hr,className:fe(O.className,Xr.select,l),id:Pr,children:I8(We)?TI||(TI=I.jsx("span",{className:"notranslate",children:"​"})):We}),I.jsx(T8,{"aria-invalid":g,value:Array.isArray(F)?F.join(","):F,name:E,ref:re,"aria-hidden":!0,onChange:yn,tabIndex:-1,disabled:h,className:Xr.nativeInput,autoFocus:s,...Q,ownerState:hr}),I.jsx(C8,{as:v,className:Xr.icon,ownerState:hr}),I.jsx(i8,{id:`menu-${E||""}`,anchorEl:Ie,open:It,onClose:Se,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},..._,MenuListProps:{"aria-labelledby":x,role:"listbox","aria-multiselectable":w?"true":void 0,disableListWrap:!0,id:fr,..._.MenuListProps},slotProps:{..._.slotProps,paper:{...Xe,style:{minWidth:Ye,...Xe!=null?Xe.style:null}}},children:Oi})]})}),R8=t=>{const{classes:e}=t;return e},Tw={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>ur(t)&&t!=="variant",slot:"Root"},k8=te(bf,Tw)(""),P8=te(xf,Tw)(""),A8=te(Tf,Tw)(""),Su=S.forwardRef(function(e,n){const r=$e({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:s,classes:o={},className:a,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:d=xW,id:h,input:f,inputProps:g,label:v,labelId:T,MenuProps:x,multiple:_=!1,native:w=!1,onClose:E,onOpen:P,open:D,renderValue:M,SelectDisplayProps:R,variant:b="outlined",...k}=r,m=w?f8:x8,C=ul(),O=ll({props:r,muiFormControl:C,states:["variant","error"]}),N=O.variant||b,W={...r,variant:N,classes:o},z=R8(W),{root:j,...Q}=z,F=f||{standard:I.jsx(k8,{ownerState:W}),outlined:I.jsx(P8,{label:v,ownerState:W}),filled:I.jsx(A8,{ownerState:W})}[N],H=Ht(n,al(F));return I.jsx(S.Fragment,{children:S.cloneElement(F,{inputComponent:m,inputProps:{children:s,error:O.error,IconComponent:d,variant:N,type:void 0,multiple:_,...w?{id:h}:{autoWidth:i,defaultOpen:l,displayEmpty:c,labelId:T,MenuProps:x,onClose:E,onOpen:P,open:D,renderValue:M,SelectDisplayProps:{id:h,...R}},...g,classes:g?pn(Q,g.classes):Q,...f?f.props.inputProps:{}},...(_&&w||c)&&N==="outlined"?{notched:!0}:{},ref:H,className:fe(F.props.className,a,z.root),...!f&&{variant:N},...k})})});Su.muiName="Select";function N8(t={}){const{autoHideDuration:e=null,disableWindowBlurListener:n=!1,onClose:r,open:i,resumeHideDuration:s}=t,o=fw();S.useEffect(()=>{if(!i)return;function _(w){w.defaultPrevented||w.key==="Escape"&&(r==null||r(w,"escapeKeyDown"))}return document.addEventListener("keydown",_),()=>{document.removeEventListener("keydown",_)}},[i,r]);const a=ci((_,w)=>{r==null||r(_,w)}),l=ci(_=>{!r||_==null||o.start(_,()=>{a(null,"timeout")})});S.useEffect(()=>(i&&l(e),o.clear),[i,e,l,o]);const c=_=>{r==null||r(_,"clickaway")},d=o.clear,h=S.useCallback(()=>{e!=null&&l(s??e*.5)},[e,s,l]),f=_=>w=>{const E=_.onBlur;E==null||E(w),h()},g=_=>w=>{const E=_.onFocus;E==null||E(w),d()},v=_=>w=>{const E=_.onMouseEnter;E==null||E(w),d()},T=_=>w=>{const E=_.onMouseLeave;E==null||E(w),h()};return S.useEffect(()=>{if(!n&&i)return window.addEventListener("focus",h),window.addEventListener("blur",d),()=>{window.removeEventListener("focus",h),window.removeEventListener("blur",d)}},[n,i,h,d]),{getRootProps:(_={})=>{const w={...vf(t),...vf(_)};return{role:"presentation",..._,...w,onBlur:f(w),onFocus:g(w),onMouseEnter:v(w),onMouseLeave:T(w)}},onClickAway:c}}function O8(t){return Oe("MuiSnackbarContent",t)}Te("MuiSnackbarContent",["root","message","action"]);const D8=t=>{const{classes:e}=t;return Fe({root:["root"],action:["action"],message:["message"]},O8,e)},M8=te(ww,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(t,e)=>e.root})(et(({theme:t})=>{const e=t.palette.mode==="light"?.8:.98,n=mA(t.palette.background.default,e);return{...t.typography.body2,color:t.vars?t.vars.palette.SnackbarContent.color:t.palette.getContrastText(n),backgroundColor:t.vars?t.vars.palette.SnackbarContent.bg:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,flexGrow:1,[t.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}}})),L8=te("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(t,e)=>e.message})({padding:"8px 0"}),V8=te("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(t,e)=>e.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),F8=S.forwardRef(function(e,n){const r=$e({props:e,name:"MuiSnackbarContent"}),{action:i,className:s,message:o,role:a="alert",...l}=r,c=r,d=D8(c);return I.jsxs(M8,{role:a,square:!0,elevation:6,className:fe(d.root,s),ownerState:c,ref:n,...l,children:[I.jsx(L8,{className:d.message,ownerState:c,children:o}),i?I.jsx(V8,{className:d.action,ownerState:c,children:i}):null]})});function $8(t){return Oe("MuiSnackbar",t)}Te("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const j8=t=>{const{classes:e,anchorOrigin:n}=t,r={root:["root",`anchorOrigin${le(n.vertical)}${le(n.horizontal)}`]};return Fe(r,$8,e)},bI=te("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`anchorOrigin${le(n.anchorOrigin.vertical)}${le(n.anchorOrigin.horizontal)}`]]}})(et(({theme:t})=>({zIndex:(t.vars||t).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center",variants:[{props:({ownerState:e})=>e.anchorOrigin.vertical==="top",style:{top:8,[t.breakpoints.up("sm")]:{top:24}}},{props:({ownerState:e})=>e.anchorOrigin.vertical!=="top",style:{bottom:8,[t.breakpoints.up("sm")]:{bottom:24}}},{props:({ownerState:e})=>e.anchorOrigin.horizontal==="left",style:{justifyContent:"flex-start",[t.breakpoints.up("sm")]:{left:24,right:"auto"}}},{props:({ownerState:e})=>e.anchorOrigin.horizontal==="right",style:{justifyContent:"flex-end",[t.breakpoints.up("sm")]:{right:24,left:"auto"}}},{props:({ownerState:e})=>e.anchorOrigin.horizontal==="center",style:{[t.breakpoints.up("sm")]:{left:"50%",right:"auto",transform:"translateX(-50%)"}}}]}))),U8=S.forwardRef(function(e,n){const r=$e({props:e,name:"MuiSnackbar"}),i=Gp(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{action:o,anchorOrigin:{vertical:a,horizontal:l}={vertical:"bottom",horizontal:"left"},autoHideDuration:c=null,children:d,className:h,ClickAwayListenerProps:f,ContentProps:g,disableWindowBlurListener:v=!1,message:T,onBlur:x,onClose:_,onFocus:w,onMouseEnter:E,onMouseLeave:P,open:D,resumeHideDuration:M,TransitionComponent:R=If,transitionDuration:b=s,TransitionProps:{onEnter:k,onExited:m,...C}={},...O}=r,N={...r,anchorOrigin:{vertical:a,horizontal:l},autoHideDuration:c,disableWindowBlurListener:v,TransitionComponent:R,transitionDuration:b},W=j8(N),{getRootProps:z,onClickAway:j}=N8({...N}),[Q,F]=S.useState(!0),H=hv({elementType:bI,getSlotProps:z,externalForwardedProps:O,ownerState:N,additionalProps:{ref:n},className:[W.root,h]}),Y=re=>{F(!0),m&&m(re)},ne=(re,ee)=>{F(!1),k&&k(re,ee)};return!D&&Q?null:I.jsx(ZW,{onClickAway:j,...f,children:I.jsx(bI,{...H,children:I.jsx(R,{appear:!0,in:D,timeout:b,direction:a==="top"?"down":"up",onEnter:ne,onExited:Y,...C,children:d||I.jsx(F8,{message:T,action:o,...g})})})})}),jA=S.createContext();function B8(t){return Oe("MuiTable",t)}Te("MuiTable",["root","stickyHeader"]);const z8=t=>{const{classes:e,stickyHeader:n}=t;return Fe({root:["root",n&&"stickyHeader"]},B8,e)},W8=te("table",{name:"MuiTable",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.stickyHeader&&e.stickyHeader]}})(et(({theme:t})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...t.typography.body2,padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:({ownerState:e})=>e.stickyHeader,style:{borderCollapse:"separate"}}]}))),xI="table",H8=S.forwardRef(function(e,n){const r=$e({props:e,name:"MuiTable"}),{className:i,component:s=xI,padding:o="normal",size:a="medium",stickyHeader:l=!1,...c}=r,d={...r,component:s,padding:o,size:a,stickyHeader:l},h=z8(d),f=S.useMemo(()=>({padding:o,size:a,stickyHeader:l}),[o,a,l]);return I.jsx(jA.Provider,{value:f,children:I.jsx(W8,{as:s,role:s===xI?null:"table",ref:n,className:fe(h.root,i),ownerState:d,...c})})}),um=S.createContext();function q8(t){return Oe("MuiTableBody",t)}Te("MuiTableBody",["root"]);const K8=t=>{const{classes:e}=t;return Fe({root:["root"]},q8,e)},G8=te("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"table-row-group"}),Q8={variant:"body"},RI="tbody",Y8=S.forwardRef(function(e,n){const r=$e({props:e,name:"MuiTableBody"}),{className:i,component:s=RI,...o}=r,a={...r,component:s},l=K8(a);return I.jsx(um.Provider,{value:Q8,children:I.jsx(G8,{className:fe(l.root,i),as:s,ref:n,role:s===RI?null:"rowgroup",ownerState:a,...o})})});function X8(t){return Oe("MuiTableCell",t)}const J8=Te("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),Z8=t=>{const{classes:e,variant:n,align:r,padding:i,size:s,stickyHeader:o}=t,a={root:["root",n,o&&"stickyHeader",r!=="inherit"&&`align${le(r)}`,i!=="normal"&&`padding${le(i)}`,`size${le(s)}`]};return Fe(a,X8,e)},eq=te("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`size${le(n.size)}`],n.padding!=="normal"&&e[`padding${le(n.padding)}`],n.align!=="inherit"&&e[`align${le(n.align)}`],n.stickyHeader&&e.stickyHeader]}})(et(({theme:t})=>({...t.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?`1px solid ${t.vars.palette.TableCell.border}`:`1px solid
    ${t.palette.mode==="light"?Kp(fn(t.palette.divider,1),.88):qp(fn(t.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(t.vars||t).palette.text.primary}},{props:{variant:"footer"},style:{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${J8.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:({ownerState:e})=>e.stickyHeader,style:{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default}}]}))),Bi=S.forwardRef(function(e,n){const r=$e({props:e,name:"MuiTableCell"}),{align:i="inherit",className:s,component:o,padding:a,scope:l,size:c,sortDirection:d,variant:h,...f}=r,g=S.useContext(jA),v=S.useContext(um),T=v&&v.variant==="head";let x;o?x=o:x=T?"th":"td";let _=l;x==="td"?_=void 0:!_&&T&&(_="col");const w=h||v&&v.variant,E={...r,align:i,component:x,padding:a||(g&&g.padding?g.padding:"normal"),size:c||(g&&g.size?g.size:"medium"),sortDirection:d,stickyHeader:w==="head"&&g&&g.stickyHeader,variant:w},P=Z8(E);let D=null;return d&&(D=d==="asc"?"ascending":"descending"),I.jsx(eq,{as:x,ref:n,className:fe(P.root,s),"aria-sort":D,scope:_,ownerState:E,...f})});function tq(t){return Oe("MuiTableContainer",t)}Te("MuiTableContainer",["root"]);const nq=t=>{const{classes:e}=t;return Fe({root:["root"]},tq,e)},rq=te("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(t,e)=>e.root})({width:"100%",overflowX:"auto"}),iq=S.forwardRef(function(e,n){const r=$e({props:e,name:"MuiTableContainer"}),{className:i,component:s="div",...o}=r,a={...r,component:s},l=nq(a);return I.jsx(rq,{ref:n,as:s,className:fe(l.root,i),ownerState:a,...o})});function sq(t){return Oe("MuiTableHead",t)}Te("MuiTableHead",["root"]);const oq=t=>{const{classes:e}=t;return Fe({root:["root"]},sq,e)},aq=te("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"table-header-group"}),lq={variant:"head"},kI="thead",uq=S.forwardRef(function(e,n){const r=$e({props:e,name:"MuiTableHead"}),{className:i,component:s=kI,...o}=r,a={...r,component:s},l=oq(a);return I.jsx(um.Provider,{value:lq,children:I.jsx(aq,{as:s,className:fe(l.root,i),ref:n,role:s===kI?null:"rowgroup",ownerState:a,...o})})});function cq(t){return Oe("MuiTableRow",t)}const PI=Te("MuiTableRow",["root","selected","hover","head","footer"]),dq=t=>{const{classes:e,selected:n,hover:r,head:i,footer:s}=t;return Fe({root:["root",n&&"selected",r&&"hover",i&&"head",s&&"footer"]},cq,e)},hq=te("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.head&&e.head,n.footer&&e.footer]}})(et(({theme:t})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${PI.hover}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${PI.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:fn(t.palette.primary.main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:fn(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)}}}))),AI="tr",NI=S.forwardRef(function(e,n){const r=$e({props:e,name:"MuiTableRow"}),{className:i,component:s=AI,hover:o=!1,selected:a=!1,...l}=r,c=S.useContext(um),d={...r,component:s,hover:o,selected:a,head:c&&c.variant==="head",footer:c&&c.variant==="footer"},h=dq(d);return I.jsx(hq,{as:s,ref:n,className:fe(h.root,i),role:s===AI?null:"row",ownerState:d,...l})});function fq(t){return Oe("MuiTextField",t)}Te("MuiTextField",["root"]);const pq={standard:bf,filled:Tf,outlined:xf},mq=t=>{const{classes:e}=t;return Fe({root:["root"]},fq,e)},gq=te(oh,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Ig=S.forwardRef(function(e,n){const r=$e({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:s=!1,children:o,className:a,color:l="primary",defaultValue:c,disabled:d=!1,error:h=!1,FormHelperTextProps:f,fullWidth:g=!1,helperText:v,id:T,InputLabelProps:x,inputProps:_,InputProps:w,inputRef:E,label:P,maxRows:D,minRows:M,multiline:R=!1,name:b,onBlur:k,onChange:m,onFocus:C,placeholder:O,required:N=!1,rows:W,select:z=!1,SelectProps:j,slots:Q={},slotProps:F={},type:H,value:Y,variant:ne="outlined",...re}=r,ee={...r,autoFocus:s,color:l,disabled:d,error:h,fullWidth:g,multiline:R,required:N,select:z,variant:ne},ce=mq(ee),xe=yA(T),Pe=v&&xe?`${xe}-helper-text`:void 0,Ae=P&&xe?`${xe}-label`:void 0,en=pq[ne],lt={slots:Q,slotProps:{input:w,inputLabel:x,htmlInput:_,formHelperText:f,select:j,...F}},me={},Ie=lt.slotProps.inputLabel;ne==="outlined"&&(Ie&&typeof Ie.shrink<"u"&&(me.notched=Ie.shrink),me.label=P),z&&((!j||!j.native)&&(me.id=void 0),me["aria-describedby"]=void 0);const[ge,_t]=wr("input",{elementType:en,externalForwardedProps:lt,additionalProps:me,ownerState:ee}),[Se,De]=wr("inputLabel",{elementType:ah,externalForwardedProps:lt,ownerState:ee}),[yn,In]=wr("htmlInput",{elementType:"input",externalForwardedProps:lt,ownerState:ee}),[Nt,It]=wr("formHelperText",{elementType:kH,externalForwardedProps:lt,ownerState:ee}),[bn,We]=wr("select",{elementType:Su,externalForwardedProps:lt,ownerState:ee}),dr=I.jsx(ge,{"aria-describedby":Pe,autoComplete:i,autoFocus:s,defaultValue:c,fullWidth:g,multiline:R,name:b,rows:W,maxRows:D,minRows:M,type:H,value:Y,id:xe,inputRef:E,onBlur:k,onChange:m,onFocus:C,placeholder:O,inputProps:In,slots:{input:Q.htmlInput?yn:void 0},..._t});return I.jsxs(gq,{className:fe(ce.root,a),disabled:d,error:h,fullWidth:g,ref:n,required:N,color:l,variant:ne,ownerState:ee,...re,children:[P!=null&&P!==""&&I.jsx(Se,{htmlFor:xe,id:Ae,...De,children:P}),z?I.jsx(bn,{"aria-describedby":Pe,id:xe,labelId:Ae,value:Y,input:dr,...We,children:o}):dr,v&&I.jsx(Nt,{id:Pe,...It,children:v})]})}),yq=()=>{var z;const[t,e]=S.useState([]),[n,r]=S.useState({}),[i,s]=S.useState(""),[o,a]=S.useState(""),[l,c]=S.useState("electors"),[d,h]=S.useState(""),[f,g]=S.useState(""),[v,T]=S.useState(!1),[x,_]=S.useState([]),[w,E]=S.useState(!1),[P,D]=S.useState(""),[M,R]=S.useState(!1),[b,k]=S.useState(""),[m,C]=S.useState(!1);S.useEffect(()=>{const Q=(()=>{const H=Bn(wn(St,l));return WR(H,ne=>{const re=new Set,ee={};ne.forEach(Pe=>{const Ae=Pe.data();re.add(Ae.state),Ae.state&&(ee[Ae.state]||(ee[Ae.state]=new Set),ee[Ae.state].add(Ae.seat))});const ce=Array.from(re),xe={};Object.keys(ee).forEach(Pe=>{xe[Pe]=Array.from(ee[Pe])}),e(ce),r(xe)})})();return()=>Q()},[l]);const O=async()=>{if(i){E(!0);try{const j=l;let Q;o==="All"||!o?Q=Bn(wn(St,j),kn("state","==",i)):Q=Bn(wn(St,j),kn("state","==",i),kn("seat","==",o));const H=(await Si(Q)).docs.map(Y=>({id:Y.id,...Y.data()}));_(H)}catch(j){console.error("Error fetching users:",j),alert("Error fetching users. Please try again.")}finally{E(!1)}}},N=async()=>{if(f===""){D("New key is required.");return}if(!M&&!f){D("New key is required.");return}E(!0),D("");try{const j=l;let Q;o==="All"||!o?Q=Bn(wn(St,j),kn("state","==",i)):Q=Bn(wn(St,j),kn("state","==",i),kn("seat","==",o));const F=await Si(Q);let H=!1;for(const Y of F.docs){const ne=Y.data();if(ne.key===null||ne.key===void 0){const re=to(St,j,Y.id);await ma(re,{key:f}),k("Data updated successfully!"),C(!0)}else if(ne.key===d){H=!0;const re=to(St,j,Y.id);await ma(re,{key:f}),l==="electors"&&await ma(re,{hasVote:!1}),k("Data updated successfully!"),C(!0)}}!H&&docData.key!==null&&D("Old key does not match. Please check and try again."),O()}catch(j){console.error("Error updating data:",j),D("Error updating data. Please try again.")}finally{E(!1)}},W=()=>{s(""),a(""),_([]),h(""),g(""),T(!1),D(""),R(!1)};return S.useEffect(()=>{if(x.length>0){const j=x[0];R(j.key!==null&&j.key!==void 0)}},[x]),I.jsxs(Rd,{sx:{padding:4,maxWidth:"900px",margin:"40px auto",backgroundColor:"#f9f9f9",borderRadius:"8px",boxShadow:"0 4px 10px rgba(0, 0, 0, 0.1)",marginTop:"100px"},children:[I.jsx(aI,{variant:"h4",sx:{marginBottom:2,textAlign:"center",fontWeight:"bold",color:"#333"},children:"Admin Panel"}),I.jsxs(Rd,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},gap:2,marginBottom:3,justifyContent:"space-between"},children:[I.jsxs(oh,{sx:{minWidth:200},children:[I.jsx(ah,{children:"Data Type"}),I.jsxs(Su,{value:l,onChange:j=>c(j.target.value),children:[I.jsx(Ul,{value:"electors",children:"Electors"}),I.jsx(Ul,{value:"parties",children:"Parties"})]})]}),I.jsxs(oh,{sx:{minWidth:200},children:[I.jsx(ah,{children:"State"}),I.jsx(Su,{value:i,onChange:j=>{s(j.target.value),a("")},children:t.map(j=>I.jsx(Ul,{value:j,children:j},j))})]}),I.jsxs(oh,{sx:{minWidth:200},disabled:!i,children:[I.jsx(ah,{children:"Seat"}),I.jsxs(Su,{value:o,onChange:j=>a(j.target.value),children:[I.jsx(Ul,{value:"All",children:"All Seats"}),i&&((z=n[i])==null?void 0:z.map(j=>I.jsx(Ul,{value:j,children:j},j)))]})]})]}),l==="electors"&&I.jsx(Ig,{label:"Has Vote",value:"No",variant:"outlined",fullWidth:!0,disabled:!0,sx:{marginTop:2,backgroundColor:"#fff",borderRadius:"4px"}}),M&&I.jsx(Ig,{label:"Old Key",type:"password",variant:"outlined",fullWidth:!0,value:d,onChange:j=>h(j.target.value),sx:{marginTop:2,backgroundColor:"#fff",borderRadius:"4px"}}),I.jsx(Ig,{label:"New Key",type:"password",variant:"outlined",fullWidth:!0,value:f,onChange:j=>g(j.target.value),inputProps:{minLength:6,maxLength:10},error:f.length>0&&(f.length<6||f.length>10),helperText:f.length>0&&(f.length<6||f.length>10)?"Key must be between 6 and 10 characters":"",sx:{marginTop:2,backgroundColor:"#fff",borderRadius:"4px"}}),P&&I.jsx(aI,{color:"error",children:P})," ",I.jsxs(Rd,{sx:{marginTop:3,display:"flex",alignItems:"center",justifyContent:"center"},children:[I.jsx(kd,{variant:"contained",onClick:O,sx:{backgroundColor:"#1976d2","&:hover":{backgroundColor:"#1565c0"}},children:"Fetch Users"}),w&&I.jsx(XW,{sx:{marginLeft:2}})]}),I.jsxs(Rd,{sx:{display:"flex",gap:3,margin:4,justifyContent:"center"},children:[I.jsx(kd,{variant:"contained",color:"primary",onClick:N,sx:{backgroundColor:"#1976d2","&:hover":{backgroundColor:"#1565c0"}},children:"Update Data"}),I.jsx(kd,{variant:"outlined",onClick:W,sx:{borderColor:"#1976d2",color:"#1976d2","&:hover":{borderColor:"#1565c0",color:"#1565c0"}},children:"Close"})]}),I.jsx(iq,{component:ww,sx:{marginTop:3,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",borderRadius:"10px"},children:I.jsxs(H8,{children:[I.jsx(uq,{children:I.jsxs(NI,{sx:{backgroundColor:"#1976d2"},children:[I.jsx(Bi,{sx:{color:"#fff"},children:"ID"}),I.jsx(Bi,{sx:{color:"#fff"},children:"Name"}),I.jsx(Bi,{sx:{color:"#fff"},children:"Has Vote"}),I.jsx(Bi,{sx:{color:"#fff"},children:"Key"})]})}),I.jsx(Y8,{children:x.map(j=>I.jsxs(NI,{children:[I.jsx(Bi,{children:j.id}),I.jsx(Bi,{children:j.name}),I.jsx(Bi,{children:j.hasVote?"Yes":"No"}),I.jsx(Bi,{children:j.key?"******":"Not Set"})]},j.id))})]})}),I.jsx(U8,{open:m,autoHideDuration:6e3,onClose:()=>C(!1),message:b,action:I.jsx(kd,{color:"secondary",size:"small",onClick:()=>C(!1),children:"Close"})})]})},vq=()=>{const t=Ya();return I.jsxs("div",{className:"container",children:[I.jsx("h1",{children:"Welcome Voter To Registration Page... "}),I.jsxs("div",{className:"button-cover",children:[I.jsx("button",{className:"button1",onClick:()=>t("/FinalYearProject/register-electoral"),children:"Elector Registar"}),I.jsx("button",{className:"button1",onClick:()=>t("/FinalYearProject/update-elector"),children:"Update Elector"})]})]})},_q=()=>{const t=Ya();return I.jsxs("div",{className:"container",children:[I.jsx("h1",{children:"Welcom To Admin Private Page..."}),I.jsxs("div",{className:"button-cover",children:[I.jsx("button",{className:"button1",onClick:()=>t("/FinalYearProject/admin-panel"),children:"Admin Page"}),I.jsx("button",{className:"button1",onClick:()=>t("/FinalYearProject/vote-count"),children:"Vote Count"})]})]})},wq=()=>{const[t,e]=S.useState(localStorage.getItem("electionKey")||""),[n,r]=S.useState(JSON.parse(localStorage.getItem("parties"))||[]),[i,s]=S.useState(JSON.parse(localStorage.getItem("testVotes"))||{}),[o,a]=S.useState(!1),[l,c]=S.useState(localStorage.getItem("hasVoted")==="true"||!1),[d,h]=S.useState(!1),[f,g]=S.useState(""),[v,T]=S.useState(!1);S.useEffect(()=>{if(!t)return;(async()=>{const M=Bn(wn(St,"parties"),kn("key","==",t));try{const b=(await Si(M)).docs.map(k=>({id:k.id,...k.data()}));r(b),localStorage.setItem("parties",JSON.stringify(b))}catch(R){console.error("Error fetching parties:",R)}})()},[t]),S.useEffect(()=>{t&&localStorage.setItem("electionKey",t)},[t]),S.useEffect(()=>{Object.keys(i).length>0&&localStorage.setItem("testVotes",JSON.stringify(i))},[i]),S.useEffect(()=>{localStorage.setItem("hasVoted",l)},[l]);const x=D=>{const M={...i};M[D]=(M[D]||0)+1,s(M),T(!0),c(!0)},_=()=>{a(!0),h(!1)},w=()=>{f===t?(r([]),s({}),c(!1),a(!1),localStorage.removeItem("parties"),localStorage.removeItem("testVotes"),localStorage.removeItem("hasVoted"),console.log("Data reset successfully")):alert("Incorrect election key! Please try again.")},E=()=>{a(!1),h(!1)},P=()=>{T(!1)};return I.jsxs("div",{className:"test-vote-container",children:[I.jsx("h2",{children:"Test Vote Dashboard"}),!l&&!n.length&&I.jsxs("div",{className:"election-key-input",children:[I.jsx("label",{htmlFor:"electionKey",children:"Enter Election Key:"}),I.jsx("input",{type:"password",id:"electionKey",value:t,onChange:D=>e(D.target.value),required:!0,placeholder:"Enter election key"})]}),t&&n.length>0&&I.jsxs("div",{className:"parties-container",children:[I.jsx("h3",{children:"Select a Party to Test Vote:"}),n.map(D=>I.jsxs("div",{className:"party-card",children:[I.jsx("img",{src:D.imageUrl,alt:D.name,width:"100",height:"100"}),I.jsxs("div",{className:"detail-con",children:[I.jsx("h4",{children:D.name}),I.jsxs("p",{children:["Party: ",D.partyName]})]}),I.jsx("button",{onClick:()=>x(D.id),children:"Test Vote"})]},D.id))]}),n.length>0&&I.jsxs("div",{className:"vote-results",children:[I.jsx("h3",{className:"results-title",children:"Test Vote Results"}),I.jsx("div",{className:"test-cont",children:n.map(D=>I.jsxs("div",{className:"party-item",children:[I.jsx("p",{className:"party-name",children:D.name}),I.jsxs("p",{className:"vote-count2",children:[i[D.id]||0," -votes"]})]},D.id))})]}),v&&I.jsx("div",{className:"popup-overlay",children:I.jsxs("div",{className:"popup-contents",children:[I.jsx("h4",{className:"succ",children:"Vote Successful!"}),I.jsx("button",{onClick:P,className:"ok-button",children:"OK"})]})}),o&&!d&&I.jsx("div",{className:"popup-overlay",children:I.jsxs("div",{className:"popup-contents",children:[I.jsx("h3",{children:"Are you sure you want to reset? This action cannot be undone."}),I.jsx("button",{onClick:E,className:"cancel-button",children:"Cancel"}),I.jsx("button",{onClick:()=>h(!0),className:"yes-button",children:"Yes, Reset"})]})}),d&&I.jsx("div",{className:"popup-overlay",children:I.jsxs("div",{className:"popup-contents",children:[I.jsx("h3",{children:"Please Enter Election Key to Confirm Reset:"}),I.jsx("input",{type:"password",value:f,onChange:D=>g(D.target.value),placeholder:"Enter Election Key",required:!0}),I.jsx("button",{onClick:w,className:"ok-buttons",children:"Confirm Reset"}),I.jsx("button",{onClick:E,className:"cancel-button",children:"Cancel"})]})}),t&&n.length===0&&I.jsx("p",{children:"No parties found for the given election key. Please try again."}),I.jsx("div",{className:"reset-container",children:I.jsx("button",{onClick:_,className:"reset-button",children:"Reset"})})]})},Eq=()=>{const t=Ya();return I.jsxs("div",{className:"container",children:[I.jsx("h1",{children:"Welcome Voter To Voting Page... "}),I.jsxs("div",{className:"button-cover",children:[I.jsx("button",{className:"button1",onClick:()=>t("/FinalYearProject/vote"),children:"Main Voting"}),I.jsx("button",{className:"button1",onClick:()=>t("/FinalYearProject/test-vote"),children:"Test Voting"})]})]})},Sq=()=>{const[t,e]=S.useState(!1),n=()=>{e(!t)},r=()=>{e(!1)};return I.jsxs(aM,{children:[I.jsxs("header",{className:"navbar",children:[I.jsx("div",{className:"navbar-logo",children:I.jsx("h1",{children:"WZ"})}),I.jsxs("div",{className:`menu-icon ${t?"open":""}`,onClick:n,"aria-label":"Menu Toggle","aria-expanded":t,role:"button",children:[I.jsx("span",{}),I.jsx("span",{}),I.jsx("span",{})]}),I.jsx("nav",{className:`nav-links ${t?"open":""}`,children:I.jsxs("ul",{children:[I.jsx("li",{children:I.jsx(Hs,{to:"/FinalYearProject/",onClick:r,children:"Home"})}),I.jsx("li",{children:I.jsx(Hs,{to:"/FinalYearProject/electoral-page",onClick:r,children:"Electoral Page"})}),I.jsx("li",{children:I.jsx(Hs,{to:"/FinalYearProject/register-parties",onClick:r,children:"Political Parties "})}),I.jsx("li",{children:I.jsx(Hs,{to:"/FinalYearProject/vote-route",onClick:r,children:"Vote"})}),I.jsx("li",{children:I.jsx(Hs,{to:"/FinalYearProject/private",onClick:r,children:"Private"})})]})})]}),I.jsx("main",{children:I.jsxs(V2,{children:[I.jsx(Zn,{path:"/FinalYearProject/",element:I.jsx(Cq,{})}),I.jsx(Zn,{path:"/FinalYearProject/register-electoral",element:I.jsx(u3,{})}),I.jsx(Zn,{path:"/FinalYearProject/update-elector",element:I.jsx(c3,{})}),I.jsx(Zn,{path:"/FinalYearProject/register-parties",element:I.jsx(d3,{})}),I.jsx(Zn,{path:"/FinalYearProject/vote",element:I.jsx(h3,{})}),I.jsx(Zn,{path:"/FinalYearProject/vote-count",element:I.jsx(f3,{})}),I.jsx(Zn,{path:"/FinalYearProject/admin-panel",element:I.jsx(yq,{})}),I.jsx(Zn,{path:"/FinalYearProject/electoral-page",element:I.jsx(vq,{})}),I.jsx(Zn,{path:"/FinalYearProject/private",element:I.jsx(_q,{})}),I.jsx(Zn,{path:"/FinalYearProject/test-vote",element:I.jsx(wq,{})}),I.jsx(Zn,{path:"/FinalYearProject/vote-route",element:I.jsx(Eq,{})})]})}),I.jsx("footer",{children:I.jsx("p",{children:"© 2024 Wasif Zafar. All rights reserved."})})]})},Cq=()=>I.jsxs("div",{className:"home",children:[I.jsx("h2",{children:"Welcome to the new election system."}),I.jsx("p",{children:"Select a page from the menu to get started."})]}),Tq=xg.createRoot(document.getElementById("root"));Tq.render(I.jsx(Er.StrictMode,{children:I.jsx(Sq,{})}));
